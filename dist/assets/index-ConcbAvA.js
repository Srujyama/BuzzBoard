(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function $g(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nc={exports:{}},jr={};var Zm;function lv(){if(Zm)return jr;Zm=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var h in u)h!=="key"&&(c[h]=u[h])}else c=u;return u=c.ref,{$$typeof:i,type:l,key:f,ref:u!==void 0?u:null,props:c}}return jr.Fragment=a,jr.jsx=r,jr.jsxs=r,jr}var Pm;function ov(){return Pm||(Pm=1,nc.exports=lv()),nc.exports}var p=ov(),ic={exports:{}},re={};var Wm;function uv(){if(Wm)return re;Wm=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function C(O,G,X){this.props=O,this.context=G,this.refs=T,this.updater=X||R}C.prototype.isReactComponent={},C.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function M(){}M.prototype=C.prototype;function U(O,G,X){this.props=O,this.context=G,this.refs=T,this.updater=X||R}var V=U.prototype=new M;V.constructor=U,j(V,C.prototype),V.isPureReactComponent=!0;var Y=Array.isArray;function J(){}var K={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function ye(O,G,X){var P=X.ref;return{$$typeof:i,type:O,key:G,ref:P!==void 0?P:null,props:X}}function Z(O,G){return ye(O.type,G,O.props)}function De(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function Ce(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return G[X]})}var ft=/\/+/g;function Qt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?Ce(""+O.key):G.toString(36)}function tt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(J,J):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,G,X,P,se){var ce=typeof O;(ce==="undefined"||ce==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case a:we=!0;break;case v:return we=O._init,q(we(O._payload),G,X,P,se)}}if(we)return se=se(O),we=P===""?"."+Qt(O,0):P,Y(se)?(X="",we!=null&&(X=we.replace(ft,"$&/")+"/"),q(se,G,X,"",function(Di){return Di})):se!=null&&(De(se)&&(se=Z(se,X+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(ft,"$&/")+"/")+we)),G.push(se)),1;we=0;var ct=P===""?".":P+":";if(Y(O))for(var Ge=0;Ge<O.length;Ge++)P=O[Ge],ce=ct+Qt(P,Ge),we+=q(P,G,X,ce,se);else if(Ge=x(O),typeof Ge=="function")for(O=Ge.call(O),Ge=0;!(P=O.next()).done;)P=P.value,ce=ct+Qt(P,Ge++),we+=q(P,G,X,ce,se);else if(ce==="object"){if(typeof O.then=="function")return q(tt(O),G,X,P,se);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return we}function Q(O,G,X){if(O==null)return O;var P=[],se=0;return q(O,P,"","",function(ce){return G.call(X,ce,se++)}),P}function ie(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Oe={map:Q,forEach:function(O,G,X){Q(O,function(){G.apply(this,arguments)},X)},count:function(O){var G=0;return Q(O,function(){G++}),G},toArray:function(O){return Q(O,function(G){return G})||[]},only:function(O){if(!De(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return re.Activity=_,re.Children=Oe,re.Component=C,re.Fragment=r,re.Profiler=u,re.PureComponent=U,re.StrictMode=l,re.Suspense=g,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return K.H.useMemoCache(O)}},re.cache=function(O){return function(){return O.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(O,G,X){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var P=j({},O.props),se=O.key;if(G!=null)for(ce in G.key!==void 0&&(se=""+G.key),G)!ue.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||(P[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)P.children=X;else if(1<ce){for(var we=Array(ce),ct=0;ct<ce;ct++)we[ct]=arguments[ct+2];P.children=we}return ye(O.type,se,P)},re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},re.createElement=function(O,G,X){var P,se={},ce=null;if(G!=null)for(P in G.key!==void 0&&(ce=""+G.key),G)ue.call(G,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(se[P]=G[P]);var we=arguments.length-2;if(we===1)se.children=X;else if(1<we){for(var ct=Array(we),Ge=0;Ge<we;Ge++)ct[Ge]=arguments[Ge+2];se.children=ct}if(O&&O.defaultProps)for(P in we=O.defaultProps,we)se[P]===void 0&&(se[P]=we[P]);return ye(O,ce,se)},re.createRef=function(){return{current:null}},re.forwardRef=function(O){return{$$typeof:h,render:O}},re.isValidElement=De,re.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ie}},re.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},re.startTransition=function(O){var G=K.T,X={};K.T=X;try{var P=O(),se=K.S;se!==null&&se(X,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(J,Ee)}catch(ce){Ee(ce)}finally{G!==null&&X.types!==null&&(G.types=X.types),K.T=G}},re.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},re.use=function(O){return K.H.use(O)},re.useActionState=function(O,G,X){return K.H.useActionState(O,G,X)},re.useCallback=function(O,G){return K.H.useCallback(O,G)},re.useContext=function(O){return K.H.useContext(O)},re.useDebugValue=function(){},re.useDeferredValue=function(O,G){return K.H.useDeferredValue(O,G)},re.useEffect=function(O,G){return K.H.useEffect(O,G)},re.useEffectEvent=function(O){return K.H.useEffectEvent(O)},re.useId=function(){return K.H.useId()},re.useImperativeHandle=function(O,G,X){return K.H.useImperativeHandle(O,G,X)},re.useInsertionEffect=function(O,G){return K.H.useInsertionEffect(O,G)},re.useLayoutEffect=function(O,G){return K.H.useLayoutEffect(O,G)},re.useMemo=function(O,G){return K.H.useMemo(O,G)},re.useOptimistic=function(O,G){return K.H.useOptimistic(O,G)},re.useReducer=function(O,G,X){return K.H.useReducer(O,G,X)},re.useRef=function(O){return K.H.useRef(O)},re.useState=function(O){return K.H.useState(O)},re.useSyncExternalStore=function(O,G,X){return K.H.useSyncExternalStore(O,G,X)},re.useTransition=function(){return K.H.useTransition()},re.version="19.2.4",re}var Fm;function Lc(){return Fm||(Fm=1,ic.exports=uv()),ic.exports}var E=Lc();const cv=$g(E);var rc={exports:{}},Or={},sc={exports:{}},lc={};var eg;function dv(){return eg||(eg=1,(function(i){function a(q,Q){var ie=q.length;q.push(Q);e:for(;0<ie;){var Ee=ie-1>>>1,Oe=q[Ee];if(0<u(Oe,Q))q[Ee]=Q,q[ie]=Oe,ie=Ee;else break e}}function r(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var Q=q[0],ie=q.pop();if(ie!==Q){q[0]=ie;e:for(var Ee=0,Oe=q.length,O=Oe>>>1;Ee<O;){var G=2*(Ee+1)-1,X=q[G],P=G+1,se=q[P];if(0>u(X,ie))P<Oe&&0>u(se,X)?(q[Ee]=se,q[P]=ie,Ee=P):(q[Ee]=X,q[G]=ie,Ee=G);else if(P<Oe&&0>u(se,ie))q[Ee]=se,q[P]=ie,Ee=P;else break e}}return Q}function u(q,Q){var ie=q.sortIndex-Q.sortIndex;return ie!==0?ie:q.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var g=[],y=[],v=1,_=null,w=3,x=!1,R=!1,j=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(q){for(var Q=r(y);Q!==null;){if(Q.callback===null)l(y);else if(Q.startTime<=q)l(y),Q.sortIndex=Q.expirationTime,a(g,Q);else break;Q=r(y)}}function Y(q){if(j=!1,V(q),!R)if(r(g)!==null)R=!0,J||(J=!0,Ce());else{var Q=r(y);Q!==null&&tt(Y,Q.startTime-q)}}var J=!1,K=-1,ue=5,ye=-1;function Z(){return T?!0:!(i.unstable_now()-ye<ue)}function De(){if(T=!1,J){var q=i.unstable_now();ye=q;var Q=!0;try{e:{R=!1,j&&(j=!1,M(K),K=-1),x=!0;var ie=w;try{t:{for(V(q),_=r(g);_!==null&&!(_.expirationTime>q&&Z());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,w=_.priorityLevel;var Oe=Ee(_.expirationTime<=q);if(q=i.unstable_now(),typeof Oe=="function"){_.callback=Oe,V(q),Q=!0;break t}_===r(g)&&l(g),V(q)}else l(g);_=r(g)}if(_!==null)Q=!0;else{var O=r(y);O!==null&&tt(Y,O.startTime-q),Q=!1}}break e}finally{_=null,w=ie,x=!1}Q=void 0}}finally{Q?Ce():J=!1}}}var Ce;if(typeof U=="function")Ce=function(){U(De)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Qt=ft.port2;ft.port1.onmessage=De,Ce=function(){Qt.postMessage(null)}}else Ce=function(){C(De,0)};function tt(q,Q){K=C(function(){q(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(q){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var ie=w;w=Q;try{return q()}finally{w=ie}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=w;w=q;try{return Q()}finally{w=ie}},i.unstable_scheduleCallback=function(q,Q,ie){var Ee=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ee+ie:Ee):ie=Ee,q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ie+Oe,q={id:v++,callback:Q,priorityLevel:q,startTime:ie,expirationTime:Oe,sortIndex:-1},ie>Ee?(q.sortIndex=ie,a(y,q),r(g)===null&&q===r(y)&&(j?(M(K),K=-1):j=!0,tt(Y,ie-Ee))):(q.sortIndex=Oe,a(g,q),R||x||(R=!0,J||(J=!0,Ce()))),q},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(q){var Q=w;return function(){var ie=w;w=Q;try{return q.apply(this,arguments)}finally{w=ie}}}})(lc)),lc}var tg;function fv(){return tg||(tg=1,sc.exports=dv()),sc.exports}var oc={exports:{}},ut={};var ag;function hv(){if(ag)return ut;ag=1;var i=Lc();function a(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,y,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:g,containerInfo:y,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ut.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return c(g,y,null,v)},ut.flushSync=function(g){var y=f.T,v=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=y,l.p=v,l.d.f()}},ut.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(g,y))},ut.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},ut.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,_=h(v,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?l.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):v==="script"&&l.d.X(g,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ut.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=h(y.as,y.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(g)},ut.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,_=h(v,y.crossOrigin);l.d.L(g,v,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ut.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=h(y.as,y.crossOrigin);l.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(g)},ut.requestFormReset=function(g){l.d.r(g)},ut.unstable_batchedUpdates=function(g,y){return g(y)},ut.useFormState=function(g,y,v){return f.H.useFormState(g,y,v)},ut.useFormStatus=function(){return f.H.useHostTransitionStatus()},ut.version="19.2.4",ut}var ng;function mv(){if(ng)return oc.exports;ng=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),oc.exports=hv(),oc.exports}var ig;function gv(){if(ig)return Or;ig=1;var i=fv(),a=Lc(),r=mv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return g(o),e;if(d===s)return g(o),t;d=d.sibling}throw Error(l(188))}if(n.return!==s.return)n=o,s=d;else{for(var m=!1,b=o.child;b;){if(b===n){m=!0,n=o,s=d;break}if(b===s){m=!0,s=o,n=d;break}b=b.sibling}if(!m){for(b=d.child;b;){if(b===n){m=!0,n=d,s=o;break}if(b===s){m=!0,s=d,n=o;break}b=b.sibling}if(!m)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ye=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=De&&e[De]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Symbol.for("react.client.reference");function Qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ft?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case U:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Qt(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return Qt(e(t))}catch{}}return null}var tt=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ee=[],Oe=-1;function O(e){return{current:e}}function G(e){0>Oe||(e.current=Ee[Oe],Ee[Oe]=null,Oe--)}function X(e,t){Oe++,Ee[Oe]=e.current,e.current=t}var P=O(null),se=O(null),ce=O(null),we=O(null);function ct(e,t){switch(X(ce,t),X(se,e),X(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bm(t),e=_m(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(P),X(P,e)}function Ge(){G(P),G(se),G(ce)}function Di(e){e.memoizedState!==null&&X(we,e);var t=P.current,n=_m(t,e.type);t!==n&&(X(se,e),X(P,n))}function Xr(e){se.current===e&&(G(P),G(se)),we.current===e&&(G(we),Sr._currentValue=ie)}var Bl,Jc;function ln(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||"",Jc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bl+e+Jc}var ql=!1;function Hl(e,t){if(!e||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(L){var D=L}Reflect.construct(e,[],$)}else{try{$.call()}catch(L){D=L}e.call($.prototype)}}else{try{throw Error()}catch(L){D=L}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(L){if(L&&D&&typeof L.stack=="string")return[L.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),m=d[0],b=d[1];if(m&&b){var S=m.split(`
`),z=b.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===z.length)for(s=S.length-1,o=z.length-1;1<=s&&0<=o&&S[s]!==z[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==z[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==z[o]){var B=`
`+S[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=o);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ln(n):""}function By(e,t){switch(e.tag){case 26:case 27:case 5:return ln(e.type);case 16:return ln("Lazy");case 13:return e.child!==t&&t!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Hl(e.type,!1);case 11:return Hl(e.type.render,!1);case 1:return Hl(e.type,!0);case 31:return ln("Activity");default:return""}}function Ic(e){try{var t="",n=null;do t+=By(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var $l=Object.prototype.hasOwnProperty,Gl=i.unstable_scheduleCallback,Vl=i.unstable_cancelCallback,qy=i.unstable_shouldYield,Hy=i.unstable_requestPaint,_t=i.unstable_now,$y=i.unstable_getCurrentPriorityLevel,Zc=i.unstable_ImmediatePriority,Pc=i.unstable_UserBlockingPriority,Jr=i.unstable_NormalPriority,Gy=i.unstable_LowPriority,Wc=i.unstable_IdlePriority,Vy=i.log,Yy=i.unstable_setDisableYieldValue,Ui=null,wt=null;function Na(e){if(typeof Vy=="function"&&Yy(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ui,e)}catch{}}var xt=Math.clz32?Math.clz32:Xy,Ky=Math.log,Qy=Math.LN2;function Xy(e){return e>>>=0,e===0?32:31-(Ky(e)/Qy|0)|0}var Ir=256,Zr=262144,Pr=4194304;function on(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wr(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~d,s!==0?o=on(s):(m&=b,m!==0?o=on(m):n||(n=b&~e,n!==0&&(o=on(n))))):(b=s&~d,b!==0?o=on(b):m!==0?o=on(m):n||(n=s&~e,n!==0&&(o=on(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function Mi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(){var e=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),e}function Yl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Li(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Iy(e,t,n,s,o,d){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,z=e.hiddenUpdates;for(n=m&~n;0<n;){var B=31-xt(n),$=1<<B;b[B]=0,S[B]=-1;var D=z[B];if(D!==null)for(z[B]=null,B=0;B<D.length;B++){var L=D[B];L!==null&&(L.lane&=-536870913)}n&=~$}s!==0&&ed(e,s,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function ed(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function td(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-xt(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function ad(e,t){var n=t&-t;return n=(n&42)!==0?1:Kl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Kl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nd(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Vm(e.type))}function id(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Ca=Math.random().toString(36).slice(2),at="__reactFiber$"+Ca,ht="__reactProps$"+Ca,Un="__reactContainer$"+Ca,Xl="__reactEvents$"+Ca,Zy="__reactListeners$"+Ca,Py="__reactHandles$"+Ca,rd="__reactResources$"+Ca,Bi="__reactMarker$"+Ca;function Jl(e){delete e[at],delete e[ht],delete e[Xl],delete e[Zy],delete e[Py]}function Mn(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Un]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jm(e);e!==null;){if(n=e[at])return n;e=jm(e)}return t}e=n,n=e.parentNode}return null}function Ln(e){if(e=e[at]||e[Un]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Bn(e){var t=e[rd];return t||(t=e[rd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Bi]=!0}var sd=new Set,ld={};function un(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(ld[e]=t,e=0;e<t.length;e++)sd.add(t[e])}var Wy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},ud={};function Fy(e){return $l.call(ud,e)?!0:$l.call(od,e)?!1:Wy.test(e)?ud[e]=!0:(od[e]=!0,!1)}function Fr(e,t,n){if(Fy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function es(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ra(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ep(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){n=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Il(e){if(!e._valueTracker){var t=cd(e)?"checked":"value";e._valueTracker=ep(e,t,""+e[t])}}function dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=cd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tp=/[\n"\\]/g;function Mt(e){return e.replace(tp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zl(e,t,n,s,o,d,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Pl(e,m,Ut(t)):n!=null?Pl(e,m,Ut(n)):s!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ut(b):e.removeAttribute("name")}function fd(e,t,n,s,o,d,m,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Il(e);return}n=n!=null?""+Ut(n):"",t=t!=null?""+Ut(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Il(e)}function Pl(e,t,n){t==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Hn(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function hd(e,t,n){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ut(n):""}function md(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(tt(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Ut(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Il(e)}function $n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ap=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||ap.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function yd(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&gd(e,o,s)}else for(var d in t)t.hasOwnProperty(d)&&gd(e,d,t[d])}function Wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ip=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(e){return ip.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Fl=null;function eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gn=null,Vn=null;function pd(e){var t=Ln(e);if(t&&(e=t.stateNode)){var n=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[ht]||null;if(!o)throw Error(l(90));Zl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&dd(s)}break e;case"textarea":hd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Hn(e,!!n.multiple,t,!1)}}}var to=!1;function vd(e,t,n){if(to)return e(t,n);to=!0;try{var s=e(t);return s}finally{if(to=!1,(Gn!==null||Vn!==null)&&(Vs(),Gn&&(t=Gn,e=Vn,Vn=Gn=null,pd(t),e)))for(t=0;t<e.length;t++)pd(e[t])}}function Hi(e,t){var n=e.stateNode;if(n===null)return null;var s=n[ht]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=!1;if(la)try{var $i={};Object.defineProperty($i,"passive",{get:function(){ao=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{ao=!1}var ka=null,no=null,ns=null;function bd(){if(ns)return ns;var e,t=no,n=t.length,s,o="value"in ka?ka.value:ka.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(s=1;s<=m&&t[n-s]===o[d-s];s++);return ns=o.slice(e,1<s?1-s:void 0)}function is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function _d(){return!1}function mt(e){function t(n,s,o,d,m){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rs:_d,this.isPropagationStopped=_d,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=mt(cn),Gi=_({},cn,{view:0,detail:0}),rp=mt(Gi),io,ro,Vi,ls=_({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(io=e.screenX-Vi.screenX,ro=e.screenY-Vi.screenY):ro=io=0,Vi=e),io)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),wd=mt(ls),sp=_({},ls,{dataTransfer:0}),lp=mt(sp),op=_({},Gi,{relatedTarget:0}),so=mt(op),up=_({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),cp=mt(up),dp=_({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fp=mt(dp),hp=_({},cn,{data:0}),xd=mt(hp),mp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yp[e])?!!t[e]:!1}function lo(){return pp}var vp=_({},Gi,{key:function(e){if(e.key){var t=mp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return e.type==="keypress"?is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bp=mt(vp),_p=_({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=mt(_p),wp=_({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),xp=mt(wp),Sp=_({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ep=mt(Sp),Tp=_({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ap=mt(Tp),jp=_({},cn,{newState:0,oldState:0}),Op=mt(jp),Rp=[9,13,27,32],oo=la&&"CompositionEvent"in window,Yi=null;la&&"documentMode"in document&&(Yi=document.documentMode);var Np=la&&"TextEvent"in window&&!Yi,Ed=la&&(!oo||Yi&&8<Yi&&11>=Yi),Td=" ",Ad=!1;function jd(e,t){switch(e){case"keyup":return Rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function Cp(e,t){switch(e){case"compositionend":return Od(t);case"keypress":return t.which!==32?null:(Ad=!0,Td);case"textInput":return e=t.data,e===Td&&Ad?null:e;default:return null}}function kp(e,t){if(Yn)return e==="compositionend"||!oo&&jd(e,t)?(e=bd(),ns=no=ka=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ed&&t.locale!=="ko"?null:t.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zp[e.type]:t==="textarea"}function Nd(e,t,n,s){Gn?Vn?Vn.push(s):Vn=[s]:Gn=s,t=Zs(t,"onChange"),0<t.length&&(n=new ss("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ki=null,Qi=null;function Dp(e){hm(e,0)}function os(e){var t=qi(e);if(dd(t))return e}function Cd(e,t){if(e==="change")return t}var kd=!1;if(la){var uo;if(la){var co="oninput"in document;if(!co){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),co=typeof zd.oninput=="function"}uo=co}else uo=!1;kd=uo&&(!document.documentMode||9<document.documentMode)}function Dd(){Ki&&(Ki.detachEvent("onpropertychange",Ud),Qi=Ki=null)}function Ud(e){if(e.propertyName==="value"&&os(Qi)){var t=[];Nd(t,Qi,e,eo(e)),vd(Dp,t)}}function Up(e,t,n){e==="focusin"?(Dd(),Ki=t,Qi=n,Ki.attachEvent("onpropertychange",Ud)):e==="focusout"&&Dd()}function Mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return os(Qi)}function Lp(e,t){if(e==="click")return os(t)}function Bp(e,t){if(e==="input"||e==="change")return os(t)}function qp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:qp;function Xi(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!$l.call(t,o)||!St(e[o],t[o]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var n=Md(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Md(n)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ts(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ts(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hp=la&&"documentMode"in document&&11>=document.documentMode,Kn=null,ho=null,Ji=null,mo=!1;function Hd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mo||Kn==null||Kn!==ts(s)||(s=Kn,"selectionStart"in s&&fo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ji&&Xi(Ji,s)||(Ji=s,s=Zs(ho,"onSelect"),0<s.length&&(t=new ss("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Kn)))}function dn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},go={},$d={};la&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function fn(e){if(go[e])return go[e];if(!Qn[e])return e;var t=Qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $d)return go[e]=t[n];return e}var Gd=fn("animationend"),Vd=fn("animationiteration"),Yd=fn("animationstart"),$p=fn("transitionrun"),Gp=fn("transitionstart"),Vp=fn("transitioncancel"),Kd=fn("transitionend"),Qd=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function Xt(e,t){Qd.set(e,t),un(t,[e])}var us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Xn=0,po=0;function cs(){for(var e=Xn,t=po=Xn=0;t<e;){var n=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var d=Lt[t];if(Lt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}d!==0&&Xd(n,o,d)}}function ds(e,t,n,s){Lt[Xn++]=e,Lt[Xn++]=t,Lt[Xn++]=n,Lt[Xn++]=s,po|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function vo(e,t,n,s){return ds(e,t,n,s),fs(e)}function hn(e,t){return ds(e,null,null,t),fs(e)}function Xd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,s=d.alternate,s!==null&&(s.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-xt(n),e=d.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),d):null}function fs(e){if(50<yr)throw yr=0,ju=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Jn={};function Yp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,s){return new Yp(e,t,n,s)}function bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oa(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hs(e,t,n,s,o,d){var m=0;if(s=e,typeof e=="function")bo(e)&&(m=1);else if(typeof e=="string")m=I0(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ye:return e=Et(31,n,t,o),e.elementType=ye,e.lanes=d,e;case j:return mn(n.children,o,d,t);case T:m=8,o|=24;break;case C:return e=Et(12,n,t,o|2),e.elementType=C,e.lanes=d,e;case Y:return e=Et(13,n,t,o),e.elementType=Y,e.lanes=d,e;case J:return e=Et(19,n,t,o),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:m=10;break e;case M:m=9;break e;case V:m=11;break e;case K:m=14;break e;case ue:m=16,s=null;break e}m=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Et(m,n,t,o),t.elementType=e,t.type=s,t.lanes=d,t}function mn(e,t,n,s){return e=Et(7,e,s,t),e.lanes=n,e}function _o(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function Id(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function wo(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zd=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var n=Zd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ic(t)},Zd.set(e,t),t)}return{value:e,source:t,stack:Ic(t)}}var In=[],Zn=0,ms=null,Ii=0,qt=[],Ht=0,za=null,ea=1,ta="";function ua(e,t){In[Zn++]=Ii,In[Zn++]=ms,ms=e,Ii=t}function Pd(e,t,n){qt[Ht++]=ea,qt[Ht++]=ta,qt[Ht++]=za,za=e;var s=ea;e=ta;var o=32-xt(s)-1;s&=~(1<<o),n+=1;var d=32-xt(t)+o;if(30<d){var m=o-o%5;d=(s&(1<<m)-1).toString(32),s>>=m,o-=m,ea=1<<32-xt(t)+o|n<<o|s,ta=d+e}else ea=1<<d|n<<o|s,ta=e}function xo(e){e.return!==null&&(ua(e,1),Pd(e,1,0))}function So(e){for(;e===ms;)ms=In[--Zn],In[Zn]=null,Ii=In[--Zn],In[Zn]=null;for(;e===za;)za=qt[--Ht],qt[Ht]=null,ta=qt[--Ht],qt[Ht]=null,ea=qt[--Ht],qt[Ht]=null}function Wd(e,t){qt[Ht++]=ea,qt[Ht++]=ta,qt[Ht++]=za,ea=t.id,ta=t.overflow,za=e}var nt=null,ke=null,ge=!1,Da=null,$t=!1,Eo=Error(l(519));function Ua(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zi(Bt(t,e)),Eo}function Fd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[at]=e,t[ht]=s,n){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(n=0;n<vr.length;n++)fe(vr[n],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),fd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),md(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||pm(t.textContent,n)?(s.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),s.onScroll!=null&&fe("scroll",t),s.onScrollEnd!=null&&fe("scrollend",t),s.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||Ua(e,!0)}function ef(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:nt=nt.return}}function Pn(e){if(e!==nt)return!1;if(!ge)return ef(e),ge=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gu(e.type,e.memoizedProps)),n=!n),n&&ke&&Ua(e),ef(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ke=Am(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ke=Am(e)}else t===27?(t=ke,Ia(e.type)?(e=Xu,Xu=null,ke=e):ke=t):ke=nt?Vt(e.stateNode.nextSibling):null;return!0}function gn(){ke=nt=null,ge=!1}function To(){var e=Da;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Da=null),e}function Zi(e){Da===null?Da=[e]:Da.push(e)}var Ao=O(null),yn=null,ca=null;function Ma(e,t,n){X(Ao,t._currentValue),t._currentValue=n}function da(e){e._currentValue=Ao.current,G(Ao)}function jo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var S=0;S<t.length;S++)if(b.context===t[S]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),jo(d.return,n,e),s||(m=null);break e}d=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=n,d=m.alternate,d!==null&&(d.lanes|=n),jo(m,n,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Wn(e,t,n,s){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var b=o.type;St(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===we.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Sr):e=[Sr])}o=o.return}e!==null&&Oo(t,e,n,s),t.flags|=262144}function gs(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pn(e){yn=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return tf(yn,e)}function ys(e,t){return yn===null&&pn(e),tf(e,t)}function tf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ca===null){if(e===null)throw Error(l(308));ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ca=ca.next=t;return n}var Kp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Qp=i.unstable_scheduleCallback,Xp=i.unstable_NormalPriority,Ke={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new Kp,data:new Map,refCount:0}}function Pi(e){e.refCount--,e.refCount===0&&Qp(Xp,function(){e.controller.abort()})}var Wi=null,No=0,Fn=0,ei=null;function Jp(e,t){if(Wi===null){var n=Wi=[];No=0,Fn=zu(),ei={status:"pending",value:void 0,then:function(s){n.push(s)}}}return No++,t.then(af,af),t}function af(){if(--No===0&&Wi!==null){ei!==null&&(ei.status="fulfilled");var e=Wi;Wi=null,Fn=0,ei=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ip(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var nf=q.S;q.S=function(e,t){$h=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jp(e,t),nf!==null&&nf(e,t)};var vn=O(null);function Co(){var e=vn.current;return e!==null?e:Re.pooledCache}function ps(e,t){t===null?X(vn,vn.current):X(vn,t.pool)}function rf(){var e=Co();return e===null?null:{parent:Ke._currentValue,pool:e}}var ti=Error(l(460)),ko=Error(l(474)),vs=Error(l(542)),bs={then:function(){}};function sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sa,sa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uf(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uf(e),e}throw _n=t,ti}}function bn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_n=n,ti):n}}var _n=null;function of(){if(_n===null)throw Error(l(459));var e=_n;return _n=null,e}function uf(e){if(e===ti||e===vs)throw Error(l(483))}var ai=null,Fi=0;function _s(e){var t=Fi;return Fi+=1,ai===null&&(ai=[]),lf(ai,e,t)}function er(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ws(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cf(e){function t(N,A){if(e){var k=N.deletions;k===null?(N.deletions=[A],N.flags|=16):k.push(A)}}function n(N,A){if(!e)return null;for(;A!==null;)t(N,A),A=A.sibling;return null}function s(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function o(N,A){return N=oa(N,A),N.index=0,N.sibling=null,N}function d(N,A,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<A?(N.flags|=67108866,A):k):(N.flags|=67108866,A)):(N.flags|=1048576,A)}function m(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function b(N,A,k,H){return A===null||A.tag!==6?(A=_o(k,N.mode,H),A.return=N,A):(A=o(A,k),A.return=N,A)}function S(N,A,k,H){var ee=k.type;return ee===j?B(N,A,k.props.children,H,k.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ue&&bn(ee)===A.type)?(A=o(A,k.props),er(A,k),A.return=N,A):(A=hs(k.type,k.key,k.props,null,N.mode,H),er(A,k),A.return=N,A)}function z(N,A,k,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=wo(k,N.mode,H),A.return=N,A):(A=o(A,k.children||[]),A.return=N,A)}function B(N,A,k,H,ee){return A===null||A.tag!==7?(A=mn(k,N.mode,H,ee),A.return=N,A):(A=o(A,k),A.return=N,A)}function $(N,A,k){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=_o(""+A,N.mode,k),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case x:return k=hs(A.type,A.key,A.props,null,N.mode,k),er(k,A),k.return=N,k;case R:return A=wo(A,N.mode,k),A.return=N,A;case ue:return A=bn(A),$(N,A,k)}if(tt(A)||Ce(A))return A=mn(A,N.mode,k,null),A.return=N,A;if(typeof A.then=="function")return $(N,_s(A),k);if(A.$$typeof===U)return $(N,ys(N,A),k);ws(N,A)}return null}function D(N,A,k,H){var ee=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ee!==null?null:b(N,A,""+k,H);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===ee?S(N,A,k,H):null;case R:return k.key===ee?z(N,A,k,H):null;case ue:return k=bn(k),D(N,A,k,H)}if(tt(k)||Ce(k))return ee!==null?null:B(N,A,k,H,null);if(typeof k.then=="function")return D(N,A,_s(k),H);if(k.$$typeof===U)return D(N,A,ys(N,k),H);ws(N,k)}return null}function L(N,A,k,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return N=N.get(k)||null,b(A,N,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return N=N.get(H.key===null?k:H.key)||null,S(A,N,H,ee);case R:return N=N.get(H.key===null?k:H.key)||null,z(A,N,H,ee);case ue:return H=bn(H),L(N,A,k,H,ee)}if(tt(H)||Ce(H))return N=N.get(k)||null,B(A,N,H,ee,null);if(typeof H.then=="function")return L(N,A,k,_s(H),ee);if(H.$$typeof===U)return L(N,A,k,ys(A,H),ee);ws(A,H)}return null}function I(N,A,k,H){for(var ee=null,ve=null,W=A,oe=A=0,me=null;W!==null&&oe<k.length;oe++){W.index>oe?(me=W,W=null):me=W.sibling;var be=D(N,W,k[oe],H);if(be===null){W===null&&(W=me);break}e&&W&&be.alternate===null&&t(N,W),A=d(be,A,oe),ve===null?ee=be:ve.sibling=be,ve=be,W=me}if(oe===k.length)return n(N,W),ge&&ua(N,oe),ee;if(W===null){for(;oe<k.length;oe++)W=$(N,k[oe],H),W!==null&&(A=d(W,A,oe),ve===null?ee=W:ve.sibling=W,ve=W);return ge&&ua(N,oe),ee}for(W=s(W);oe<k.length;oe++)me=L(W,N,oe,k[oe],H),me!==null&&(e&&me.alternate!==null&&W.delete(me.key===null?oe:me.key),A=d(me,A,oe),ve===null?ee=me:ve.sibling=me,ve=me);return e&&W.forEach(function(en){return t(N,en)}),ge&&ua(N,oe),ee}function te(N,A,k,H){if(k==null)throw Error(l(151));for(var ee=null,ve=null,W=A,oe=A=0,me=null,be=k.next();W!==null&&!be.done;oe++,be=k.next()){W.index>oe?(me=W,W=null):me=W.sibling;var en=D(N,W,be.value,H);if(en===null){W===null&&(W=me);break}e&&W&&en.alternate===null&&t(N,W),A=d(en,A,oe),ve===null?ee=en:ve.sibling=en,ve=en,W=me}if(be.done)return n(N,W),ge&&ua(N,oe),ee;if(W===null){for(;!be.done;oe++,be=k.next())be=$(N,be.value,H),be!==null&&(A=d(be,A,oe),ve===null?ee=be:ve.sibling=be,ve=be);return ge&&ua(N,oe),ee}for(W=s(W);!be.done;oe++,be=k.next())be=L(W,N,oe,be.value,H),be!==null&&(e&&be.alternate!==null&&W.delete(be.key===null?oe:be.key),A=d(be,A,oe),ve===null?ee=be:ve.sibling=be,ve=be);return e&&W.forEach(function(sv){return t(N,sv)}),ge&&ua(N,oe),ee}function je(N,A,k,H){if(typeof k=="object"&&k!==null&&k.type===j&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:e:{for(var ee=k.key;A!==null;){if(A.key===ee){if(ee=k.type,ee===j){if(A.tag===7){n(N,A.sibling),H=o(A,k.props.children),H.return=N,N=H;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ue&&bn(ee)===A.type){n(N,A.sibling),H=o(A,k.props),er(H,k),H.return=N,N=H;break e}n(N,A);break}else t(N,A);A=A.sibling}k.type===j?(H=mn(k.props.children,N.mode,H,k.key),H.return=N,N=H):(H=hs(k.type,k.key,k.props,null,N.mode,H),er(H,k),H.return=N,N=H)}return m(N);case R:e:{for(ee=k.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){n(N,A.sibling),H=o(A,k.children||[]),H.return=N,N=H;break e}else{n(N,A);break}else t(N,A);A=A.sibling}H=wo(k,N.mode,H),H.return=N,N=H}return m(N);case ue:return k=bn(k),je(N,A,k,H)}if(tt(k))return I(N,A,k,H);if(Ce(k)){if(ee=Ce(k),typeof ee!="function")throw Error(l(150));return k=ee.call(k),te(N,A,k,H)}if(typeof k.then=="function")return je(N,A,_s(k),H);if(k.$$typeof===U)return je(N,A,ys(N,k),H);ws(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,A!==null&&A.tag===6?(n(N,A.sibling),H=o(A,k),H.return=N,N=H):(n(N,A),H=_o(k,N.mode,H),H.return=N,N=H),m(N)):n(N,A)}return function(N,A,k,H){try{Fi=0;var ee=je(N,A,k,H);return ai=null,ee}catch(W){if(W===ti||W===vs)throw W;var ve=Et(29,W,null,N.mode);return ve.lanes=H,ve.return=N,ve}}}var wn=cf(!0),df=cf(!1),La=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_e&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=fs(e),Xd(e,null,n),t}return ds(e,s,t,n),fs(e)}function tr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,td(e,n)}}function Uo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Mo=!1;function ar(){if(Mo){var e=ei;if(e!==null)throw e}}function nr(e,t,n,s){Mo=!1;var o=e.updateQueue;La=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var S=b,z=S.next;S.next=null,m===null?d=z:m.next=z,m=S;var B=e.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==m&&(b===null?B.firstBaseUpdate=z:b.next=z,B.lastBaseUpdate=S))}if(d!==null){var $=o.baseState;m=0,B=z=S=null,b=d;do{var D=b.lane&-536870913,L=D!==b.lane;if(L?(he&D)===D:(s&D)===D){D!==0&&D===Fn&&(Mo=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var I=e,te=b;D=t;var je=n;switch(te.tag){case 1:if(I=te.payload,typeof I=="function"){$=I.call(je,$,D);break e}$=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=te.payload,D=typeof I=="function"?I.call(je,$,D):I,D==null)break e;$=_({},$,D);break e;case 2:La=!0}}D=b.callback,D!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[D]:L.push(D))}else L={lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(z=B=L,S=$):B=B.next=L,m|=D;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);B===null&&(S=$),o.baseState=S,o.firstBaseUpdate=z,o.lastBaseUpdate=B,d===null&&(o.shared.lanes=0),Ya|=m,e.lanes=m,e.memoizedState=$}}function ff(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function hf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ff(n[e],t)}var ni=O(null),xs=O(0);function mf(e,t){e=_a,X(xs,e),X(ni,t),_a=e|t.baseLanes}function Lo(){X(xs,_a),X(ni,ni.current)}function Bo(){_a=xs.current,G(ni),G(xs)}var Tt=O(null),Gt=null;function Ha(e){var t=e.alternate;X(Ve,Ve.current&1),X(Tt,e),Gt===null&&(t===null||ni.current!==null||t.memoizedState!==null)&&(Gt=e)}function qo(e){X(Ve,Ve.current),X(Tt,e),Gt===null&&(Gt=e)}function gf(e){e.tag===22?(X(Ve,Ve.current),X(Tt,e),Gt===null&&(Gt=e)):$a()}function $a(){X(Ve,Ve.current),X(Tt,Tt.current)}function At(e){G(Tt),Gt===e&&(Gt=null),G(Ve)}var Ve=O(0);function Ss(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ku(n)||Qu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=0,le=null,Te=null,Qe=null,Es=!1,ii=!1,xn=!1,Ts=0,ir=0,ri=null,Zp=0;function Be(){throw Error(l(321))}function Ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function $o(e,t,n,s,o,d){return fa=d,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Wf:au,xn=!1,d=n(s,o),xn=!1,ii&&(d=pf(t,n,s,o)),yf(e),d}function yf(e){q.H=lr;var t=Te!==null&&Te.next!==null;if(fa=0,Qe=Te=le=null,Es=!1,ir=0,ri=null,t)throw Error(l(300));e===null||Xe||(e=e.dependencies,e!==null&&gs(e)&&(Xe=!0))}function pf(e,t,n,s){le=e;var o=0;do{if(ii&&(ri=null),ir=0,ii=!1,25<=o)throw Error(l(301));if(o+=1,Qe=Te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Ff,d=t(n,s)}while(ii);return d}function Pp(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?rr(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(le.flags|=1024),t}function Go(){var e=Ts!==0;return Ts=0,e}function Vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yo(e){if(Es){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Es=!1}fa=0,Qe=Te=le=null,ii=!1,ir=Ts=0,ri=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?le.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ye(){if(Te===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Qe===null?le.memoizedState:Qe.next;if(t!==null)Qe=t,Te=e;else{if(e===null)throw le.alternate===null?Error(l(467)):Error(l(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Qe===null?le.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function As(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rr(e){var t=ir;return ir+=1,ri===null&&(ri=[]),e=lf(ri,e,t),t=le,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Wf:au),e}function js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rr(e);if(e.$$typeof===U)return it(e)}throw Error(l(438,String(e)))}function Ko(e){var t=null,n=le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=le.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=As(),le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=Z;return t.index++,n}function ha(e,t){return typeof t=="function"?t(e):t}function Os(e){var t=Ye();return Qo(t,Te,e)}function Qo(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var o=e.baseQueue,d=s.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,s.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=m=null,S=null,z=t,B=!1;do{var $=z.lane&-536870913;if($!==z.lane?(he&$)===$:(fa&$)===$){var D=z.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Fn&&(B=!0);else if((fa&D)===D){z=z.next,D===Fn&&(B=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(b=S=$,m=d):S=S.next=$,le.lanes|=D,Ya|=D;$=z.action,xn&&n(d,$),d=z.hasEagerState?z.eagerState:n(d,$)}else D={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(b=S=D,m=d):S=S.next=D,le.lanes|=$,Ya|=$;z=z.next}while(z!==null&&z!==t);if(S===null?m=d:S.next=b,!St(d,e.memoizedState)&&(Xe=!0,B&&(n=ei,n!==null)))throw n;e.memoizedState=d,e.baseState=m,e.baseQueue=S,s.lastRenderedState=d}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Xo(e){var t=Ye(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);St(d,t.memoizedState)||(Xe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,s]}function vf(e,t,n){var s=le,o=Ye(),d=ge;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var m=!St((Te||o).memoizedState,n);if(m&&(o.memoizedState=n,Xe=!0),o=o.queue,Zo(wf.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,si(9,{destroy:void 0},_f.bind(null,s,o,n,t),null),Re===null)throw Error(l(349));d||(fa&127)!==0||bf(s,t,n)}return n}function bf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t=As(),le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _f(e,t,n,s){t.value=n,t.getSnapshot=s,xf(t)&&Sf(e)}function wf(e,t,n){return n(function(){xf(t)&&Sf(e)})}function xf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function Sf(e){var t=hn(e,2);t!==null&&bt(t,e,2)}function Jo(e){var t=dt();if(typeof e=="function"){var n=e;if(e=n(),xn){Na(!0);try{n()}finally{Na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function Ef(e,t,n,s){return e.baseState=n,Qo(e,Te,typeof s=="function"?s:ha)}function Wp(e,t,n,s,o){if(Cs(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};q.T!==null?n(!0):d.isTransition=!1,s(d),n=t.pending,n===null?(d.next=t.pending=d,Tf(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Tf(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var d=q.T,m={};q.T=m;try{var b=n(o,s),S=q.S;S!==null&&S(m,b),Af(e,t,b)}catch(z){Io(e,t,z)}finally{d!==null&&m.types!==null&&(d.types=m.types),q.T=d}}else try{d=n(o,s),Af(e,t,d)}catch(z){Io(e,t,z)}}function Af(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){jf(e,t,s)},function(s){return Io(e,t,s)}):jf(e,t,n)}function jf(e,t,n){t.status="fulfilled",t.value=n,Of(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Tf(e,n)))}function Io(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Of(t),t=t.next;while(t!==s)}e.action=null}function Of(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rf(e,t){return t}function Nf(e,t){if(ge){var n=Re.formState;if(n!==null){e:{var s=le;if(ge){if(ke){t:{for(var o=ke,d=$t;o.nodeType!==8;){if(!d){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){ke=Vt(o.nextSibling),s=o.data==="F!";break e}}Ua(s)}s=!1}s&&(t=n[0])}}return n=dt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},n.queue=s,n=If.bind(null,le,s),s.dispatch=n,s=Jo(!1),d=tu.bind(null,le,!1,s.queue),s=dt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=Wp.bind(null,le,o,d,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function Cf(e){var t=Ye();return kf(t,Te,e)}function kf(e,t,n){if(t=Qo(e,t,Rf)[0],e=Os(ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=rr(t)}catch(m){throw m===ti?vs:m}else s=t;t=Ye();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(le.flags|=2048,si(9,{destroy:void 0},Fp.bind(null,o,n),null)),[s,d,e]}function Fp(e,t){e.action=t}function zf(e){var t=Ye(),n=Te;if(n!==null)return kf(t,n,e);Ye(),t=t.memoizedState,n=Ye();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function si(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=le.updateQueue,t===null&&(t=As(),le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Df(){return Ye().memoizedState}function Rs(e,t,n,s){var o=dt();le.flags|=e,o.memoizedState=si(1|t,{destroy:void 0},n,s===void 0?null:s)}function Ns(e,t,n,s){var o=Ye();s=s===void 0?null:s;var d=o.memoizedState.inst;Te!==null&&s!==null&&Ho(s,Te.memoizedState.deps)?o.memoizedState=si(t,d,n,s):(le.flags|=e,o.memoizedState=si(1|t,d,n,s))}function Uf(e,t){Rs(8390656,8,e,t)}function Zo(e,t){Ns(2048,8,e,t)}function e0(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=As(),le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Mf(e){var t=Ye().memoizedState;return e0({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Lf(e,t){return Ns(4,2,e,t)}function Bf(e,t){return Ns(4,4,e,t)}function qf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hf(e,t,n){n=n!=null?n.concat([e]):null,Ns(4,4,qf.bind(null,t,e),n)}function Po(){}function $f(e,t){var n=Ye();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Ho(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Gf(e,t){var n=Ye();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Ho(t,s[1]))return s[0];if(s=e(),xn){Na(!0);try{e()}finally{Na(!1)}}return n.memoizedState=[s,t],s}function Wo(e,t,n){return n===void 0||(fa&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Vh(),le.lanes|=e,Ya|=e,n)}function Vf(e,t,n,s){return St(n,t)?n:ni.current!==null?(e=Wo(e,n,s),St(e,t)||(Xe=!0),e):(fa&42)===0||(fa&1073741824)!==0&&(he&261930)===0?(Xe=!0,e.memoizedState=n):(e=Vh(),le.lanes|=e,Ya|=e,t)}function Yf(e,t,n,s,o){var d=Q.p;Q.p=d!==0&&8>d?d:8;var m=q.T,b={};q.T=b,tu(e,!1,t,n);try{var S=o(),z=q.S;if(z!==null&&z(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var B=Ip(S,s);sr(e,t,B,Rt(e))}else sr(e,t,s,Rt(e))}catch($){sr(e,t,{then:function(){},status:"rejected",reason:$},Rt())}finally{Q.p=d,m!==null&&b.types!==null&&(m.types=b.types),q.T=m}}function t0(){}function Fo(e,t,n,s){if(e.tag!==5)throw Error(l(476));var o=Kf(e).queue;Yf(e,o,t,ie,n===null?t0:function(){return Qf(e),n(s)})}function Kf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qf(e){var t=Kf(e);t.next===null&&(t=e.alternate.memoizedState),sr(e,t.next.queue,{},Rt())}function eu(){return it(Sr)}function Xf(){return Ye().memoizedState}function Jf(){return Ye().memoizedState}function a0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rt();e=Ba(n);var s=qa(t,e,n);s!==null&&(bt(s,t,n),tr(s,t,n)),t={cache:Ro()},e.payload=t;return}t=t.return}}function n0(e,t,n){var s=Rt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cs(e)?Zf(t,n):(n=vo(e,t,n,s),n!==null&&(bt(n,e,s),Pf(n,t,s)))}function If(e,t,n){var s=Rt();sr(e,t,n,s)}function sr(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cs(e))Zf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,b=d(m,n);if(o.hasEagerState=!0,o.eagerState=b,St(b,m))return ds(e,t,o,0),Re===null&&cs(),!1}catch{}if(n=vo(e,t,o,s),n!==null)return bt(n,e,s),Pf(n,t,s),!0}return!1}function tu(e,t,n,s){if(s={lane:2,revertLane:zu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cs(e)){if(t)throw Error(l(479))}else t=vo(e,n,s,2),t!==null&&bt(t,e,2)}function Cs(e){var t=e.alternate;return e===le||t!==null&&t===le}function Zf(e,t){ii=Es=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pf(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,td(e,n)}}var lr={readContext:it,use:js,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};lr.useEffectEvent=Be;var Wf={readContext:it,use:js,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Uf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Rs(4194308,4,qf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){Rs(4,2,e,t)},useMemo:function(e,t){var n=dt();t=t===void 0?null:t;var s=e();if(xn){Na(!0);try{e()}finally{Na(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=dt();if(n!==void 0){var o=n(t);if(xn){Na(!0);try{n(t)}finally{Na(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=n0.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jo(e);var t=e.queue,n=If.bind(null,le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Po,useDeferredValue:function(e,t){var n=dt();return Wo(n,e,t)},useTransition:function(){var e=Jo(!1);return e=Yf.bind(null,le,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=le,o=dt();if(ge){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Re===null)throw Error(l(349));(he&127)!==0||bf(s,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,Uf(wf.bind(null,s,d,e),[e]),s.flags|=2048,si(9,{destroy:void 0},_f.bind(null,s,d,n,t),null),n},useId:function(){var e=dt(),t=Re.identifierPrefix;if(ge){var n=ta,s=ea;n=(s&~(1<<32-xt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ts++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Zp++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:eu,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=tu.bind(null,le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ko,useCacheRefresh:function(){return dt().memoizedState=a0.bind(null,le)},useEffectEvent:function(e){var t=dt(),n={impl:e};return t.memoizedState=n,function(){if((_e&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},au={readContext:it,use:js,useCallback:$f,useContext:it,useEffect:Zo,useImperativeHandle:Hf,useInsertionEffect:Lf,useLayoutEffect:Bf,useMemo:Gf,useReducer:Os,useRef:Df,useState:function(){return Os(ha)},useDebugValue:Po,useDeferredValue:function(e,t){var n=Ye();return Vf(n,Te.memoizedState,e,t)},useTransition:function(){var e=Os(ha)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:vf,useId:Xf,useHostTransitionStatus:eu,useFormState:Cf,useActionState:Cf,useOptimistic:function(e,t){var n=Ye();return Ef(n,Te,e,t)},useMemoCache:Ko,useCacheRefresh:Jf};au.useEffectEvent=Mf;var Ff={readContext:it,use:js,useCallback:$f,useContext:it,useEffect:Zo,useImperativeHandle:Hf,useInsertionEffect:Lf,useLayoutEffect:Bf,useMemo:Gf,useReducer:Xo,useRef:Df,useState:function(){return Xo(ha)},useDebugValue:Po,useDeferredValue:function(e,t){var n=Ye();return Te===null?Wo(n,e,t):Vf(n,Te.memoizedState,e,t)},useTransition:function(){var e=Xo(ha)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:vf,useId:Xf,useHostTransitionStatus:eu,useFormState:zf,useActionState:zf,useOptimistic:function(e,t){var n=Ye();return Te!==null?Ef(n,Te,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ko,useCacheRefresh:Jf};Ff.useEffectEvent=Mf;function nu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var iu={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Rt(),o=Ba(s);o.payload=t,n!=null&&(o.callback=n),t=qa(e,o,s),t!==null&&(bt(t,e,s),tr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Rt(),o=Ba(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=qa(e,o,s),t!==null&&(bt(t,e,s),tr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),s=Ba(n);s.tag=2,t!=null&&(s.callback=t),t=qa(e,s,n),t!==null&&(bt(t,e,n),tr(t,e,n))}};function eh(e,t,n,s,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,m):t.prototype&&t.prototype.isPureReactComponent?!Xi(n,s)||!Xi(o,d):!0}function th(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&iu.enqueueReplaceState(t,t.state,null)}function Sn(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function ah(e){us(e)}function nh(e){console.error(e)}function ih(e){us(e)}function ks(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function rh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ru(e,t,n){return n=Ba(n),n.tag=3,n.payload={element:null},n.callback=function(){ks(e,t)},n}function sh(e){return e=Ba(e),e.tag=3,e}function lh(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;e.payload=function(){return o(d)},e.callback=function(){rh(t,n,s)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){rh(t,n,s),typeof o!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function i0(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Wn(t,n,o,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return Gt===null?Ys():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===bs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Nu(e,s,o)),!1;case 22:return n.flags|=65536,s===bs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Nu(e,s,o)),!1}throw Error(l(435,n.tag))}return Nu(e,s,o),Ys(),!1}if(ge)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Eo&&(e=Error(l(422),{cause:s}),Zi(Bt(e,n)))):(s!==Eo&&(t=Error(l(423),{cause:s}),Zi(Bt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Bt(s,n),o=ru(e.stateNode,s,o),Uo(e,o),qe!==4&&(qe=2)),!1;var d=Error(l(520),{cause:s});if(d=Bt(d,n),gr===null?gr=[d]:gr.push(d),qe!==4&&(qe=2),t===null)return!0;s=Bt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=ru(n.stateNode,s,e),Uo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ka===null||!Ka.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=sh(o),lh(o,e,n,s),Uo(n,o),!1}n=n.return}while(n!==null);return!1}var su=Error(l(461)),Xe=!1;function rt(e,t,n,s){t.child=e===null?df(t,null,n,s):wn(t,e.child,n,s)}function oh(e,t,n,s,o){n=n.render;var d=t.ref;if("ref"in s){var m={};for(var b in s)b!=="ref"&&(m[b]=s[b])}else m=s;return pn(t),s=$o(e,t,n,m,d,o),b=Go(),e!==null&&!Xe?(Vo(e,t,o),ma(e,t,o)):(ge&&b&&xo(t),t.flags|=1,rt(e,t,s,o),t.child)}function uh(e,t,n,s,o){if(e===null){var d=n.type;return typeof d=="function"&&!bo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,ch(e,t,d,s,o)):(e=hs(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!mu(e,o)){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:Xi,n(m,s)&&e.ref===t.ref)return ma(e,t,o)}return t.flags|=1,e=oa(d,s),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,n,s,o){if(e!==null){var d=e.memoizedProps;if(Xi(d,s)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=s=d,mu(e,o))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,ma(e,t,o)}return lu(e,t,n,s,o)}function dh(e,t,n,s){var o=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~d}else s=0,t.child=null;return fh(e,t,d,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ps(t,d!==null?d.cachePool:null),d!==null?mf(t,d):Lo(),gf(t);else return s=t.lanes=536870912,fh(e,t,d!==null?d.baseLanes|n:n,n,s)}else d!==null?(ps(t,d.cachePool),mf(t,d),$a(),t.memoizedState=null):(e!==null&&ps(t,null),Lo(),$a());return rt(e,t,o,n),t.child}function or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fh(e,t,n,s,o){var d=Co();return d=d===null?null:{parent:Ke._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&ps(t,null),Lo(),gf(t),e!==null&&Wn(e,t,s,!0),t.childLanes=o,null}function zs(e,t){return t=Us({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hh(e,t,n){return wn(t,e.child,null,n),e=zs(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function r0(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(s.mode==="hidden")return e=zs(t,s),t.lanes=536870912,or(null,e);if(qo(t),(e=ke)?(e=Tm(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=Id(e),n.return=t,t.child=n,nt=t,ke=null)):e=null,e===null)throw Ua(t);return t.lanes=536870912,null}return zs(t,s)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(qo(t),o)if(t.flags&256)t.flags&=-257,t=hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Xe||Wn(e,t,n,!1),o=(n&e.childLanes)!==0,Xe||o){if(s=Re,s!==null&&(m=ad(s,n),m!==0&&m!==d.retryLane))throw d.retryLane=m,hn(e,m),bt(s,e,m),su;Ys(),t=hh(e,t,n)}else e=d.treeContext,ke=Vt(m.nextSibling),nt=t,ge=!0,Da=null,$t=!1,e!==null&&Wd(t,e),t=zs(t,s),t.flags|=4096;return t}return e=oa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ds(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lu(e,t,n,s,o){return pn(t),n=$o(e,t,n,s,void 0,o),s=Go(),e!==null&&!Xe?(Vo(e,t,o),ma(e,t,o)):(ge&&s&&xo(t),t.flags|=1,rt(e,t,n,o),t.child)}function mh(e,t,n,s,o,d){return pn(t),t.updateQueue=null,n=pf(t,s,n,o),yf(e),s=Go(),e!==null&&!Xe?(Vo(e,t,d),ma(e,t,d)):(ge&&s&&xo(t),t.flags|=1,rt(e,t,n,d),t.child)}function gh(e,t,n,s,o){if(pn(t),t.stateNode===null){var d=Jn,m=n.contextType;typeof m=="object"&&m!==null&&(d=it(m)),d=new n(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=iu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},zo(t),m=n.contextType,d.context=typeof m=="object"&&m!==null?it(m):Jn,d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(nu(t,n,m,s),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&iu.enqueueReplaceState(d,d.state,null),nr(t,s,d,o),ar(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,S=Sn(n,b);d.props=S;var z=d.context,B=n.contextType;m=Jn,typeof B=="object"&&B!==null&&(m=it(B));var $=n.getDerivedStateFromProps;B=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==m)&&th(t,d,s,m),La=!1;var D=t.memoizedState;d.state=D,nr(t,s,d,o),ar(),z=t.memoizedState,b||D!==z||La?(typeof $=="function"&&(nu(t,n,$,s),z=t.memoizedState),(S=La||eh(t,n,S,s,D,z,m))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),d.props=s,d.state=z,d.context=m,s=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Do(e,t),m=t.memoizedProps,B=Sn(n,m),d.props=B,$=t.pendingProps,D=d.context,z=n.contextType,S=Jn,typeof z=="object"&&z!==null&&(S=it(z)),b=n.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==$||D!==S)&&th(t,d,s,S),La=!1,D=t.memoizedState,d.state=D,nr(t,s,d,o),ar();var L=t.memoizedState;m!==$||D!==L||La||e!==null&&e.dependencies!==null&&gs(e.dependencies)?(typeof b=="function"&&(nu(t,n,b,s),L=t.memoizedState),(B=La||eh(t,n,B,s,D,L,S)||e!==null&&e.dependencies!==null&&gs(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,L,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,L,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),d.props=s,d.state=L,d.context=S,s=B):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Ds(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=wn(t,e.child,null,o),t.child=wn(t,null,n,o)):rt(e,t,n,o),t.memoizedState=d.state,e=t.child):e=ma(e,t,o),e}function yh(e,t,n,s){return gn(),t.flags|=256,rt(e,t,n,s),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:rf()}}function cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ot),e}function ph(e,t,n){var s=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(o?Ha(t):$a(),(e=ke)?(e=Tm(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=Id(e),n.return=t,t.child=n,nt=t,ke=null)):e=null,e===null)throw Ua(t);return Qu(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,o?($a(),o=t.mode,b=Us({mode:"hidden",children:b},o),s=mn(s,o,n,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=uu(n),s.childLanes=cu(e,m,n),t.memoizedState=ou,or(null,s)):(Ha(t),du(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(d)t.flags&256?(Ha(t),t.flags&=-257,t=fu(e,t,n)):t.memoizedState!==null?($a(),t.child=e.child,t.flags|=128,t=null):($a(),b=s.fallback,o=t.mode,s=Us({mode:"visible",children:s.children},o),b=mn(b,o,n,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,wn(t,e.child,null,n),s=t.child,s.memoizedState=uu(n),s.childLanes=cu(e,m,n),t.memoizedState=ou,t=or(null,s));else if(Ha(t),Qu(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var z=m.dgst;m=z,s=Error(l(419)),s.stack="",s.digest=m,Zi({value:s,source:null,stack:null}),t=fu(e,t,n)}else if(Xe||Wn(e,t,n,!1),m=(n&e.childLanes)!==0,Xe||m){if(m=Re,m!==null&&(s=ad(m,n),s!==0&&s!==S.retryLane))throw S.retryLane=s,hn(e,s),bt(m,e,s),su;Ku(b)||Ys(),t=fu(e,t,n)}else Ku(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,ke=Vt(b.nextSibling),nt=t,ge=!0,Da=null,$t=!1,e!==null&&Wd(t,e),t=du(t,s.children),t.flags|=4096);return t}return o?($a(),b=s.fallback,o=t.mode,S=e.child,z=S.sibling,s=oa(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,z!==null?b=oa(z,b):(b=mn(b,o,n,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,or(null,s),s=t.child,b=e.child.memoizedState,b===null?b=uu(n):(o=b.cachePool,o!==null?(S=Ke._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=rf(),b={baseLanes:b.baseLanes|n,cachePool:o}),s.memoizedState=b,s.childLanes=cu(e,m,n),t.memoizedState=ou,or(e.child,s)):(Ha(t),n=e.child,e=n.sibling,n=oa(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function du(e,t){return t=Us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Us(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function fu(e,t,n){return wn(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jo(e.return,t,n)}function hu(e,t,n,s,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=n,m.tailMode=o,m.treeForkCount=d)}function bh(e,t,n){var s=t.pendingProps,o=s.revealOrder,d=s.tail;s=s.children;var m=Ve.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,X(Ve,m),rt(e,t,s,n),s=ge?Ii:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vh(e,n,t);else if(e.tag===19)vh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ss(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),hu(t,!1,o,n,d,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ss(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}hu(t,!0,n,null,d,s);break;case"together":hu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ma(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Wn(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=oa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gs(e)))}function s0(e,t,n){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),Ma(t,Ke,e.memoizedState.cache),gn();break;case 27:case 5:Di(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:Ma(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ha(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ph(e,t,n):(Ha(t),e=ma(e,t,n),e!==null?e.sibling:null);Ha(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Wn(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return bh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,dh(e,t,n,t.pendingProps);case 24:Ma(t,Ke,e.memoizedState.cache)}return ma(e,t,n)}function _h(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!mu(e,n)&&(t.flags&128)===0)return Xe=!1,s0(e,t,n);Xe=(e.flags&131072)!==0}else Xe=!1,ge&&(t.flags&1048576)!==0&&Pd(t,Ii,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=bn(t.elementType),t.type=e,typeof e=="function")bo(e)?(s=Sn(e,s),t.tag=1,t=gh(null,t,e,s,n)):(t.tag=0,t=lu(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===V){t.tag=11,t=oh(null,t,e,s,n);break e}else if(o===K){t.tag=14,t=uh(null,t,e,s,n);break e}}throw t=Qt(e)||e,Error(l(306,t,""))}}return t;case 0:return lu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=Sn(s,t.pendingProps),gh(e,t,s,o,n);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;o=d.element,Do(e,t),nr(t,s,null,n);var m=t.memoizedState;if(s=m.cache,Ma(t,Ke,s),s!==d.cache&&Oo(t,[Ke],n,!0),ar(),s=m.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=yh(e,t,s,n);break e}else if(s!==o){o=Bt(Error(l(424)),t),Zi(o),t=yh(e,t,s,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ke=Vt(e.firstChild),nt=t,ge=!0,Da=null,$t=!0,n=df(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gn(),s===o){t=ma(e,t,n);break e}rt(e,t,s,n)}t=t.child}return t;case 26:return Ds(e,t),e===null?(n=Cm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ge||(n=t.type,e=t.pendingProps,s=Ps(ce.current).createElement(n),s[at]=t,s[ht]=e,st(s,n,e),Fe(s),t.stateNode=s):t.memoizedState=Cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Di(t),e===null&&ge&&(s=t.stateNode=Om(t.type,t.pendingProps,ce.current),nt=t,$t=!0,o=ke,Ia(t.type)?(Xu=o,ke=Vt(s.firstChild)):ke=o),rt(e,t,t.pendingProps.children,n),Ds(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((o=s=ke)&&(s=M0(s,t.type,t.pendingProps,$t),s!==null?(t.stateNode=s,nt=t,ke=Vt(s.firstChild),$t=!1,o=!0):o=!1),o||Ua(t)),Di(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,s=d.children,Gu(o,d)?s=null:m!==null&&Gu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=$o(e,t,Pp,null,null,n),Sr._currentValue=o),Ds(e,t),rt(e,t,s,n),t.child;case 6:return e===null&&ge&&((e=n=ke)&&(n=L0(n,t.pendingProps,$t),n!==null?(t.stateNode=n,nt=t,ke=null,e=!0):e=!1),e||Ua(t)),null;case 13:return ph(e,t,n);case 4:return ct(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wn(t,null,s,n):rt(e,t,s,n),t.child;case 11:return oh(e,t,t.type,t.pendingProps,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Ma(t,t.type,s.value),rt(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,pn(t),o=it(o),s=s(o),t.flags|=1,rt(e,t,s,n),t.child;case 14:return uh(e,t,t.type,t.pendingProps,n);case 15:return ch(e,t,t.type,t.pendingProps,n);case 19:return bh(e,t,n);case 31:return r0(e,t,n);case 22:return dh(e,t,n,t.pendingProps);case 24:return pn(t),s=it(Ke),e===null?(o=Co(),o===null&&(o=Re,d=Ro(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:s,cache:o},zo(t),Ma(t,Ke,o)):((e.lanes&n)!==0&&(Do(e,t),nr(t,null,null,n),ar()),o=e.memoizedState,d=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ma(t,Ke,s)):(s=d.cache,Ma(t,Ke,s),s!==o.cache&&Oo(t,[Ke],n,!0))),rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ga(e){e.flags|=4}function gu(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Xh())e.flags|=8192;else throw _n=bs,ko}else e.flags&=-16777217}function wh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mm(t))if(Xh())e.flags|=8192;else throw _n=bs,ko}function Ms(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fc():536870912,e.lanes|=t,ci|=t)}function ur(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function l0(e,t,n){var s=t.pendingProps;switch(So(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),da(Ke),Ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pn(t)?ga(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,To())),ze(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(ga(t),d!==null?(ze(t),wh(t,d)):(ze(t),gu(t,o,null,s,n))):d?d!==e.memoizedState?(ga(t),ze(t),wh(t,d)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ga(t),ze(t),gu(t,o,e,s,n)),null;case 27:if(Xr(t),n=ce.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return ze(t),null}e=P.current,Pn(t)?Fd(t):(e=Om(o,s,n),t.stateNode=e,ga(t))}return ze(t),null;case 5:if(Xr(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return ze(t),null}if(d=P.current,Pn(t))Fd(t);else{var m=Ps(ce.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}d[at]=t,d[ht]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(st(d,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ga(t)}}return ze(t),gu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ce.current,Pn(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=nt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[at]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||pm(e.nodeValue,n)),e||Ua(t,!0)}else e=Ps(e).createTextNode(s),e[at]=t,t.stateNode=e}return ze(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Pn(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[at]=t}else gn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else n=To(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(l(558))}return ze(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Pn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[at]=t}else gn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else o=To(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ms(t,t.updateQueue),ze(t),null);case 4:return Ge(),e===null&&Lu(t.stateNode.containerInfo),ze(t),null;case 10:return da(t.type),ze(t),null;case 19:if(G(Ve),s=t.memoizedState,s===null)return ze(t),null;if(o=(t.flags&128)!==0,d=s.rendering,d===null)if(o)ur(s,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ss(e),d!==null){for(t.flags|=128,ur(s,!1),e=d.updateQueue,t.updateQueue=e,Ms(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jd(n,e),n=n.sibling;return X(Ve,Ve.current&1|2),ge&&ua(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>$s&&(t.flags|=128,o=!0,ur(s,!1),t.lanes=4194304)}else{if(!o)if(e=Ss(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ms(t,e),ur(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!ge)return ze(t),null}else 2*_t()-s.renderingStartTime>$s&&n!==536870912&&(t.flags|=128,o=!0,ur(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,n=Ve.current,X(Ve,o?n&1|2:n&1),ge&&ua(t,s.treeForkCount),e):(ze(t),null);case 22:case 23:return At(t),Bo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),n=t.updateQueue,n!==null&&Ms(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&G(vn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),da(Ke),ze(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function o0(e,t){switch(So(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(Ke),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xr(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(l(340));gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ve),null;case 4:return Ge(),null;case 10:return da(t.type),null;case 22:case 23:return At(t),Bo(),e!==null&&G(vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(Ke),null;case 25:return null;default:return null}}function xh(e,t){switch(So(t),t.tag){case 3:da(Ke),Ge();break;case 26:case 27:case 5:Xr(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:G(Ve);break;case 10:da(t.type);break;case 22:case 23:At(t),Bo(),e!==null&&G(vn);break;case 24:da(Ke)}}function cr(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var d=n.create,m=n.inst;s=d(),m.destroy=s}n=n.next}while(n!==o)}}catch(b){Se(t,t.return,b)}}function Ga(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){var m=s.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var S=n,z=b;try{z()}catch(B){Se(o,S,B)}}}s=s.next}while(s!==d)}}catch(B){Se(t,t.return,B)}}function Sh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hf(t,n)}catch(s){Se(e,e.return,s)}}}function Eh(e,t,n){n.props=Sn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Se(e,t,s)}}function dr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){Se(e,t,o)}}function aa(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){Se(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Se(e,t,o)}else n.current=null}function Th(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){Se(e,e.return,o)}}function yu(e,t,n){try{var s=e.stateNode;N0(s,e.type,n,t),s[ht]=t}catch(o){Se(e,e.return,o)}}function Ah(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sa));else if(s!==4&&(s===27&&Ia(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}function Ls(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Ia(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ls(e,t,n),e=e.sibling;e!==null;)Ls(e,t,n),e=e.sibling}function jh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);st(t,s,n),t[at]=e,t[ht]=n}catch(d){Se(e,e.return,d)}}var ya=!1,Je=!1,bu=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,et=null;function u0(e,t){if(e=e.containerInfo,Hu=il,e=qd(e),fo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,b=-1,S=-1,z=0,B=0,$=e,D=null;t:for(;;){for(var L;$!==n||o!==0&&$.nodeType!==3||(b=m+o),$!==d||s!==0&&$.nodeType!==3||(S=m+s),$.nodeType===3&&(m+=$.nodeValue.length),(L=$.firstChild)!==null;)D=$,$=L;for(;;){if($===e)break t;if(D===n&&++z===o&&(b=m),D===d&&++B===s&&(S=m),(L=$.nextSibling)!==null)break;$=D,D=$.parentNode}$=L}n=b===-1||S===-1?null:{start:b,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for($u={focusedElem:e,selectionRange:n},il=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,s=n.stateNode;try{var I=Sn(n.type,o);e=s.getSnapshotBeforeUpdate(I,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(te){Se(n,n.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Rh(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:va(e,n),s&4&&cr(5,n);break;case 1:if(va(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){Se(n,n.return,m)}else{var o=Sn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Se(n,n.return,m)}}s&64&&Sh(n),s&512&&dr(n,n.return);break;case 3:if(va(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hf(e,t)}catch(m){Se(n,n.return,m)}}break;case 27:t===null&&s&4&&jh(n);case 26:case 5:va(e,n),t===null&&s&4&&Th(n),s&512&&dr(n,n.return);break;case 12:va(e,n);break;case 31:va(e,n),s&4&&kh(e,n);break;case 13:va(e,n),s&4&&zh(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=v0.bind(null,n),B0(e,n))));break;case 22:if(s=n.memoizedState!==null||ya,!s){t=t!==null&&t.memoizedState!==null||Je,o=ya;var d=Je;ya=s,(Je=t)&&!d?ba(e,n,(n.subtreeFlags&8772)!==0):va(e,n),ya=o,Je=d}break;case 30:break;default:va(e,n)}}function Nh(e){var t=e.alternate;t!==null&&(e.alternate=null,Nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,gt=!1;function pa(e,t,n){for(n=n.child;n!==null;)Ch(e,t,n),n=n.sibling}function Ch(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ui,n)}catch{}switch(n.tag){case 26:Je||aa(n,t),pa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Je||aa(n,t);var s=Ue,o=gt;Ia(n.type)&&(Ue=n.stateNode,gt=!1),pa(e,t,n),_r(n.stateNode),Ue=s,gt=o;break;case 5:Je||aa(n,t);case 6:if(s=Ue,o=gt,Ue=null,pa(e,t,n),Ue=s,gt=o,Ue!==null)if(gt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(d){Se(n,t,d)}else try{Ue.removeChild(n.stateNode)}catch(d){Se(n,t,d)}break;case 18:Ue!==null&&(gt?(e=Ue,Sm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),vi(e)):Sm(Ue,n.stateNode));break;case 4:s=Ue,o=gt,Ue=n.stateNode.containerInfo,gt=!0,pa(e,t,n),Ue=s,gt=o;break;case 0:case 11:case 14:case 15:Ga(2,n,t),Je||Ga(4,n,t),pa(e,t,n);break;case 1:Je||(aa(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Eh(n,t,s)),pa(e,t,n);break;case 21:pa(e,t,n);break;case 22:Je=(s=Je)||n.memoizedState!==null,pa(e,t,n),Je=s;break;default:pa(e,t,n)}}function kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vi(e)}catch(n){Se(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vi(e)}catch(n){Se(t,t.return,n)}}function c0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Oh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Oh),t;default:throw Error(l(435,e.tag))}}function Bs(e,t){var n=c0(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=b0.bind(null,e,s);s.then(o,o)}})}function yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],d=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(Ia(b.type)){Ue=b.stateNode,gt=!1;break e}break;case 5:Ue=b.stateNode,gt=!1;break e;case 3:case 4:Ue=b.stateNode.containerInfo,gt=!0;break e}b=b.return}if(Ue===null)throw Error(l(160));Ch(d,m,o),Ue=null,gt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dh(t,e),t=t.sibling}var Jt=null;function Dh(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),pt(e),s&4&&(Ga(3,e,e.return),cr(3,e),Ga(5,e,e.return));break;case 1:yt(t,e),pt(e),s&512&&(Je||n===null||aa(n,n.return)),s&64&&ya&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=Jt;if(yt(t,e),pt(e),s&512&&(Je||n===null||aa(n,n.return)),s&4){var d=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Bi]||d[at]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(s),o.head.insertBefore(d,o.querySelector("head > title"))),st(d,s,n),d[at]=e,Fe(d),s=d;break e;case"link":var m=Dm("link","href",o).get(s+(n.href||""));if(m){for(var b=0;b<m.length;b++)if(d=m[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(b,1);break t}}d=o.createElement(s),st(d,s,n),o.head.appendChild(d);break;case"meta":if(m=Dm("meta","content",o).get(s+(n.content||""))){for(b=0;b<m.length;b++)if(d=m[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(b,1);break t}}d=o.createElement(s),st(d,s,n),o.head.appendChild(d);break;default:throw Error(l(468,s))}d[at]=e,Fe(d),s=d}e.stateNode=s}else Um(o,e.type,e.stateNode);else e.stateNode=zm(o,s,e.memoizedProps);else d!==s?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,s===null?Um(o,e.type,e.stateNode):zm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&yu(e,e.memoizedProps,n.memoizedProps)}break;case 27:yt(t,e),pt(e),s&512&&(Je||n===null||aa(n,n.return)),n!==null&&s&4&&yu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yt(t,e),pt(e),s&512&&(Je||n===null||aa(n,n.return)),e.flags&32){o=e.stateNode;try{$n(o,"")}catch(I){Se(e,e.return,I)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,yu(e,o,n!==null?n.memoizedProps:o)),s&1024&&(bu=!0);break;case 6:if(yt(t,e),pt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(I){Se(e,e.return,I)}}break;case 3:if(el=null,o=Jt,Jt=Ws(t.containerInfo),yt(t,e),Jt=o,pt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(t.containerInfo)}catch(I){Se(e,e.return,I)}bu&&(bu=!1,Uh(e));break;case 4:s=Jt,Jt=Ws(e.stateNode.containerInfo),yt(t,e),pt(e),Jt=s;break;case 12:yt(t,e),pt(e);break;case 31:yt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Bs(e,s)));break;case 13:yt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hs=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Bs(e,s)));break;case 22:o=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,z=ya,B=Je;if(ya=z||o,Je=B||S,yt(t,e),Je=B,ya=z,pt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||S||ya||Je||En(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(d=S.stateNode,o)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=S.stateNode;var $=S.memoizedProps.style,D=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(I){Se(S,S.return,I)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(I){Se(S,S.return,I)}}}else if(t.tag===18){if(n===null){S=t;try{var L=S.stateNode;o?Em(L,!0):Em(S.stateNode,!1)}catch(I){Se(S,S.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Bs(e,n))));break;case 19:yt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Bs(e,s)));break;case 30:break;case 21:break;default:yt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Ah(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,d=pu(e);Ls(e,d,o);break;case 5:var m=n.stateNode;n.flags&32&&($n(m,""),n.flags&=-33);var b=pu(e);Ls(e,b,m);break;case 3:case 4:var S=n.stateNode.containerInfo,z=pu(e);vu(e,z,S);break;default:throw Error(l(161))}}catch(B){Se(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Uh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function va(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rh(e,t.alternate,t),t=t.sibling}function En(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ga(4,t,t.return),En(t);break;case 1:aa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Eh(t,t.return,n),En(t);break;case 27:_r(t.stateNode);case 26:case 5:aa(t,t.return),En(t);break;case 22:t.memoizedState===null&&En(t);break;case 30:En(t);break;default:En(t)}e=e.sibling}}function ba(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:ba(o,d,n),cr(4,d);break;case 1:if(ba(o,d,n),s=d,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Se(s,s.return,z)}if(s=d,o=s.updateQueue,o!==null){var b=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)ff(S[o],b)}catch(z){Se(s,s.return,z)}}n&&m&64&&Sh(d),dr(d,d.return);break;case 27:jh(d);case 26:case 5:ba(o,d,n),n&&s===null&&m&4&&Th(d),dr(d,d.return);break;case 12:ba(o,d,n);break;case 31:ba(o,d,n),n&&m&4&&kh(o,d);break;case 13:ba(o,d,n),n&&m&4&&zh(o,d);break;case 22:d.memoizedState===null&&ba(o,d,n),dr(d,d.return);break;case 30:break;default:ba(o,d,n)}t=t.sibling}}function _u(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Pi(n))}function wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pi(e))}function It(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mh(e,t,n,s),t=t.sibling}function Mh(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,n,s),o&2048&&cr(9,t);break;case 1:It(e,t,n,s);break;case 3:It(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pi(e)));break;case 12:if(o&2048){It(e,t,n,s),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,b=d.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Se(t,t.return,S)}}else It(e,t,n,s);break;case 31:It(e,t,n,s);break;case 13:It(e,t,n,s);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?It(e,t,n,s):fr(e,t):d._visibility&2?It(e,t,n,s):(d._visibility|=2,li(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&_u(m,t);break;case 24:It(e,t,n,s),o&2048&&wu(t.alternate,t);break;default:It(e,t,n,s)}}function li(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,b=n,S=s,z=m.flags;switch(m.tag){case 0:case 11:case 15:li(d,m,b,S,o),cr(8,m);break;case 23:break;case 22:var B=m.stateNode;m.memoizedState!==null?B._visibility&2?li(d,m,b,S,o):fr(d,m):(B._visibility|=2,li(d,m,b,S,o)),o&&z&2048&&_u(m.alternate,m);break;case 24:li(d,m,b,S,o),o&&z&2048&&wu(m.alternate,m);break;default:li(d,m,b,S,o)}t=t.sibling}}function fr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:fr(n,s),o&2048&&_u(s.alternate,s);break;case 24:fr(n,s),o&2048&&wu(s.alternate,s);break;default:fr(n,s)}t=t.sibling}}var hr=8192;function oi(e,t,n){if(e.subtreeFlags&hr)for(e=e.child;e!==null;)Lh(e,t,n),e=e.sibling}function Lh(e,t,n){switch(e.tag){case 26:oi(e,t,n),e.flags&hr&&e.memoizedState!==null&&Z0(n,Jt,e.memoizedState,e.memoizedProps);break;case 5:oi(e,t,n);break;case 3:case 4:var s=Jt;Jt=Ws(e.stateNode.containerInfo),oi(e,t,n),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=hr,hr=16777216,oi(e,t,n),hr=s):oi(e,t,n));break;default:oi(e,t,n)}}function Bh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];et=s,Hh(s,e)}Bh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qh(e),e=e.sibling}function qh(e){switch(e.tag){case 0:case 11:case 15:mr(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:mr(e);break;case 12:mr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qs(e)):mr(e);break;default:mr(e)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];et=s,Hh(s,e)}Bh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ga(8,t,t.return),qs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,qs(t));break;default:qs(t)}e=e.sibling}}function Hh(e,t){for(;et!==null;){var n=et;switch(n.tag){case 0:case 11:case 15:Ga(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Pi(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,et=s;else e:for(n=e;et!==null;){s=et;var o=s.sibling,d=s.return;if(Nh(s),s===n){et=null;break e}if(o!==null){o.return=d,et=o;break e}et=d}}}var d0={getCacheForType:function(e){var t=it(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return it(Ke).controller.signal}},f0=typeof WeakMap=="function"?WeakMap:Map,_e=0,Re=null,de=null,he=0,xe=0,jt=null,Va=!1,ui=!1,xu=!1,_a=0,qe=0,Ya=0,Tn=0,Su=0,Ot=0,ci=0,gr=null,vt=null,Eu=!1,Hs=0,$h=0,$s=1/0,Gs=null,Ka=null,Ze=0,Qa=null,di=null,wa=0,Tu=0,Au=null,Gh=null,yr=0,ju=null;function Rt(){return(_e&2)!==0&&he!==0?he&-he:q.T!==null?zu():nd()}function Vh(){if(Ot===0)if((he&536870912)===0||ge){var e=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),Ot=e}else Ot=536870912;return e=Tt.current,e!==null&&(e.flags|=32),Ot}function bt(e,t,n){(e===Re&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(fi(e,0),Xa(e,he,Ot,!1)),Li(e,n),((_e&2)===0||e!==Re)&&(e===Re&&((_e&2)===0&&(Tn|=n),qe===4&&Xa(e,he,Ot,!1)),na(e))}function Yh(e,t,n){if((_e&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Mi(e,t),o=s?g0(e,t):Ru(e,t,!0),d=s;do{if(o===0){ui&&!s&&Xa(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!h0(n)){o=Ru(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=gr;var S=b.current.memoizedState.isDehydrated;if(S&&(fi(b,m).flags|=256),m=Ru(b,m,!1),m!==2){if(xu&&!S){b.errorRecoveryDisabledLanes|=d,Tn|=d,o=4;break e}d=vt,vt=o,d!==null&&(vt===null?vt=d:vt.push.apply(vt,d))}o=m}if(d=!1,o!==2)continue}}if(o===1){fi(e,0),Xa(e,t,0,!0);break}e:{switch(s=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Xa(s,t,Ot,!Va);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Hs+300-_t(),10<o)){if(Xa(s,t,Ot,!Va),Wr(s,0,!0)!==0)break e;wa=t,s.timeoutHandle=wm(Kh.bind(null,s,n,vt,Gs,Eu,t,Ot,Tn,ci,Va,d,"Throttled",-0,0),o);break e}Kh(s,n,vt,Gs,Eu,t,Ot,Tn,ci,Va,d,null,-0,0)}}break}while(!0);na(e)}function Kh(e,t,n,s,o,d,m,b,S,z,B,$,D,L){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},Lh(t,d,$);var I=(d&62914560)===d?Hs-_t():(d&4194048)===d?$h-_t():0;if(I=P0($,I),I!==null){wa=d,e.cancelPendingCommit=I(Fh.bind(null,e,t,d,n,s,o,m,b,S,B,$,null,D,L)),Xa(e,d,m,!z);return}}Fh(e,t,d,n,s,o,m,b,S)}function h0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],d=o.getSnapshot;o=o.value;try{if(!St(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,n,s){t&=~Su,t&=~Tn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var d=31-xt(o),m=1<<d;s[d]=-1,o&=~m}n!==0&&ed(e,n,t)}function Vs(){return(_e&6)===0?(pr(0),!1):!0}function Ou(){if(de!==null){if(xe===0)var e=de.return;else e=de,ca=yn=null,Yo(e),ai=null,Fi=0,e=de;for(;e!==null;)xh(e.alternate,e),e=e.return;de=null}}function fi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,z0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wa=0,Ou(),Re=e,de=n=oa(e.current,null),he=t,xe=0,jt=null,Va=!1,ui=Mi(e,t),xu=!1,ci=Ot=Su=Tn=Ya=qe=0,vt=gr=null,Eu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-xt(s),d=1<<o;t|=e[o],s&=~d}return _a=t,cs(),n}function Qh(e,t){le=null,q.H=lr,t===ti||t===vs?(t=of(),xe=3):t===ko?(t=of(),xe=4):xe=t===su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,de===null&&(qe=1,ks(e,Bt(t,e.current)))}function Xh(){var e=Tt.current;return e===null?!0:(he&4194048)===he?Gt===null:(he&62914560)===he||(he&536870912)!==0?e===Gt:!1}function Jh(){var e=q.H;return q.H=lr,e===null?lr:e}function Ih(){var e=q.A;return q.A=d0,e}function Ys(){qe=4,Va||(he&4194048)!==he&&Tt.current!==null||(ui=!0),(Ya&134217727)===0&&(Tn&134217727)===0||Re===null||Xa(Re,he,Ot,!1)}function Ru(e,t,n){var s=_e;_e|=2;var o=Jh(),d=Ih();(Re!==e||he!==t)&&(Gs=null,fi(e,t)),t=!1;var m=qe;e:do try{if(xe!==0&&de!==null){var b=de,S=jt;switch(xe){case 8:Ou(),m=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var z=xe;if(xe=0,jt=null,hi(e,b,S,z),n&&ui){m=0;break e}break;default:z=xe,xe=0,jt=null,hi(e,b,S,z)}}m0(),m=qe;break}catch(B){Qh(e,B)}while(!0);return t&&e.shellSuspendCounter++,ca=yn=null,_e=s,q.H=o,q.A=d,de===null&&(Re=null,he=0,cs()),m}function m0(){for(;de!==null;)Zh(de)}function g0(e,t){var n=_e;_e|=2;var s=Jh(),o=Ih();Re!==e||he!==t?(Gs=null,$s=_t()+500,fi(e,t)):ui=Mi(e,t);e:do try{if(xe!==0&&de!==null){t=de;var d=jt;t:switch(xe){case 1:xe=0,jt=null,hi(e,t,d,1);break;case 2:case 9:if(sf(d)){xe=0,jt=null,Ph(t);break}t=function(){xe!==2&&xe!==9||Re!==e||(xe=7),na(e)},d.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:sf(d)?(xe=0,jt=null,Ph(t)):(xe=0,jt=null,hi(e,t,d,7));break;case 5:var m=null;switch(de.tag){case 26:m=de.memoizedState;case 5:case 27:var b=de;if(m?Mm(m):b.stateNode.complete){xe=0,jt=null;var S=b.sibling;if(S!==null)de=S;else{var z=b.return;z!==null?(de=z,Ks(z)):de=null}break t}}xe=0,jt=null,hi(e,t,d,5);break;case 6:xe=0,jt=null,hi(e,t,d,6);break;case 8:Ou(),qe=6;break e;default:throw Error(l(462))}}y0();break}catch(B){Qh(e,B)}while(!0);return ca=yn=null,q.H=s,q.A=o,_e=n,de!==null?0:(Re=null,he=0,cs(),qe)}function y0(){for(;de!==null&&!qy();)Zh(de)}function Zh(e){var t=_h(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?Ks(e):de=t}function Ph(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mh(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=mh(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:Yo(t);default:xh(n,t),t=de=Jd(t,_a),t=_h(n,t,_a)}e.memoizedProps=e.pendingProps,t===null?Ks(e):de=t}function hi(e,t,n,s){ca=yn=null,Yo(t),ai=null,Fi=0;var o=t.return;try{if(i0(e,o,t,n,he)){qe=1,ks(e,Bt(n,e.current)),de=null;return}}catch(d){if(o!==null)throw de=o,d;qe=1,ks(e,Bt(n,e.current)),de=null;return}t.flags&32768?(ge||s===1?e=!0:ui||(he&536870912)!==0?e=!1:(Va=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Wh(t,e)):Ks(t)}function Ks(e){var t=e;do{if((t.flags&32768)!==0){Wh(t,Va);return}e=t.return;var n=l0(t.alternate,t,_a);if(n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);qe===0&&(qe=5)}function Wh(e,t){do{var n=o0(e.alternate,e);if(n!==null){n.flags&=32767,de=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=n}while(e!==null);qe=6,de=null}function Fh(e,t,n,s,o,d,m,b,S){e.cancelPendingCommit=null;do Qs();while(Ze!==0);if((_e&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=po,Iy(e,n,d,m,b,S),e===Re&&(de=Re=null,he=0),di=t,Qa=e,wa=n,Tu=d,Au=o,Gh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_0(Jr,function(){return im(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,o=Q.p,Q.p=2,m=_e,_e|=4;try{u0(e,t,n)}finally{_e=m,Q.p=o,q.T=s}}Ze=1,em(),tm(),am()}}function em(){if(Ze===1){Ze=0;var e=Qa,t=di,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null;var s=Q.p;Q.p=2;var o=_e;_e|=4;try{Dh(t,e);var d=$u,m=qd(e.containerInfo),b=d.focusedElem,S=d.selectionRange;if(m!==b&&b&&b.ownerDocument&&Bd(b.ownerDocument.documentElement,b)){if(S!==null&&fo(b)){var z=S.start,B=S.end;if(B===void 0&&(B=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(B,b.value.length);else{var $=b.ownerDocument||document,D=$&&$.defaultView||window;if(D.getSelection){var L=D.getSelection(),I=b.textContent.length,te=Math.min(S.start,I),je=S.end===void 0?te:Math.min(S.end,I);!L.extend&&te>je&&(m=je,je=te,te=m);var N=Ld(b,te),A=Ld(b,je);if(N&&A&&(L.rangeCount!==1||L.anchorNode!==N.node||L.anchorOffset!==N.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var k=$.createRange();k.setStart(N.node,N.offset),L.removeAllRanges(),te>je?(L.addRange(k),L.extend(A.node,A.offset)):(k.setEnd(A.node,A.offset),L.addRange(k))}}}}for($=[],L=b;L=L.parentNode;)L.nodeType===1&&$.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var H=$[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}il=!!Hu,$u=Hu=null}finally{_e=o,Q.p=s,q.T=n}}e.current=t,Ze=2}}function tm(){if(Ze===2){Ze=0;var e=Qa,t=di,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=q.T,q.T=null;var s=Q.p;Q.p=2;var o=_e;_e|=4;try{Rh(e,t.alternate,t)}finally{_e=o,Q.p=s,q.T=n}}Ze=3}}function am(){if(Ze===4||Ze===3){Ze=0,Hy();var e=Qa,t=di,n=wa,s=Gh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ze=5:(Ze=0,di=Qa=null,nm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ka=null),Ql(n),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ui,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=q.T,o=Q.p,Q.p=2,q.T=null;try{for(var d=e.onRecoverableError,m=0;m<s.length;m++){var b=s[m];d(b.value,{componentStack:b.stack})}}finally{q.T=t,Q.p=o}}(wa&3)!==0&&Qs(),na(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===ju?yr++:(yr=0,ju=e):yr=0,pr(0)}}function nm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pi(t)))}function Qs(){return em(),tm(),am(),im()}function im(){if(Ze!==5)return!1;var e=Qa,t=Tu;Tu=0;var n=Ql(wa),s=q.T,o=Q.p;try{Q.p=32>n?32:n,q.T=null,n=Au,Au=null;var d=Qa,m=wa;if(Ze=0,di=Qa=null,wa=0,(_e&6)!==0)throw Error(l(331));var b=_e;if(_e|=4,qh(d.current),Mh(d,d.current,m,n),_e=b,pr(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ui,d)}catch{}return!0}finally{Q.p=o,q.T=s,nm(e,t)}}function rm(e,t,n){t=Bt(n,t),t=ru(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(Li(e,2),na(e))}function Se(e,t,n){if(e.tag===3)rm(e,e,n);else for(;t!==null;){if(t.tag===3){rm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ka===null||!Ka.has(s))){e=Bt(n,e),n=sh(2),s=qa(t,n,2),s!==null&&(lh(n,s,t,e),Li(s,2),na(s));break}}t=t.return}}function Nu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new f0;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(xu=!0,o.add(n),e=p0.bind(null,e,t,n),t.then(e,e))}function p0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Re===e&&(he&n)===n&&(qe===4||qe===3&&(he&62914560)===he&&300>_t()-Hs?(_e&2)===0&&fi(e,0):Su|=n,ci===he&&(ci=0)),na(e)}function sm(e,t){t===0&&(t=Fc()),e=hn(e,t),e!==null&&(Li(e,t),na(e))}function v0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sm(e,n)}function b0(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),sm(e,n)}function _0(e,t){return Gl(e,t)}var Xs=null,mi=null,Cu=!1,Js=!1,ku=!1,Ja=0;function na(e){e!==mi&&e.next===null&&(mi===null?Xs=mi=e:mi=mi.next=e),Js=!0,Cu||(Cu=!0,x0())}function pr(e,t){if(!ku&&Js){ku=!0;do for(var n=!1,s=Xs;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var d=0;else{var m=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-xt(42|e)+1)-1,d&=o&~(m&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,cm(s,d))}else d=he,d=Wr(s,s===Re?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Mi(s,d)||(n=!0,cm(s,d));s=s.next}while(n);ku=!1}}function w0(){lm()}function lm(){Js=Cu=!1;var e=0;Ja!==0&&k0()&&(e=Ja);for(var t=_t(),n=null,s=Xs;s!==null;){var o=s.next,d=om(s,t);d===0?(s.next=null,n===null?Xs=o:n.next=o,o===null&&(mi=n)):(n=s,(e!==0||(d&3)!==0)&&(Js=!0)),s=o}Ze!==0&&Ze!==5||pr(e),Ja!==0&&(Ja=0)}function om(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-xt(d),b=1<<m,S=o[m];S===-1?((b&n)===0||(b&s)!==0)&&(o[m]=Jy(b,t)):S<=t&&(e.expiredLanes|=b),d&=~b}if(t=Re,n=he,n=Wr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Vl(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Mi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Vl(s),Ql(n)){case 2:case 8:n=Pc;break;case 32:n=Jr;break;case 268435456:n=Wc;break;default:n=Jr}return s=um.bind(null,e),n=Gl(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Vl(s),e.callbackPriority=2,e.callbackNode=null,2}function um(e,t){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var s=he;return s=Wr(e,e===Re?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Yh(e,s,t),om(e,_t()),e.callbackNode!=null&&e.callbackNode===n?um.bind(null,e):null)}function cm(e,t){if(Qs())return null;Yh(e,t,!0)}function x0(){D0(function(){(_e&6)!==0?Gl(Zc,w0):lm()})}function zu(){if(Ja===0){var e=Fn;e===0&&(e=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),Ja=e}return Ja}function dm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:as(""+e)}function fm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function S0(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var d=dm((o[ht]||null).action),m=s.submitter;m&&(t=(t=m[ht]||null)?dm(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var b=new ss("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ja!==0){var S=m?fm(o,m):new FormData(o);Fo(n,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(b.preventDefault(),S=m?fm(o,m):new FormData(o),Fo(n,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Du=0;Du<yo.length;Du++){var Uu=yo[Du],E0=Uu.toLowerCase(),T0=Uu[0].toUpperCase()+Uu.slice(1);Xt(E0,"on"+T0)}Xt(Gd,"onAnimationEnd"),Xt(Vd,"onAnimationIteration"),Xt(Yd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt($p,"onTransitionRun"),Xt(Gp,"onTransitionStart"),Xt(Vp,"onTransitionCancel"),Xt(Kd,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vr));function hm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var m=s.length-1;0<=m;m--){var b=s[m],S=b.instance,z=b.currentTarget;if(b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=z;try{d(o)}catch(B){us(B)}o.currentTarget=null,d=S}else for(m=0;m<s.length;m++){if(b=s[m],S=b.instance,z=b.currentTarget,b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=z;try{d(o)}catch(B){us(B)}o.currentTarget=null,d=S}}}}function fe(e,t){var n=t[Xl];n===void 0&&(n=t[Xl]=new Set);var s=e+"__bubble";n.has(s)||(mm(t,e,2,!1),n.add(s))}function Mu(e,t,n){var s=0;t&&(s|=4),mm(n,e,s,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Lu(e){if(!e[Is]){e[Is]=!0,sd.forEach(function(n){n!=="selectionchange"&&(A0.has(n)||Mu(n,!1,e),Mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Mu("selectionchange",!1,t))}}function mm(e,t,n,s){switch(Vm(t)){case 2:var o=ev;break;case 8:o=tv;break;default:o=Wu}n=o.bind(null,t,n,e),o=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Bu(e,t,n,s,o){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var b=s.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=s.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=Mn(b),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){s=d=m;continue e}b=b.parentNode}}s=s.return}vd(function(){var z=d,B=eo(n),$=[];e:{var D=Qd.get(e);if(D!==void 0){var L=ss,I=e;switch(e){case"keypress":if(is(n)===0)break e;case"keydown":case"keyup":L=bp;break;case"focusin":I="focus",L=so;break;case"focusout":I="blur",L=so;break;case"beforeblur":case"afterblur":L=so;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=xp;break;case Gd:case Vd:case Yd:L=cp;break;case Kd:L=Ep;break;case"scroll":case"scrollend":L=rp;break;case"wheel":L=Ap;break;case"copy":case"cut":case"paste":L=fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Sd;break;case"toggle":case"beforetoggle":L=Op}var te=(t&4)!==0,je=!te&&(e==="scroll"||e==="scrollend"),N=te?D!==null?D+"Capture":null:D;te=[];for(var A=z,k;A!==null;){var H=A;if(k=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||k===null||N===null||(H=Hi(A,N),H!=null&&te.push(br(A,H,k))),je)break;A=A.return}0<te.length&&(D=new L(D,I,null,n,B),$.push({event:D,listeners:te}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",D&&n!==Fl&&(I=n.relatedTarget||n.fromElement)&&(Mn(I)||I[Un]))break e;if((L||D)&&(D=B.window===B?B:(D=B.ownerDocument)?D.defaultView||D.parentWindow:window,L?(I=n.relatedTarget||n.toElement,L=z,I=I?Mn(I):null,I!==null&&(je=c(I),te=I.tag,I!==je||te!==5&&te!==27&&te!==6)&&(I=null)):(L=null,I=z),L!==I)){if(te=wd,H="onMouseLeave",N="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(te=Sd,H="onPointerLeave",N="onPointerEnter",A="pointer"),je=L==null?D:qi(L),k=I==null?D:qi(I),D=new te(H,A+"leave",L,n,B),D.target=je,D.relatedTarget=k,H=null,Mn(B)===z&&(te=new te(N,A+"enter",I,n,B),te.target=k,te.relatedTarget=je,H=te),je=H,L&&I)t:{for(te=j0,N=L,A=I,k=0,H=N;H;H=te(H))k++;H=0;for(var ee=A;ee;ee=te(ee))H++;for(;0<k-H;)N=te(N),k--;for(;0<H-k;)A=te(A),H--;for(;k--;){if(N===A||A!==null&&N===A.alternate){te=N;break t}N=te(N),A=te(A)}te=null}else te=null;L!==null&&gm($,D,L,te,!1),I!==null&&je!==null&&gm($,je,I,te,!0)}}e:{if(D=z?qi(z):window,L=D.nodeName&&D.nodeName.toLowerCase(),L==="select"||L==="input"&&D.type==="file")var ve=Cd;else if(Rd(D))if(kd)ve=Bp;else{ve=Mp;var W=Up}else L=D.nodeName,!L||L.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?z&&Wl(z.elementType)&&(ve=Cd):ve=Lp;if(ve&&(ve=ve(e,z))){Nd($,ve,n,B);break e}W&&W(e,D,z),e==="focusout"&&z&&D.type==="number"&&z.memoizedProps.value!=null&&Pl(D,"number",D.value)}switch(W=z?qi(z):window,e){case"focusin":(Rd(W)||W.contentEditable==="true")&&(Kn=W,ho=z,Ji=null);break;case"focusout":Ji=ho=Kn=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,Hd($,n,B);break;case"selectionchange":if(Hp)break;case"keydown":case"keyup":Hd($,n,B)}var oe;if(oo)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Yn?jd(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(Ed&&n.locale!=="ko"&&(Yn||me!=="onCompositionStart"?me==="onCompositionEnd"&&Yn&&(oe=bd()):(ka=B,no="value"in ka?ka.value:ka.textContent,Yn=!0)),W=Zs(z,me),0<W.length&&(me=new xd(me,e,null,n,B),$.push({event:me,listeners:W}),oe?me.data=oe:(oe=Od(n),oe!==null&&(me.data=oe)))),(oe=Np?Cp(e,n):kp(e,n))&&(me=Zs(z,"onBeforeInput"),0<me.length&&(W=new xd("onBeforeInput","beforeinput",null,n,B),$.push({event:W,listeners:me}),W.data=oe)),S0($,e,z,n,B)}hm($,t)})}function br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Hi(e,n),o!=null&&s.unshift(br(e,o,d)),o=Hi(e,t),o!=null&&s.push(br(e,o,d))),e.tag===3)return s;e=e.return}return[]}function j0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gm(e,t,n,s,o){for(var d=t._reactName,m=[];n!==null&&n!==s;){var b=n,S=b.alternate,z=b.stateNode;if(b=b.tag,S!==null&&S===s)break;b!==5&&b!==26&&b!==27||z===null||(S=z,o?(z=Hi(n,d),z!=null&&m.unshift(br(n,z,S))):o||(z=Hi(n,d),z!=null&&m.push(br(n,z,S)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var O0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(O0,`
`).replace(R0,"")}function pm(e,t){return t=ym(t),ym(e)===t}function Ae(e,t,n,s,o,d){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||$n(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&$n(e,""+s);break;case"className":es(e,"class",s);break;case"tabIndex":es(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":es(e,n,s);break;case"style":yd(e,s,d);break;case"data":if(t!=="object"){es(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=as(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",o.name,o,null),Ae(e,t,"formEncType",o.formEncType,o,null),Ae(e,t,"formMethod",o.formMethod,o,null),Ae(e,t,"formTarget",o.formTarget,o,null)):(Ae(e,t,"encType",o.encType,o,null),Ae(e,t,"method",o.method,o,null),Ae(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=as(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=sa);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=as(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Fr(e,"popover",s);break;case"xlinkActuate":ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ra(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ra(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ra(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ra(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=np.get(n)||n,Fr(e,n,s))}}function qu(e,t,n,s,o,d){switch(n){case"style":yd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?$n(e,s):(typeof s=="number"||typeof s=="bigint")&&$n(e,""+s);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ld.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[ht]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof s=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Fr(e,n,s)}}}function st(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var s=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var m=n[d];if(m!=null)switch(d){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ae(e,t,d,m,n,null)}}o&&Ae(e,t,"srcSet",n.srcSet,n,null),s&&Ae(e,t,"src",n.src,n,null);return;case"input":fe("invalid",e);var b=d=m=o=null,S=null,z=null;for(s in n)if(n.hasOwnProperty(s)){var B=n[s];if(B!=null)switch(s){case"name":o=B;break;case"type":m=B;break;case"checked":S=B;break;case"defaultChecked":z=B;break;case"value":d=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:Ae(e,t,s,B,n,null)}}fd(e,d,b,S,z,m,o,!1);return;case"select":fe("invalid",e),s=m=d=null;for(o in n)if(n.hasOwnProperty(o)&&(b=n[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":m=b;break;case"multiple":s=b;default:Ae(e,t,o,b,n,null)}t=d,n=m,e.multiple=!!s,t!=null?Hn(e,!!s,t,!1):n!=null&&Hn(e,!!s,n,!0);return;case"textarea":fe("invalid",e),d=o=s=null;for(m in n)if(n.hasOwnProperty(m)&&(b=n[m],b!=null))switch(m){case"value":s=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ae(e,t,m,b,n,null)}md(e,s,o,d);return;case"option":for(S in n)n.hasOwnProperty(S)&&(s=n[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ae(e,t,S,s,n,null));return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(s=0;s<vr.length;s++)fe(vr[s],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in n)if(n.hasOwnProperty(z)&&(s=n[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ae(e,t,z,s,n,null)}return;default:if(Wl(t)){for(B in n)n.hasOwnProperty(B)&&(s=n[B],s!==void 0&&qu(e,t,B,s,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(s=n[b],s!=null&&Ae(e,t,b,s,n,null))}function N0(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,b=null,S=null,z=null,B=null;for(L in n){var $=n[L];if(n.hasOwnProperty(L)&&$!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":S=$;default:s.hasOwnProperty(L)||Ae(e,t,L,null,s,$)}}for(var D in s){var L=s[D];if($=n[D],s.hasOwnProperty(D)&&(L!=null||$!=null))switch(D){case"type":d=L;break;case"name":o=L;break;case"checked":z=L;break;case"defaultChecked":B=L;break;case"value":m=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==$&&Ae(e,t,D,L,s,$)}}Zl(e,m,b,S,z,B,d,o);return;case"select":L=m=b=D=null;for(d in n)if(S=n[d],n.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":L=S;default:s.hasOwnProperty(d)||Ae(e,t,d,null,s,S)}for(o in s)if(d=s[o],S=n[o],s.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":D=d;break;case"defaultValue":b=d;break;case"multiple":m=d;default:d!==S&&Ae(e,t,o,d,s,S)}t=b,n=m,s=L,D!=null?Hn(e,!!n,D,!1):!!s!=!!n&&(t!=null?Hn(e,!!n,t,!0):Hn(e,!!n,n?[]:"",!1));return;case"textarea":L=D=null;for(b in n)if(o=n[b],n.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ae(e,t,b,null,s,o)}for(m in s)if(o=s[m],d=n[m],s.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":D=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&Ae(e,t,m,o,s,d)}hd(e,D,L);return;case"option":for(var I in n)D=n[I],n.hasOwnProperty(I)&&D!=null&&!s.hasOwnProperty(I)&&(I==="selected"?e.selected=!1:Ae(e,t,I,null,s,D));for(S in s)D=s[S],L=n[S],s.hasOwnProperty(S)&&D!==L&&(D!=null||L!=null)&&(S==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":Ae(e,t,S,D,s,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in n)D=n[te],n.hasOwnProperty(te)&&D!=null&&!s.hasOwnProperty(te)&&Ae(e,t,te,null,s,D);for(z in s)if(D=s[z],L=n[z],s.hasOwnProperty(z)&&D!==L&&(D!=null||L!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Ae(e,t,z,D,s,L)}return;default:if(Wl(t)){for(var je in n)D=n[je],n.hasOwnProperty(je)&&D!==void 0&&!s.hasOwnProperty(je)&&qu(e,t,je,void 0,s,D);for(B in s)D=s[B],L=n[B],!s.hasOwnProperty(B)||D===L||D===void 0&&L===void 0||qu(e,t,B,D,s,L);return}}for(var N in n)D=n[N],n.hasOwnProperty(N)&&D!=null&&!s.hasOwnProperty(N)&&Ae(e,t,N,null,s,D);for($ in s)D=s[$],L=n[$],!s.hasOwnProperty($)||D===L||D==null&&L==null||Ae(e,t,$,D,s,L)}function vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],d=o.transferSize,m=o.initiatorType,b=o.duration;if(d&&b&&vm(m)){for(m=0,b=o.responseEnd,s+=1;s<n.length;s++){var S=n[s],z=S.startTime;if(z>b)break;var B=S.transferSize,$=S.initiatorType;B&&vm($)&&(S=S.responseEnd,m+=B*(S<b?1:(b-z)/(S-z)))}if(--s,t+=8*(d+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hu=null,$u=null;function Ps(e){return e.nodeType===9?e:e.ownerDocument}function bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vu=null;function k0(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var wm=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(e){return xm.resolve(null).then(e).catch(U0)}:wm;function U0(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function Sm(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),vi(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")_r(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,_r(n);for(var d=n.firstChild;d;){var m=d.nextSibling,b=d.nodeName;d[Bi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=m}}else n==="body"&&_r(e.ownerDocument.body);n=o}while(n);vi(t)}function Em(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yu(n),Jl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function M0(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Bi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function L0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function Tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function Ku(e){return e.data==="$?"||e.data==="$~"}function Qu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function B0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xu=null;function Am(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Om(e,t,n){switch(t=Ps(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function _r(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jl(e)}var Yt=new Map,Rm=new Set;function Ws(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=Q.d;Q.d={f:q0,r:H0,D:$0,C:G0,L:V0,m:Y0,X:Q0,S:K0,M:X0};function q0(){var e=xa.f(),t=Vs();return e||t}function H0(e){var t=Ln(e);t!==null&&t.tag===5&&t.type==="form"?Qf(t):xa.r(e)}var gi=typeof document>"u"?null:document;function Nm(e,t,n){var s=gi;if(s&&typeof t=="string"&&t){var o=Mt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Rm.has(o)||(Rm.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),st(t,"link",e),Fe(t),s.head.appendChild(t)))}}function $0(e){xa.D(e),Nm("dns-prefetch",e,null)}function G0(e,t){xa.C(e,t),Nm("preconnect",e,t)}function V0(e,t,n){xa.L(e,t,n);var s=gi;if(s&&e&&t){var o='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Mt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Mt(n.imageSizes)+'"]')):o+='[href="'+Mt(e)+'"]';var d=o;switch(t){case"style":d=yi(e);break;case"script":d=pi(e)}Yt.has(d)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(d,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(wr(d))||t==="script"&&s.querySelector(xr(d))||(t=s.createElement("link"),st(t,"link",e),Fe(t),s.head.appendChild(t)))}}function Y0(e,t){xa.m(e,t);var n=gi;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',d=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=pi(e)}if(!Yt.has(d)&&(e=_({rel:"modulepreload",href:e},t),Yt.set(d,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xr(d)))return}s=n.createElement("link"),st(s,"link",e),Fe(s),n.head.appendChild(s)}}}function K0(e,t,n){xa.S(e,t,n);var s=gi;if(s&&e){var o=Bn(s).hoistableStyles,d=yi(e);t=t||"default";var m=o.get(d);if(!m){var b={loading:0,preload:null};if(m=s.querySelector(wr(d)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(d))&&Ju(e,n);var S=m=s.createElement("link");Fe(S),st(S,"link",e),S._p=new Promise(function(z,B){S.onload=z,S.onerror=B}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fs(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(d,m)}}}function Q0(e,t){xa.X(e,t);var n=gi;if(n&&e){var s=Bn(n).hoistableScripts,o=pi(e),d=s.get(o);d||(d=n.querySelector(xr(o)),d||(e=_({src:e,async:!0},t),(t=Yt.get(o))&&Iu(e,t),d=n.createElement("script"),Fe(d),st(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function X0(e,t){xa.M(e,t);var n=gi;if(n&&e){var s=Bn(n).hoistableScripts,o=pi(e),d=s.get(o);d||(d=n.querySelector(xr(o)),d||(e=_({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Iu(e,t),d=n.createElement("script"),Fe(d),st(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Cm(e,t,n,s){var o=(o=ce.current)?Ws(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=yi(n.href),n=Bn(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=yi(n.href);var d=Bn(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(wr(e)))&&!d._p&&(m.instance=d,m.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),d||J0(o,e,n,m.state))),t&&s===null)throw Error(l(528,""));return m}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=pi(n),n=Bn(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function yi(e){return'href="'+Mt(e)+'"'}function wr(e){return'link[rel="stylesheet"]['+e+"]"}function km(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function J0(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),st(t,"link",n),Fe(t),e.head.appendChild(t))}function pi(e){return'[src="'+Mt(e)+'"]'}function xr(e){return"script[async]"+e}function zm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(n.href)+'"]');if(s)return t.instance=s,Fe(s),s;var o=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Fe(s),st(s,"style",o),Fs(s,n.precedence,e),t.instance=s;case"stylesheet":o=yi(n.href);var d=e.querySelector(wr(o));if(d)return t.state.loading|=4,t.instance=d,Fe(d),d;s=km(n),(o=Yt.get(o))&&Ju(s,o),d=(e.ownerDocument||e).createElement("link"),Fe(d);var m=d;return m._p=new Promise(function(b,S){m.onload=b,m.onerror=S}),st(d,"link",s),t.state.loading|=4,Fs(d,n.precedence,e),t.instance=d;case"script":return d=pi(n.src),(o=e.querySelector(xr(d)))?(t.instance=o,Fe(o),o):(s=n,(o=Yt.get(d))&&(s=_({},n),Iu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Fe(o),st(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Fs(s,n.precedence,e));return t.instance}function Fs(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,d=o,m=0;m<s.length;m++){var b=s[m];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var el=null;function Dm(e,t,n){if(el===null){var s=new Map,o=el=new Map;o.set(n,s)}else o=el,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[Bi]||d[at]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var b=s.get(m);b?b.push(d):s.set(m,[d])}}return s}function Um(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function I0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Z0(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=yi(s.href),d=t.querySelector(wr(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=tl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,Fe(d);return}d=t.ownerDocument||t,s=km(s),(o=Yt.get(o))&&Ju(s,o),d=d.createElement("link"),Fe(d);var m=d;m._p=new Promise(function(b,S){m.onload=b,m.onerror=S}),st(d,"link",s),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=tl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zu=0;function P0(e,t){return e.stylesheets&&e.count===0&&nl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&nl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Zu===0&&(Zu=62500*C0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Zu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function tl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var al=null;function nl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,al=new Map,t.forEach(W0,e),al=null,tl.call(e))}function W0(e,t){if(!(t.state.loading&4)){var n=al.get(e);if(n)var s=n.get(null);else{n=new Map,al.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),s=m)}s&&n.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),d=n.get(m)||s,d===s&&n.set(null,o),n.set(m,o),this.count++,s=tl.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Sr={$$typeof:U,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function F0(e,t,n,s,o,d,m,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.hiddenUpdates=Yl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Lm(e,t,n,s,o,d,m,b,S,z,B,$){return e=new F0(e,t,n,m,S,z,B,$,b),t=1,d===!0&&(t|=24),d=Et(3,null,null,t),e.current=d,d.stateNode=e,t=Ro(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:n,cache:t},zo(d),e}function Bm(e){return e?(e=Jn,e):Jn}function qm(e,t,n,s,o,d){o=Bm(o),s.context===null?s.context=o:s.pendingContext=o,s=Ba(t),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=qa(e,s,t),n!==null&&(bt(n,e,t),tr(n,e,t))}function Hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pu(e,t){Hm(e,t),(e=e.alternate)&&Hm(e,t)}function $m(e){if(e.tag===13||e.tag===31){var t=hn(e,67108864);t!==null&&bt(t,e,67108864),Pu(e,67108864)}}function Gm(e){if(e.tag===13||e.tag===31){var t=Rt();t=Kl(t);var n=hn(e,t);n!==null&&bt(n,e,t),Pu(e,t)}}var il=!0;function ev(e,t,n,s){var o=q.T;q.T=null;var d=Q.p;try{Q.p=2,Wu(e,t,n,s)}finally{Q.p=d,q.T=o}}function tv(e,t,n,s){var o=q.T;q.T=null;var d=Q.p;try{Q.p=8,Wu(e,t,n,s)}finally{Q.p=d,q.T=o}}function Wu(e,t,n,s){if(il){var o=Fu(s);if(o===null)Bu(e,t,s,rl,n),Ym(e,s);else if(nv(o,e,t,n,s))s.stopPropagation();else if(Ym(e,s),t&4&&-1<av.indexOf(e)){for(;o!==null;){var d=Ln(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=on(d.pendingLanes);if(m!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var S=1<<31-xt(m);b.entanglements[1]|=S,m&=~S}na(d),(_e&6)===0&&($s=_t()+500,pr(0))}}break;case 31:case 13:b=hn(d,2),b!==null&&bt(b,d,2),Vs(),Pu(d,2)}if(d=Fu(s),d===null&&Bu(e,t,s,rl,n),d===o)break;o=d}o!==null&&s.stopPropagation()}else Bu(e,t,s,null,n)}}function Fu(e){return e=eo(e),ec(e)}var rl=null;function ec(e){if(rl=null,e=Mn(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return rl=e,null}function Vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($y()){case Zc:return 2;case Pc:return 8;case Jr:case Gy:return 32;case Wc:return 268435456;default:return 32}default:return 32}}var tc=!1,Za=null,Pa=null,Wa=null,Er=new Map,Tr=new Map,Fa=[],av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ym(e,t){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function Ar(e,t,n,s,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Ln(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function nv(e,t,n,s,o){switch(t){case"focusin":return Za=Ar(Za,e,t,n,s,o),!0;case"dragenter":return Pa=Ar(Pa,e,t,n,s,o),!0;case"mouseover":return Wa=Ar(Wa,e,t,n,s,o),!0;case"pointerover":var d=o.pointerId;return Er.set(d,Ar(Er.get(d)||null,e,t,n,s,o)),!0;case"gotpointercapture":return d=o.pointerId,Tr.set(d,Ar(Tr.get(d)||null,e,t,n,s,o)),!0}return!1}function Km(e){var t=Mn(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,id(e.priority,function(){Gm(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,id(e.priority,function(){Gm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Fl=s,n.target.dispatchEvent(s),Fl=null}else return t=Ln(n),t!==null&&$m(t),e.blockedOn=n,!1;t.shift()}return!0}function Qm(e,t,n){sl(e)&&n.delete(t)}function iv(){tc=!1,Za!==null&&sl(Za)&&(Za=null),Pa!==null&&sl(Pa)&&(Pa=null),Wa!==null&&sl(Wa)&&(Wa=null),Er.forEach(Qm),Tr.forEach(Qm)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,tc||(tc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,iv)))}var ol=null;function Xm(e){ol!==e&&(ol=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ol===e&&(ol=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(ec(s||n)===null)continue;break}var d=Ln(n);d!==null&&(e.splice(t,3),t-=3,Fo(d,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function vi(e){function t(S){return ll(S,e)}Za!==null&&ll(Za,e),Pa!==null&&ll(Pa,e),Wa!==null&&ll(Wa,e),Er.forEach(t),Tr.forEach(t);for(var n=0;n<Fa.length;n++){var s=Fa[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Fa.length&&(n=Fa[0],n.blockedOn===null);)Km(n),n.blockedOn===null&&Fa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],d=n[s+1],m=o[ht]||null;if(typeof d=="function")m||Xm(n);else if(m){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[ht]||null)b=m.formAction;else if(ec(o)!==null)continue}else b=m.action;typeof b=="function"?n[s+1]=b:(n.splice(s,3),s-=3),Xm(n)}}}function Jm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ac(e){this._internalRoot=e}ul.prototype.render=ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=Rt();qm(n,s,e,t,null,null)},ul.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qm(e.current,2,null,e,null,null),Vs(),t[Un]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=nd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fa.length&&t!==0&&t<Fa[n].priority;n++);Fa.splice(n,0,e),n===0&&Km(e)}};var Im=a.version;if(Im!=="19.2.4")throw Error(l(527,Im,"19.2.4"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var rv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Ui=cl.inject(rv),wt=cl}catch{}}return Or.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,s="",o=ah,d=nh,m=ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Lm(e,1,!1,null,null,n,s,null,o,d,m,Jm),e[Un]=t.current,Lu(e),new ac(t)},Or.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var s=!1,o="",d=ah,m=nh,b=ih,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Lm(e,1,!0,t,n??null,s,o,S,d,m,b,Jm),t.context=Bm(null),n=t.current,s=Rt(),s=Kl(s),o=Ba(s),o.callback=null,qa(n,o,s),n=s,t.current.lanes=n,Li(t,n),na(t),e[Un]=t.current,Lu(e),new ul(t)},Or.version="19.2.4",Or}var rg;function yv(){if(rg)return rc.exports;rg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),rc.exports=gv(),rc.exports}var pv=yv();const vv=$g(pv);var sg="popstate";function bv(i={}){function a(l,u){let{pathname:c,search:f,hash:h}=l.location;return wc("",{pathname:c,search:f,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){return typeof u=="string"?u:Dr(u)}return wv(a,r,null,i)}function Me(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Kt(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function _v(){return Math.random().toString(36).substring(2,10)}function lg(i,a){return{usr:i.state,key:i.key,idx:a}}function wc(i,a,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?Ni(a):a,state:r,key:a&&a.key||l||_v()}}function Dr({pathname:i="/",search:a="",hash:r=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Ni(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(a.search=i.substring(l),i=i.substring(0,l)),i&&(a.pathname=i)}return a}function wv(i,a,r,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,f=u.history,h="POP",g=null,y=v();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function v(){return(f.state||{idx:null}).idx}function _(){h="POP";let T=v(),C=T==null?null:T-y;y=T,g&&g({action:h,location:j.location,delta:C})}function w(T,C){h="PUSH";let M=wc(j.location,T,C);y=v()+1;let U=lg(M,y),V=j.createHref(M);try{f.pushState(U,"",V)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;u.location.assign(V)}c&&g&&g({action:h,location:j.location,delta:1})}function x(T,C){h="REPLACE";let M=wc(j.location,T,C);y=v();let U=lg(M,y),V=j.createHref(M);f.replaceState(U,"",V),c&&g&&g({action:h,location:j.location,delta:0})}function R(T){return xv(T)}let j={get action(){return h},get location(){return i(u,f)},listen(T){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(sg,_),g=T,()=>{u.removeEventListener(sg,_),g=null}},createHref(T){return a(u,T)},createURL:R,encodeLocation(T){let C=R(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:x,go(T){return f.go(T)}};return j}function xv(i,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Me(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:Dr(i);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Gg(i,a,r="/"){return Sv(i,a,r,!1)}function Sv(i,a,r,l){let u=typeof a=="string"?Ni(a):a,c=Aa(u.pathname||"/",r);if(c==null)return null;let f=Vg(i);Ev(f);let h=null;for(let g=0;h==null&&g<f.length;++g){let y=Uv(c);h=zv(f[g],y,l)}return h}function Vg(i,a=[],r=[],l="",u=!1){let c=(f,h,g=u,y)=>{let v={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;Me(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let _=Ta([l,v.relativePath]),w=r.concat(v);f.children&&f.children.length>0&&(Me(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Vg(f.children,a,w,_,g)),!(f.path==null&&!f.index)&&a.push({path:_,score:Cv(_,f.index),routesMeta:w})};return i.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))c(f,h);else for(let g of Yg(f.path))c(f,h,!0,g)}),a}function Yg(i){let a=i.split("/");if(a.length===0)return[];let[r,...l]=a,u=r.endsWith("?"),c=r.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let f=Yg(l.join("/")),h=[];return h.push(...f.map(g=>g===""?c:[c,g].join("/"))),u&&h.push(...f),h.map(g=>i.startsWith("/")&&g===""?"/":g)}function Ev(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:kv(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var Tv=/^:[\w-]+$/,Av=3,jv=2,Ov=1,Rv=10,Nv=-2,og=i=>i==="*";function Cv(i,a){let r=i.split("/"),l=r.length;return r.some(og)&&(l+=Nv),a&&(l+=jv),r.filter(u=>!og(u)).reduce((u,c)=>u+(Tv.test(c)?Av:c===""?Ov:Rv),l)}function kv(i,a){return i.length===a.length&&i.slice(0,-1).every((l,u)=>l===a[u])?i[i.length-1]-a[a.length-1]:0}function zv(i,a,r=!1){let{routesMeta:l}=i,u={},c="/",f=[];for(let h=0;h<l.length;++h){let g=l[h],y=h===l.length-1,v=c==="/"?a:a.slice(c.length)||"/",_=Sl({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),w=g.route;if(!_&&y&&r&&!l[l.length-1].route.index&&(_=Sl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(u,_.params),f.push({params:u,pathname:Ta([c,_.pathname]),pathnameBase:qv(Ta([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=Ta([c,_.pathnameBase]))}return f}function Sl(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=Dv(i.path,i.caseSensitive,i.end),u=a.match(r);if(!u)return null;let c=u[0],f=c.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:l.reduce((y,{paramName:v,isOptional:_},w)=>{if(v==="*"){let R=h[w]||"";f=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const x=h[w];return _&&!x?y[v]=void 0:y[v]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:i}}function Dv(i,a=!1,r=!0){Kt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,g)=>(l.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function Uv(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Kt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function Aa(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Lv(i,a="/"){let{pathname:r,search:l="",hash:u=""}=typeof i=="string"?Ni(i):i,c;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?c=ug(r.substring(1),"/"):c=ug(r,a)):c=a,{pathname:c,search:Hv(l),hash:$v(u)}}function ug(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function uc(i,a,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bv(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Bc(i){let a=Bv(i);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function qc(i,a,r,l=!1){let u;typeof i=="string"?u=Ni(i):(u={...i},Me(!u.pathname||!u.pathname.includes("?"),uc("?","pathname","search",u)),Me(!u.pathname||!u.pathname.includes("#"),uc("#","pathname","hash",u)),Me(!u.search||!u.search.includes("#"),uc("#","search","hash",u)));let c=i===""||u.pathname==="",f=c?"/":u.pathname,h;if(f==null)h=r;else{let _=a.length-1;if(!l&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),_-=1;u.pathname=w.join("/")}h=_>=0?a[_]:"/"}let g=Lv(u,h),y=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var Ta=i=>i.join("/").replace(/\/\/+/g,"/"),qv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Hv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,$v=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Gv=class{constructor(i,a,r,l=!1){this.status=i,this.statusText=a||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Vv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Yv(i){return i.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qg(i,a){let r=i;if(typeof r!="string"||!Mv.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,u=!1;if(Kg)try{let c=new URL(window.location.href),f=r.startsWith("//")?new URL(c.protocol+r):new URL(r),h=Aa(f.pathname,a);f.origin===c.origin&&h!=null?r=h+f.search+f.hash:u=!0}catch{Kt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:u,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xg=["POST","PUT","PATCH","DELETE"];new Set(Xg);var Kv=["GET",...Xg];new Set(Kv);var Ci=E.createContext(null);Ci.displayName="DataRouter";var Nl=E.createContext(null);Nl.displayName="DataRouterState";var Qv=E.createContext(!1),Jg=E.createContext({isTransitioning:!1});Jg.displayName="ViewTransition";var Xv=E.createContext(new Map);Xv.displayName="Fetchers";var Jv=E.createContext(null);Jv.displayName="Await";var zt=E.createContext(null);zt.displayName="Navigation";var Gr=E.createContext(null);Gr.displayName="Location";var Ft=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var Hc=E.createContext(null);Hc.displayName="RouteError";var Ig="REACT_ROUTER_ERROR",Iv="REDIRECT",Zv="ROUTE_ERROR_RESPONSE";function Pv(i){if(i.startsWith(`${Ig}:${Iv}:{`))try{let a=JSON.parse(i.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Wv(i){if(i.startsWith(`${Ig}:${Zv}:{`))try{let a=JSON.parse(i.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Gv(a.status,a.statusText,a.data)}catch{}}function Fv(i,{relative:a}={}){Me(ki(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=E.useContext(zt),{hash:u,pathname:c,search:f}=Vr(i,{relative:a}),h=c;return r!=="/"&&(h=c==="/"?r:Ta([r,c])),l.createHref({pathname:h,search:f,hash:u})}function ki(){return E.useContext(Gr)!=null}function Oa(){return Me(ki(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Gr).location}var Zg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pg(i){E.useContext(zt).static||E.useLayoutEffect(i)}function Dn(){let{isDataRoute:i}=E.useContext(Ft);return i?hb():eb()}function eb(){Me(ki(),"useNavigate() may be used only in the context of a <Router> component.");let i=E.useContext(Ci),{basename:a,navigator:r}=E.useContext(zt),{matches:l}=E.useContext(Ft),{pathname:u}=Oa(),c=JSON.stringify(Bc(l)),f=E.useRef(!1);return Pg(()=>{f.current=!0}),E.useCallback((g,y={})=>{if(Kt(f.current,Zg),!f.current)return;if(typeof g=="number"){r.go(g);return}let v=qc(g,JSON.parse(c),u,y.relative==="path");i==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:Ta([a,v.pathname])),(y.replace?r.replace:r.push)(v,y.state,y)},[a,r,c,u,i])}E.createContext(null);function tb(){let{matches:i}=E.useContext(Ft),a=i[i.length-1];return a?a.params:{}}function Vr(i,{relative:a}={}){let{matches:r}=E.useContext(Ft),{pathname:l}=Oa(),u=JSON.stringify(Bc(r));return E.useMemo(()=>qc(i,JSON.parse(u),l,a==="path"),[i,u,l,a])}function ab(i,a){return Wg(i,a)}function Wg(i,a,r,l,u){Me(ki(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(zt),{matches:f}=E.useContext(Ft),h=f[f.length-1],g=h?h.params:{},y=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let M=_&&_.path||"";ey(y,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=Oa(),x;if(a){let M=typeof a=="string"?Ni(a):a;Me(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),x=M}else x=w;let R=x.pathname||"/",j=R;if(v!=="/"){let M=v.replace(/^\//,"").split("/");j="/"+R.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=Gg(i,{pathname:j});Kt(_||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Kt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=lb(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},g,M.params),pathname:Ta([v,c.encodeLocation?c.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:Ta([v,c.encodeLocation?c.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),f,r,l,u);return a&&C?E.createElement(Gr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function nb(){let i=fb(),a=Vv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:c},"ErrorBoundary")," or"," ",E.createElement("code",{style:c},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},a),r?E.createElement("pre",{style:u},r):null,f)}var ib=E.createElement(nb,null),Fg=class extends E.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.onError?this.props.onError(i,a):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const r=Wv(i.digest);r&&(i=r)}let a=i!==void 0?E.createElement(Ft.Provider,{value:this.props.routeContext},E.createElement(Hc.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?E.createElement(rb,{error:i},a):a}};Fg.contextType=Qv;var cc=new WeakMap;function rb({children:i,error:a}){let{basename:r}=E.useContext(zt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=Pv(a.digest);if(l){let u=cc.get(a);if(u)throw u;let c=Qg(l.location,r);if(Kg&&!cc.get(a))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw cc.set(a,f),f}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function sb({routeContext:i,match:a,children:r}){let l=E.useContext(Ci);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),E.createElement(Ft.Provider,{value:i},r)}function lb(i,a=[],r=null,l=null,u=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let c=i,f=r?.errors;if(f!=null){let v=c.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Me(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,g=-1;if(r)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=v),_.route.id){let{loaderData:w,errors:x}=r,R=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||R){h=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=r&&l?(v,_)=>{l(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Yv(r.matches),errorInfo:_})}:void 0;return c.reduceRight((v,_,w)=>{let x,R=!1,j=null,T=null;r&&(x=f&&_.route.id?f[_.route.id]:void 0,j=_.route.errorElement||ib,h&&(g<0&&w===0?(ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,T=null):g===w&&(R=!0,T=_.route.hydrateFallbackElement||null)));let C=a.concat(c.slice(0,w+1)),M=()=>{let U;return x?U=j:R?U=T:_.route.Component?U=E.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=v,E.createElement(sb,{match:_,routeContext:{outlet:v,matches:C,isDataRoute:r!=null},children:U})};return r&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?E.createElement(Fg,{location:r.location,revalidation:r.revalidation,component:j,error:x,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:y}):M()},null)}function $c(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ob(i){let a=E.useContext(Ci);return Me(a,$c(i)),a}function ub(i){let a=E.useContext(Nl);return Me(a,$c(i)),a}function cb(i){let a=E.useContext(Ft);return Me(a,$c(i)),a}function Gc(i){let a=cb(i),r=a.matches[a.matches.length-1];return Me(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function db(){return Gc("useRouteId")}function fb(){let i=E.useContext(Hc),a=ub("useRouteError"),r=Gc("useRouteError");return i!==void 0?i:a.errors?.[r]}function hb(){let{router:i}=ob("useNavigate"),a=Gc("useNavigate"),r=E.useRef(!1);return Pg(()=>{r.current=!0}),E.useCallback(async(u,c={})=>{Kt(r.current,Zg),r.current&&(typeof u=="number"?await i.navigate(u):await i.navigate(u,{fromRouteId:a,...c}))},[i,a])}var cg={};function ey(i,a,r){!a&&!cg[i]&&(cg[i]=!0,Kt(!1,r))}E.memo(mb);function mb({routes:i,future:a,state:r,onError:l}){return Wg(i,void 0,r,l,a)}function zn({to:i,replace:a,state:r,relative:l}){Me(ki(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=E.useContext(zt);Kt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=E.useContext(Ft),{pathname:f}=Oa(),h=Dn(),g=qc(i,Bc(c),f,l==="path"),y=JSON.stringify(g);return E.useEffect(()=>{h(JSON.parse(y),{replace:a,state:r,relative:l})},[h,y,l,a,r]),null}function Nt(i){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gb({basename:i="/",children:a=null,location:r,navigationType:l="POP",navigator:u,static:c=!1,unstable_useTransitions:f}){Me(!ki(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),g=E.useMemo(()=>({basename:h,navigator:u,static:c,unstable_useTransitions:f,future:{}}),[h,u,c,f]);typeof r=="string"&&(r=Ni(r));let{pathname:y="/",search:v="",hash:_="",state:w=null,key:x="default"}=r,R=E.useMemo(()=>{let j=Aa(y,h);return j==null?null:{location:{pathname:j,search:v,hash:_,state:w,key:x},navigationType:l}},[h,y,v,_,w,x,l]);return Kt(R!=null,`<Router basename="${h}"> is not able to match the URL "${y}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:E.createElement(zt.Provider,{value:g},E.createElement(Gr.Provider,{children:a,value:R}))}function yb({children:i,location:a}){return ab(xc(i),a)}function xc(i,a=[]){let r=[];return E.Children.forEach(i,(l,u)=>{if(!E.isValidElement(l))return;let c=[...a,u];if(l.type===E.Fragment){r.push.apply(r,xc(l.props.children,c));return}Me(l.type===Nt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=xc(l.props.children,c)),r.push(f)}),r}var _l="get",wl="application/x-www-form-urlencoded";function Cl(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function pb(i){return Cl(i)&&i.tagName.toLowerCase()==="button"}function vb(i){return Cl(i)&&i.tagName.toLowerCase()==="form"}function bb(i){return Cl(i)&&i.tagName.toLowerCase()==="input"}function _b(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function wb(i,a){return i.button===0&&(!a||a==="_self")&&!_b(i)}function Sc(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((a,r)=>{let l=i[r];return a.concat(Array.isArray(l)?l.map(u=>[r,u]):[[r,l]])},[]))}function xb(i,a){let r=Sc(i);return a&&a.forEach((l,u)=>{r.has(u)||a.getAll(u).forEach(c=>{r.append(u,c)})}),r}var dl=null;function Sb(){if(dl===null)try{new FormData(document.createElement("form"),0),dl=!1}catch{dl=!0}return dl}var Eb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dc(i){return i!=null&&!Eb.has(i)?(Kt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wl}"`),null):i}function Tb(i,a){let r,l,u,c,f;if(vb(i)){let h=i.getAttribute("action");l=h?Aa(h,a):null,r=i.getAttribute("method")||_l,u=dc(i.getAttribute("enctype"))||wl,c=new FormData(i)}else if(pb(i)||bb(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||h.getAttribute("action");if(l=g?Aa(g,a):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||_l,u=dc(i.getAttribute("formenctype"))||dc(h.getAttribute("enctype"))||wl,c=new FormData(h,i),!Sb()){let{name:y,type:v,value:_}=i;if(v==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,_)}}else{if(Cl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_l,l=null,u=wl,f=i}return c&&u==="text/plain"&&(f=c,c=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vc(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Ab(i,a,r,l){let u=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${l}`:u.pathname=`${u.pathname}.${l}`:u.pathname==="/"?u.pathname=`_root.${l}`:a&&Aa(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${l}`,u}async function jb(i,a){if(i.id in a)return a[i.id];try{let r=await import(i.module);return a[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ob(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Rb(i,a,r){let l=await Promise.all(i.map(async u=>{let c=a.routes[u.route.id];if(c){let f=await jb(c,r);return f.links?f.links():[]}return[]}));return zb(l.flat(1).filter(Ob).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function dg(i,a,r,l,u,c){let f=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,h=(g,y)=>r[y].pathname!==g.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==g.params["*"];return c==="assets"?a.filter((g,y)=>f(g,y)||h(g,y)):c==="data"?a.filter((g,y)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(f(g,y)||h(g,y))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Nb(i,a,{includeHydrateFallback:r}={}){return Cb(i.map(l=>{let u=a.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function Cb(i){return[...new Set(i)]}function kb(i){let a={},r=Object.keys(i).sort();for(let l of r)a[l]=i[l];return a}function zb(i,a){let r=new Set;return new Set(a),i.reduce((l,u)=>{let c=JSON.stringify(kb(u));return r.has(c)||(r.add(c),l.push({key:c,link:u})),l},[])}function ty(){let i=E.useContext(Ci);return Vc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Db(){let i=E.useContext(Nl);return Vc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yc=E.createContext(void 0);Yc.displayName="FrameworkContext";function ay(){let i=E.useContext(Yc);return Vc(i,"You must render this element inside a <HydratedRouter> element"),i}function Ub(i,a){let r=E.useContext(Yc),[l,u]=E.useState(!1),[c,f]=E.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:_}=a,w=E.useRef(null);E.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let j=C=>{C.forEach(M=>{f(M.isIntersecting)})},T=new IntersectionObserver(j,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[i]),E.useEffect(()=>{if(l){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[l]);let x=()=>{u(!0)},R=()=>{u(!1),f(!1)};return r?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Rr(h,x),onBlur:Rr(g,R),onMouseEnter:Rr(y,x),onMouseLeave:Rr(v,R),onTouchStart:Rr(_,x)}]:[!1,w,{}]}function Rr(i,a){return r=>{i&&i(r),r.defaultPrevented||a(r)}}function Mb({page:i,...a}){let{router:r}=ty(),l=E.useMemo(()=>Gg(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?E.createElement(Bb,{page:i,matches:l,...a}):null}function Lb(i){let{manifest:a,routeModules:r}=ay(),[l,u]=E.useState([]);return E.useEffect(()=>{let c=!1;return Rb(i,a,r).then(f=>{c||u(f)}),()=>{c=!0}},[i,a,r]),l}function Bb({page:i,matches:a,...r}){let l=Oa(),{future:u,manifest:c,routeModules:f}=ay(),{basename:h}=ty(),{loaderData:g,matches:y}=Db(),v=E.useMemo(()=>dg(i,a,y,c,l,"data"),[i,a,y,c,l]),_=E.useMemo(()=>dg(i,a,y,c,l,"assets"),[i,a,y,c,l]),w=E.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let j=new Set,T=!1;if(a.forEach(M=>{let U=c.routes[M.route.id];!U||!U.hasLoader||(!v.some(V=>V.route.id===M.route.id)&&M.route.id in g&&f[M.route.id]?.shouldRevalidate||U.hasClientLoader?T=!0:j.add(M.route.id))}),j.size===0)return[];let C=Ab(i,h,u.unstable_trailingSlashAwareDataRequests,"data");return T&&j.size>0&&C.searchParams.set("_routes",a.filter(M=>j.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[h,u.unstable_trailingSlashAwareDataRequests,g,l,c,v,a,i,f]),x=E.useMemo(()=>Nb(_,c),[_,c]),R=Lb(_);return E.createElement(E.Fragment,null,w.map(j=>E.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),x.map(j=>E.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),R.map(({key:j,link:T})=>E.createElement("link",{key:j,nonce:r.nonce,...T,crossOrigin:T.crossOrigin??r.crossOrigin})))}function qb(...i){return a=>{i.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hb&&(window.__reactRouterVersion="7.13.0")}catch{}function $b({basename:i,children:a,unstable_useTransitions:r,window:l}){let u=E.useRef();u.current==null&&(u.current=bv({window:l,v5Compat:!0}));let c=u.current,[f,h]=E.useState({action:c.action,location:c.location}),g=E.useCallback(y=>{r===!1?h(y):E.startTransition(()=>h(y))},[r]);return E.useLayoutEffect(()=>c.listen(g),[c,g]),E.createElement(gb,{basename:i,children:a,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:r})}var ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=E.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:u,reloadDocument:c,replace:f,state:h,target:g,to:y,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},R){let{basename:j,unstable_useTransitions:T}=E.useContext(zt),C=typeof y=="string"&&ny.test(y),M=Qg(y,j);y=M.to;let U=Fv(y,{relative:u}),[V,Y,J]=Ub(l,x),K=Yb(y,{replace:f,state:h,target:g,preventScrollReset:v,relative:u,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:T});function ue(Z){a&&a(Z),Z.defaultPrevented||K(Z)}let ye=E.createElement("a",{...x,...J,href:M.absoluteURL||U,onClick:M.isExternal||c?a:ue,ref:qb(R,Y),target:g,"data-discover":!C&&r==="render"?"true":void 0});return V&&!C?E.createElement(E.Fragment,null,ye,E.createElement(Mb,{page:U})):ye});rn.displayName="Link";var iy=E.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:u=!1,style:c,to:f,viewTransition:h,children:g,...y},v){let _=Vr(f,{relative:y.relative}),w=Oa(),x=E.useContext(Nl),{navigator:R,basename:j}=E.useContext(zt),T=x!=null&&Zb(_)&&h===!0,C=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,M=w.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(M=M.toLowerCase(),U=U?U.toLowerCase():null,C=C.toLowerCase()),U&&j&&(U=Aa(U,j)||U);const V=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Y=M===C||!u&&M.startsWith(C)&&M.charAt(V)==="/",J=U!=null&&(U===C||!u&&U.startsWith(C)&&U.charAt(C.length)==="/"),K={isActive:Y,isPending:J,isTransitioning:T},ue=Y?a:void 0,ye;typeof l=="function"?ye=l(K):ye=[l,Y?"active":null,J?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Z=typeof c=="function"?c(K):c;return E.createElement(rn,{...y,"aria-current":ue,className:ye,ref:v,style:Z,to:f,viewTransition:h},typeof g=="function"?g(K):g)});iy.displayName="NavLink";var Gb=E.forwardRef(({discover:i="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:u,state:c,method:f=_l,action:h,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},R)=>{let{unstable_useTransitions:j}=E.useContext(zt),T=Jb(),C=Ib(h,{relative:y}),M=f.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&ny.test(h),V=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let J=Y.nativeEvent.submitter,K=J?.getAttribute("formmethod")||f,ue=()=>T(J||Y.currentTarget,{fetcherKey:a,method:K,navigate:r,replace:u,state:c,relative:y,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w});j&&r!==!1?E.startTransition(()=>ue()):ue()};return E.createElement("form",{ref:R,method:M,action:C,onSubmit:l?g:V,...x,"data-discover":!U&&i==="render"?"true":void 0})});Gb.displayName="Form";function Vb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ry(i){let a=E.useContext(Ci);return Me(a,Vb(i)),a}function Yb(i,{target:a,replace:r,state:l,preventScrollReset:u,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:g}={}){let y=Dn(),v=Oa(),_=Vr(i,{relative:c});return E.useCallback(w=>{if(wb(w,a)){w.preventDefault();let x=r!==void 0?r:Dr(v)===Dr(_),R=()=>y(i,{replace:x,state:l,preventScrollReset:u,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:h});g?E.startTransition(()=>R()):R()}},[v,y,_,r,l,a,i,u,c,f,h,g])}function Kb(i){Kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=E.useRef(Sc(i)),r=E.useRef(!1),l=Oa(),u=E.useMemo(()=>xb(l.search,r.current?null:a.current),[l.search]),c=Dn(),f=E.useCallback((h,g)=>{const y=Sc(typeof h=="function"?h(new URLSearchParams(u)):h);r.current=!0,c("?"+y,g)},[c,u]);return[u,f]}var Qb=0,Xb=()=>`__${String(++Qb)}__`;function Jb(){let{router:i}=ry("useSubmit"),{basename:a}=E.useContext(zt),r=db(),l=i.fetch,u=i.navigate;return E.useCallback(async(c,f={})=>{let{action:h,method:g,encType:y,formData:v,body:_}=Tb(c,a);if(f.navigate===!1){let w=f.fetcherKey||Xb();await l(w,r,f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await u(f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,a,r])}function Ib(i,{relative:a}={}){let{basename:r}=E.useContext(zt),l=E.useContext(Ft);Me(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...Vr(i||".",{relative:a})},f=Oa();if(i==null){c.search=f.search;let h=new URLSearchParams(c.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();c.search=v?`?${v}`:""}}return(!i||i===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Ta([r,c.pathname])),Dr(c)}function Zb(i,{relative:a}={}){let r=E.useContext(Jg);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=ry("useViewTransitionState"),u=Vr(i,{relative:a});if(!r.isTransitioning)return!1;let c=Aa(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=Aa(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Sl(u.pathname,f)!=null||Sl(u.pathname,c)!=null}function kl(i,a){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(r[l[u]]=i[l[u]]);return r}function Pb(i,a,r,l){function u(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function h(v){try{y(l.next(v))}catch(_){f(_)}}function g(v){try{y(l.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):u(v.value).then(h,g)}y((l=l.apply(i,a||[])).next())})}const Wb=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);class Kc extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class Fb extends Kc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class fg extends Kc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class hg extends Kc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Ec;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Ec||(Ec={}));class e_{constructor(a,{headers:r={},customFetch:l,region:u=Ec.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=Wb(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Pb(this,arguments,void 0,function*(r,l={}){var u;let c,f;try{const{headers:h,method:g,body:y,signal:v,timeout:_}=l;let w={},{region:x}=l;x||(x=this.region);const R=new URL(`${this.url}/${r}`);x&&x!=="any"&&(w["x-region"]=x,R.searchParams.set("forceFunctionRegion",x));let j;y&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",j=y):typeof y=="string"?(w["Content-Type"]="text/plain",j=y):typeof FormData<"u"&&y instanceof FormData?j=y:(w["Content-Type"]="application/json",j=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?j=JSON.stringify(y):j=y;let T=v;_&&(f=new AbortController,c=setTimeout(()=>f.abort(),_),v?(T=f.signal,v.addEventListener("abort",()=>f.abort())):T=f.signal);const C=yield this.fetch(R.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:j,signal:T}).catch(Y=>{throw new Fb(Y)}),M=C.headers.get("x-relay-error");if(M&&M==="true")throw new fg(C);if(!C.ok)throw new hg(C);let U=((u=C.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),V;return U==="application/json"?V=yield C.json():U==="application/octet-stream"||U==="application/pdf"?V=yield C.blob():U==="text/event-stream"?V=C:U==="multipart/form-data"?V=yield C.formData():V=yield C.text(),{data:V,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof hg||h instanceof fg?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var t_=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},a_=class{constructor(i){var a,r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(l=i.urlLengthLimit)!==null&&l!==void 0?l:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,h=null,g=null,y=c.status,v=c.statusText;if(c.ok){var _,w;if(r.method!=="HEAD"){var x;const C=await c.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const j=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),T=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");j&&T&&T.length>1&&(g=parseInt(T[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,y=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var R;const j=await c.text();try{f=JSON.parse(j),Array.isArray(f)&&c.status===404&&(h=[],f=null,y=200,v="OK")}catch{c.status===404&&j===""?(y=204,v="No Content"):f={message:j}}if(f&&r.isMaybeSingle&&(!(f==null||(R=f.details)===null||R===void 0)&&R.includes("0 rows"))&&(f=null,y=200,v="OK"),f&&r.shouldThrowOnError)throw new t_(f)}return{error:f,data:h,count:g,status:y,statusText:v}});return this.shouldThrowOnError||(u=u.catch(c=>{var f;let h="",g="",y="";const v=c?.cause;if(v){var _,w,x,R;const C=(_=v?.message)!==null&&_!==void 0?_:"",M=(w=v?.code)!==null&&w!==void 0?w:"";h=`${(x=c?.name)!==null&&x!==void 0?x:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(R=v?.name)!==null&&R!==void 0?R:"Error"}: ${C}`,M&&(h+=` (${M})`),v?.stack&&(h+=`
${v.stack}`)}else{var j;h=(j=c?.stack)!==null&&j!==void 0?j:""}const T=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(y="",g="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(y="",g="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(g+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:h,hint:g,code:y},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}returns(){return this}overrideTypes(){return this}},n_=class extends a_{select(i){let a=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:r,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:r=a}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:r,referencedTable:l=r}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:r=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var f;const h=[i?"analyze":null,a?"verbose":null,r?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const mg=new RegExp("[,()]");var Ti=class extends n_{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&mg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&mg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:r,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${u}fts${c}.${a}`),this}match(i){return Object.entries(i).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(i,a,r){return this.url.searchParams.append(i,`not.${a}.${r}`),this}or(i,{foreignTable:a,referencedTable:r=a}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,r){return this.url.searchParams.append(i,`${a}.${r}`),this}},i_=class{constructor(i,{headers:a={},schema:r,fetch:l,urlLengthLimit:u=8e3}){this.url=i,this.headers=new Headers(a),this.schema=r,this.fetch=l,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,a){const{head:r=!1,count:l}=a??{},u=r?"HEAD":"GET";let c=!1;const f=(i??"*").split("").map(y=>/\s/.test(y)&&!c?"":(y==='"'&&(c=!c),y)).join(""),{url:h,headers:g}=this.cloneRequestState();return h.searchParams.set("select",f),l&&g.append("Prefer",`count=${l}`),new Ti({method:u,url:h,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:a,defaultToNull:r=!0}={}){var l;const u="POST",{url:c,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),r||f.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(h.length>0){const g=[...new Set(h)].map(y=>`"${y}"`);c.searchParams.set("columns",g.join(","))}}return new Ti({method:u,url:c,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:a,ignoreDuplicates:r=!1,count:l,defaultToNull:u=!0}={}){var c;const f="POST",{url:h,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&h.searchParams.set("on_conflict",a),l&&g.append("Prefer",`count=${l}`),u||g.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);h.searchParams.set("columns",v.join(","))}}return new Ti({method:f,url:h,headers:g,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:a}={}){var r;const l="PATCH",{url:u,headers:c}=this.cloneRequestState();return a&&c.append("Prefer",`count=${a}`),new Ti({method:l,url:u,headers:c,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var a;const r="DELETE",{url:l,headers:u}=this.cloneRequestState();return i&&u.append("Prefer",`count=${i}`),new Ti({method:r,url:l,headers:u,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ur(i){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ur(i)}function r_(i,a){if(Ur(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,a);if(Ur(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function s_(i){var a=r_(i,"string");return Ur(a)=="symbol"?a:a+""}function l_(i,a,r){return(a=s_(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function gg(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function fl(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?gg(Object(r),!0).forEach(function(l){l_(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}var o_=class sy{constructor(a,{headers:r={},schema:l,fetch:u,timeout:c,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(r),this.schemaName=l,this.urlLengthLimit=f;const h=u??globalThis.fetch;c!==void 0&&c>0?this.fetch=(g,y)=>{const v=new AbortController,_=setTimeout(()=>v.abort(),c),w=y?.signal;if(w){if(w.aborted)return clearTimeout(_),h(g,y);const x=()=>{clearTimeout(_),v.abort()};return w.addEventListener("abort",x,{once:!0}),h(g,fl(fl({},y),{},{signal:v.signal})).finally(()=>{clearTimeout(_),w.removeEventListener("abort",x)})}return h(g,fl(fl({},y),{},{signal:v.signal})).finally(()=>clearTimeout(_))}:this.fetch=h}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new i_(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new sy(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,r={},{head:l=!1,get:u=!1,count:c}={}){var f;let h;const g=new URL(`${this.url}/rpc/${a}`);let y;const v=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(v)),_=l&&Object.values(r).some(v);_?(h="POST",y=r):l||u?(h=l?"HEAD":"GET",Object.entries(r).filter(([x,R])=>R!==void 0).map(([x,R])=>[x,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([x,R])=>{g.searchParams.append(x,R)})):(h="POST",y=r);const w=new Headers(this.headers);return _?w.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&w.set("Prefer",`count=${c}`),new Ti({method:h,url:g,headers:w,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class u_{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const u=l.node,c=parseInt(u.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const c_="2.96.0",d_=`realtime-js/${c_}`,f_="1.0.0",ly="2.0.0",yg=ly,Tc=1e4,h_=1e3,m_=100;var tn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(tn||(tn={}));var Pe;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Pe||(Pe={}));var Wt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Wt||(Wt={}));var Ac;(function(i){i.websocket="websocket"})(Ac||(Ac={}));var Nn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Nn||(Nn={}));class g_{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,r,l){var u,c;const f=a.topic,h=(u=a.ref)!==null&&u!==void 0?u:"",g=(c=a.join_ref)!==null&&c!==void 0?c:"",y=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+f.length+y.length+_.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let R=new DataView(x),j=0;R.setUint8(j++,this.KINDS.userBroadcastPush),R.setUint8(j++,g.length),R.setUint8(j++,h.length),R.setUint8(j++,f.length),R.setUint8(j++,y.length),R.setUint8(j++,_.length),R.setUint8(j++,r),Array.from(g,C=>R.setUint8(j++,C.charCodeAt(0))),Array.from(h,C=>R.setUint8(j++,C.charCodeAt(0))),Array.from(f,C=>R.setUint8(j++,C.charCodeAt(0))),Array.from(y,C=>R.setUint8(j++,C.charCodeAt(0))),Array.from(_,C=>R.setUint8(j++,C.charCodeAt(0)));var T=new Uint8Array(x.byteLength+l.byteLength);return T.set(new Uint8Array(x),0),T.set(new Uint8Array(l),x.byteLength),T.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,c,f,h,g]=l;return r({join_ref:u,ref:c,topic:f,event:h,payload:g})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,u)}_decodeUserBroadcast(a,r,l){const u=r.getUint8(1),c=r.getUint8(2),f=r.getUint8(3),h=r.getUint8(4);let g=this.HEADER_LENGTH+4;const y=l.decode(a.slice(g,g+u));g=g+u;const v=l.decode(a.slice(g,g+c));g=g+c;const _=l.decode(a.slice(g,g+f));g=g+f;const w=a.slice(g,a.byteLength),x=h===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,R={type:this.BROADCAST_EVENT,event:v,payload:x};return f>0&&(R.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class oy{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ne||(Ne={}));const pg=(i,a,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((c,f)=>(c[f]=y_(f,i,a,u),c),{}):{}},y_=(i,a,r,l)=>{const u=a.find(h=>h.name===i),c=u?.type,f=r[i];return c&&!l.includes(c)?uy(c,f):jc(f)},uy=(i,a)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return __(a,r)}switch(i){case Ne.bool:return p_(a);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return v_(a);case Ne.json:case Ne.jsonb:return b_(a);case Ne.timestamp:return w_(a);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return jc(a);default:return jc(a)}},jc=i=>i,p_=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},v_=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},b_=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},__=(i,a)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let c;const f=i.slice(1,r);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(h=>uy(a,h))}return i},w_=i=>typeof i=="string"?i.replace(" ","T"):i,cy=i=>{const a=new URL(i);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class fc{constructor(a,r,l={},u=Tc){this.channel=a,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var vg;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(vg||(vg={}));class kr{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,u,c,f),this.pendingDiffs.forEach(g=>{this.state=kr.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=kr.syncDiff(this.state,u,c,f),h())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,u){const c=this.cloneDeep(a),f=this.transformState(r),h={},g={};return this.map(c,(y,v)=>{f[y]||(g[y]=v)}),this.map(f,(y,v)=>{const _=c[y];if(_){const w=v.map(T=>T.presence_ref),x=_.map(T=>T.presence_ref),R=v.filter(T=>x.indexOf(T.presence_ref)<0),j=_.filter(T=>w.indexOf(T.presence_ref)<0);R.length>0&&(h[y]=R),j.length>0&&(g[y]=j)}else h[y]=v}),this.syncDiff(c,{joins:h,leaves:g},l,u)}static syncDiff(a,r,l,u){const{joins:c,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(h,g)=>{var y;const v=(y=a[h])!==null&&y!==void 0?y:[];if(a[h]=this.cloneDeep(g),v.length>0){const _=a[h].map(x=>x.presence_ref),w=v.filter(x=>_.indexOf(x.presence_ref)<0);a[h].unshift(...w)}l(h,v,g)}),this.map(f,(h,g)=>{let y=a[h];if(!y)return;const v=g.map(_=>_.presence_ref);y=y.filter(_=>v.indexOf(_.presence_ref)<0),a[h]=y,u(h,y,g),y.length===0&&delete a[h]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const u=a[l];return"metas"in u?r[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[l]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bg;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(bg||(bg={}));var zr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(zr||(zr={}));var Ea;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ea||(Ea={}));class Oi{constructor(a,r={config:{}},l){var u,c;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fc(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new oy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new kr(this),this.broadcastEndpointURL=cy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:f,presence:h,private:g}}=this.params,y=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[zr.PRESENCE]&&this.bindings[zr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(x=>a?.(Ea.CHANNEL_ERROR,x)),this._onClose(()=>a?.(Ea.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){a?.(Ea.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,T=(R=j?.length)!==null&&R!==void 0?R:0,C=[];for(let M=0;M<T;M++){const U=j[M],{filter:{event:V,schema:Y,table:J,filter:K}}=U,ue=x&&x[M];if(ue&&ue.event===V&&Oi.isFilterValueEqual(ue.schema,Y)&&Oi.isFilterValueEqual(ue.table,J)&&Oi.isFilterValueEqual(ue.filter,K))C.push(Object.assign(Object.assign({},U),{id:ue.id}));else{this.unsubscribe(),this.state=Pe.errored,a?.(Ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,a&&a(Ea.SUBSCRIBED);return}}).receive("error",x=>{this.state=Pe.errored,a?.(Ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{a?.(Ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===Pe.joined&&a===zr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const y=await h.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(a,r={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=a,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,h,g;const y=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new fc(this,Wt.leave,{},a),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(c),f}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new fc(this,a,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>m_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var u,c;const f=a.toLocaleLowerCase(),{close:h,error:g,leave:y,join:v}=Wt;if(l&&[h,g,y,v].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,r,l);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(x=>{var R,j,T;return((R=x.filter)===null||R===void 0?void 0:R.event)==="*"||((T=(j=x.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===f}).map(x=>x.callback(w,l)):(c=this.bindings[f])===null||c===void 0||c.filter(x=>{var R,j,T,C,M,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const V=x.id,Y=(R=x.filter)===null||R===void 0?void 0:R.event;return V&&((j=r.ids)===null||j===void 0?void 0:j.includes(V))&&(Y==="*"||Y?.toLocaleLowerCase()===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const V=(M=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return V==="*"||V===((U=r?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof w=="object"&&"ids"in w){const R=w.data,{schema:j,table:T,commit_timestamp:C,type:M,errors:U}=R;w=Object.assign(Object.assign({},{schema:j,table:T,commit_timestamp:C,eventType:M,new:{},old:{},errors:U}),this._getPayloadRecords(R))}x.callback(w,l)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const u=a.toLocaleLowerCase(),c={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Oi.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Wt.close,{},a)}_onError(a){this._on(Wt.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=pg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=pg(a.columns,a.old_record)),r}}const hc=()=>{},hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x_=[1e3,2e3,5e3,1e4],S_=1e4,E_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class T_{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tc,this.transport=null,this.heartbeatIntervalMs=hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hc,this.ref=0,this.reconnectTimer=null,this.vsn=yg,this.logger=hc,this.conn=null,this.sendBuffer=[],this.serializer=new g_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Ac.websocket}`,this.httpEndpoint=cy(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u_.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case tn.connecting:return Nn.Connecting;case tn.open:return Nn.Open;case tn.closing:return Nn.Closing;default:return Nn.Closed}}isConnected(){return this.connectionState()===Nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new Oi(`realtime:${a}`,r,this);return this.channels.push(c),c}}push(a){const{topic:r,event:l,payload:u,ref:c}=a,f=()=>{this.encode(a,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${r} ${l} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(h_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",y)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:c,ref:f}=r,h=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${l} ${u} ${h}`.trim(),c),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(u,c,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===tn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===tn.open||this.conn.readyState===tn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Wt.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${l}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([E_],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,l=!1;if(a)r=a,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const c={access_token:r,version:d_};r&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(Wt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new oy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,u,c,f,h,g,y,v,_,w,x;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Tc,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:hl.HEARTBEAT_INTERVAL,this.worker=(c=a?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=a?.heartbeatCallback)!==null&&h!==void 0?h:hc,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:yg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(R=>x_[R-1]||S_),this.vsn){case f_:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((R,j)=>j(JSON.stringify(R))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((R,j)=>j(JSON.parse(R)));break;case ly:this.encode=(w=a?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=a?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Mr=class extends Error{constructor(i,a){super(i),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function A_(i,a,r){const l=new URL(a,i);if(r)for(const[u,c]of Object.entries(r))c!==void 0&&l.searchParams.set(u,c);return l.toString()}async function j_(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function O_(i){const a=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:c,headers:f}){const h=A_(i.baseUrl,l,u),g=await j_(i.auth),y=await a(h,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...g,...f},body:c?JSON.stringify(c):void 0}),v=await y.text(),_=(y.headers.get("content-type")||"").includes("application/json"),w=_&&v?JSON.parse(v):v;if(!y.ok){const x=_?w:void 0,R=x?.error;throw new Mr(R?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:R?.type,icebergCode:R?.code,details:x})}return{status:y.status,headers:y.headers,data:w}}}}function ml(i){return i.join("")}var R_=class{constructor(i,a=""){this.client=i,this.prefix=a}async listNamespaces(i){const a=i?{parent:ml(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,a){const r={namespace:i.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ml(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ml(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ml(i.namespace)}`}),!0}catch(a){if(a instanceof Mr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(i,a){try{return await this.createNamespace(i,a)}catch(r){if(r instanceof Mr&&r.status===409)return;throw r}}};function bi(i){return i.join("")}var N_=class{constructor(i,a="",r){this.client=i,this.prefix=a,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables`})).data.identifiers}async createTable(i,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(i,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(i){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,headers:a})).data.metadata}async tableExists(i){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,headers:a}),!0}catch(r){if(r instanceof Mr&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,a){try{return await this.createTable(i,a)}catch(r){if(r instanceof Mr&&r.status===409)return await this.loadTable({namespace:i.namespace,name:a.name});throw r}}},C_=class{constructor(i){let a="v1";i.catalogName&&(a+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=O_({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new R_(this.client,a),this.tableOps=new N_(this.client,a,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,a){return this.namespaceOps.createNamespace(i,a)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,a){return this.tableOps.createTable(i,a)}async updateTable(i,a){return this.tableOps.updateTable(i,a)}async dropTable(i,a){await this.tableOps.dropTable(i,a)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,a){return this.namespaceOps.createNamespaceIfNotExists(i,a)}async createTableIfNotExists(i,a){return this.tableOps.createTableIfNotExists(i,a)}},zl=class extends Error{constructor(i,a="storage",r,l){super(i),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function Dl(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var gl=class extends zl{constructor(i,a,r,l="storage"){super(i,l,a,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dy=class extends zl{constructor(i,a,r="storage"){super(i,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const k_=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),z_=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Oc=i=>{if(Array.isArray(i))return i.map(r=>Oc(r));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[u]=Oc(l)}),a},D_=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Lr(i){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Lr(i)}function U_(i,a){if(Lr(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,a);if(Lr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function M_(i){var a=U_(i,"string");return Lr(a)=="symbol"?a:a+""}function L_(i,a,r){return(a=M_(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function _g(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function ae(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?_g(Object(r),!0).forEach(function(l){L_(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const wg=i=>{var a;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(a=i.error)===null||a===void 0?void 0:a.message)||JSON.stringify(i)},B_=async(i,a,r,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const u=i,c=u.status||500;if(typeof u.json=="function")u.json().then(f=>{const h=f?.statusCode||f?.code||c+"";a(new gl(wg(f),c,h,l))}).catch(()=>{if(l==="vectors"){const f=c+"";a(new gl(u.statusText||`HTTP ${c} error`,c,f,l))}else{const f=c+"";a(new gl(u.statusText||`HTTP ${c} error`,c,f,l))}});else{const f=c+"";a(new gl(u.statusText||`HTTP ${c} error`,c,f,l))}}else a(new dy(wg(i),i,l))},q_=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"||i==="HEAD"||!l?ae(ae({},u),r):(z_(l)?(u.headers=ae({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),ae(ae({},u),r))};async function Nr(i,a,r,l,u,c,f){return new Promise((h,g)=>{i(r,q_(a,l,u,c)).then(y=>{if(!y.ok)throw y;if(l?.noResolveJson)return y;if(f==="vectors"){const v=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!v||!v.includes("application/json"))return{}}return y.json()}).then(y=>h(y)).catch(y=>B_(y,g,l,f))})}function fy(i="storage"){return{get:async(a,r,l,u)=>Nr(a,"GET",r,l,u,void 0,i),post:async(a,r,l,u,c)=>Nr(a,"POST",r,u,c,l,i),put:async(a,r,l,u,c)=>Nr(a,"PUT",r,u,c,l,i),head:async(a,r,l,u)=>Nr(a,"HEAD",r,ae(ae({},l),{},{noResolveJson:!0}),u,void 0,i),remove:async(a,r,l,u,c)=>Nr(a,"DELETE",r,u,c,l,i)}}const H_=fy("storage"),{get:Br,post:Pt,put:Rc,head:$_,remove:Qc}=H_,kt=fy("vectors");var zi=class{constructor(i,a={},r,l="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=a,this.fetch=k_(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=ae(ae({},this.headers),{},{[i]:a}),this}async handleOperation(i){var a=this;try{return{data:await i(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Dl(r))return{data:null,error:r};throw r}}},G_=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a}then(i,a){return this.execute().then(i,a)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Dl(a))return{data:null,error:a};throw a}}};let hy;hy=Symbol.toStringTag;var V_=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a,this[hy]="BlobDownloadBuilder",this.promise=null}asStream(){return new G_(this.downloadFn,this.shouldThrowOnError)}then(i,a){return this.getPromise().then(i,a)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Dl(a))return{data:null,error:a};throw a}}};const Y_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K_=class extends zi{constructor(i,a={},r,l){super(i,a,l,"storage"),this.bucketId=r}async uploadOrUpdate(i,a,r,l){var u=this;return u.handleOperation(async()=>{let c;const f=ae(ae({},xg),l);let h=ae(ae({},u.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",u.encodeMetadata(g)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),g&&!c.has("metadata")&&c.append("metadata",u.encodeMetadata(g))):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,g&&(h["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(h=ae(ae({},h),l.headers));const y=u._removeEmptyFolders(a),v=u._getFinalPath(y),_=await(i=="PUT"?Rc:Pt)(u.fetch,`${u.url}/object/${v}`,c,ae({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{path:y,id:_.Id,fullPath:_.Key}})}async upload(i,a,r){return this.uploadOrUpdate("POST",i,a,r)}async uploadToSignedUrl(i,a,r,l){var u=this;const c=u._removeEmptyFolders(i),f=u._getFinalPath(c),h=new URL(u.url+`/object/upload/sign/${f}`);return h.searchParams.set("token",a),u.handleOperation(async()=>{let g;const y=ae({upsert:xg.upsert},l),v=ae(ae({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",y.cacheControl)):(g=r,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType),{path:c,fullPath:(await Rc(u.fetch,h.toString(),g,{headers:v})).Key}})}async createSignedUploadUrl(i,a){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(i);const u=ae({},r.headers);a?.upsert&&(u["x-upsert"]="true");const c=await Pt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(r.url+c.url),h=f.searchParams.get("token");if(!h)throw new zl("No token returned by API");return{signedUrl:f.toString(),path:i,token:h}})}async update(i,a,r){return this.uploadOrUpdate("PUT",i,a,r)}async move(i,a,r){var l=this;return l.handleOperation(async()=>await Pt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers}))}async copy(i,a,r){var l=this;return l.handleOperation(async()=>({path:(await Pt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(i,a,r){var l=this;return l.handleOperation(async()=>{let u=l._getFinalPath(i),c=await Pt(l.fetch,`${l.url}/object/sign/${u}`,ae({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${c.signedURL}${f}`)}})}async createSignedUrls(i,a,r){var l=this;return l.handleOperation(async()=>{const u=await Pt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:i},{headers:l.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u.map(f=>ae(ae({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${c}`):null}))})}download(i,a,r){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),c=u?`?${u}`:"",f=this._getFinalPath(i),h=()=>Br(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0},r);return new V_(h,this.shouldThrowOnError)}async info(i){var a=this;const r=a._getFinalPath(i);return a.handleOperation(async()=>Oc(await Br(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(i){var a=this;const r=a._getFinalPath(i);try{return await $_(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Dl(l)&&l instanceof dy){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,a){const r=this._getFinalPath(i),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const c=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&l.push(f);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}async remove(i){var a=this;return a.handleOperation(async()=>await Qc(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:i},{headers:a.headers}))}async list(i,a,r){var l=this;return l.handleOperation(async()=>{const u=ae(ae(ae({},Y_),a),{},{prefix:i||""});return await Pt(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},r)})}async listV2(i,a){var r=this;return r.handleOperation(async()=>{const l=ae({},i);return await Pt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},a)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}};const Q_="2.96.0",Yr={"X-Client-Info":`storage-js/${Q_}`};var X_=class extends zi{constructor(i,a={},r,l){const u=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const c=u.href.replace(/\/$/,""),f=ae(ae({},Yr),a);super(c,f,r,"storage")}async listBuckets(i){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(i);return await Br(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(i){var a=this;return a.handleOperation(async()=>await Br(a.fetch,`${a.url}/bucket/${i}`,{headers:a.headers}))}async createBucket(i,a={public:!1}){var r=this;return r.handleOperation(async()=>await Pt(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(i,a){var r=this;return r.handleOperation(async()=>await Rc(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(i){var a=this;return a.handleOperation(async()=>await Pt(a.fetch,`${a.url}/bucket/${i}/empty`,{},{headers:a.headers}))}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await Qc(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(i){const a={};return i&&("limit"in i&&(a.limit=String(i.limit)),"offset"in i&&(a.offset=String(i.offset)),i.search&&(a.search=i.search),i.sortColumn&&(a.sortColumn=i.sortColumn),i.sortOrder&&(a.sortOrder=i.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},J_=class extends zi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=ae(ae({},Yr),a);super(l,u,r,"storage")}async createBucket(i){var a=this;return a.handleOperation(async()=>await Pt(a.fetch,`${a.url}/bucket`,{name:i},{headers:a.headers}))}async listBuckets(i){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const l=r.toString(),u=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return await Br(a.fetch,u,{headers:a.headers})})}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await Qc(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}))}from(i){var a=this;if(!D_(i))throw new zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new C_({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(u,c){const f=u[c];return typeof f!="function"?f:async(...h)=>{try{return{data:await f.apply(u,h),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}},I_=class extends zi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=ae(ae({},Yr),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async createIndex(i){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/CreateIndex`,i,{headers:a.headers})||{})}async getIndex(i,a){var r=this;return r.handleOperation(async()=>await kt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:a},{headers:r.headers}))}async listIndexes(i){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListIndexes`,i,{headers:a.headers}))}async deleteIndex(i,a){var r=this;return r.handleOperation(async()=>await kt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:a},{headers:r.headers})||{})}},Z_=class extends zi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=ae(ae({},Yr),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async putVectors(i){var a=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/PutVectors`,i,{headers:a.headers})||{})}async getVectors(i){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/GetVectors`,i,{headers:a.headers}))}async listVectors(i){var a=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListVectors`,i,{headers:a.headers}))}async queryVectors(i){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/QueryVectors`,i,{headers:a.headers}))}async deleteVectors(i){var a=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/DeleteVectors`,i,{headers:a.headers})||{})}},P_=class extends zi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=ae(ae({},Yr),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async createBucket(i){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{})}async getBucket(i){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:i},{headers:a.headers}))}async listBuckets(i={}){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListVectorBuckets`,i,{headers:a.headers}))}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{})}},W_=class extends P_{constructor(i,a={}){super(i,a.headers||{},a.fetch)}from(i){return new F_(this.url,this.headers,i,this.fetch)}async createBucket(i){var a=()=>super.createBucket,r=this;return a().call(r,i)}async getBucket(i){var a=()=>super.getBucket,r=this;return a().call(r,i)}async listBuckets(i={}){var a=()=>super.listBuckets,r=this;return a().call(r,i)}async deleteBucket(i){var a=()=>super.deleteBucket,r=this;return a().call(r,i)}},F_=class extends I_{constructor(i,a,r,l){super(i,a,l),this.vectorBucketName=r}async createIndex(i){var a=()=>super.createIndex,r=this;return a().call(r,ae(ae({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var a=()=>super.listIndexes,r=this;return a().call(r,ae(ae({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,i)}async deleteIndex(i){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,i)}index(i){return new ew(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},ew=class extends Z_{constructor(i,a,r,l,u){super(i,a,u),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var a=()=>super.putVectors,r=this;return a().call(r,ae(ae({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var a=()=>super.getVectors,r=this;return a().call(r,ae(ae({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var a=()=>super.listVectors,r=this;return a().call(r,ae(ae({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var a=()=>super.queryVectors,r=this;return a().call(r,ae(ae({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var a=()=>super.deleteVectors,r=this;return a().call(r,ae(ae({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},tw=class extends X_{constructor(i,a={},r,l){super(i,a,r,l)}from(i){return new K_(this.url,this.headers,i,this.fetch)}get vectors(){return new W_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new J_(this.url+"/iceberg",this.headers,this.fetch)}};const my="2.96.0",Ai=30*1e3,Nc=3,mc=Nc*Ai,aw="http://localhost:9999",nw="supabase.auth.token",iw={"X-Client-Info":`gotrue-js/${my}`},Cc="X-Supabase-Api-Version",gy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sw=600*1e3;class qr extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function F(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class lw extends qr{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function ow(i){return F(i)&&i.name==="AuthApiError"}class Cn extends qr{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Ra extends qr{constructor(a,r,l,u){super(a,l,u),this.name=r,this.status=l}}class Ct extends Ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gc(i){return F(i)&&i.name==="AuthSessionMissingError"}class _i extends Ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yl extends Ra{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class pl extends Ra{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uw(i){return F(i)&&i.name==="AuthImplicitGrantRedirectError"}class Sg extends Ra{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cw extends Ra{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kc extends Ra{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function yc(i){return F(i)&&i.name==="AuthRetryableFetchError"}class Eg extends Ra{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class zc extends Ra{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const El="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),dw=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<Tg.length;a+=1)i[Tg[a].charCodeAt(0)]=-2;for(let a=0;a<El.length;a+=1)i[El[a].charCodeAt(0)]=a;return i})();function Ag(i,a,r){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(El[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(El[l]),a.queuedBits-=6}}function yy(i,a,r){const l=dw[i];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function jg(i){const a=[],r=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=f=>{mw(f,l,r)};for(let f=0;f<i.length;f+=1)yy(i.charCodeAt(f),u,c);return a.join("")}function fw(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function hw(i,a){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}fw(l,a)}}function mw(i,a,r){if(a.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Ri(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<i.length;u+=1)yy(i.charCodeAt(u),r,l);return new Uint8Array(a)}function gw(i){const a=[];return hw(i,r=>a.push(r)),new Uint8Array(a)}function kn(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};return i.forEach(u=>Ag(u,r,l)),Ag(null,r,l),a.join("")}function yw(i){return Math.round(Date.now()/1e3)+i}function pw(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",An={tested:!1,writable:!1},py=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(An.tested)return An.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),An.tested=!0,An.writable=!0}catch{An.tested=!0,An.writable=!1}return An.writable};function vw(i){const a={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,c)=>{a[c]=u})}catch{}return r.searchParams.forEach((l,u)=>{a[u]=l}),a}const vy=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),bw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",ji=async(i,a,r)=>{await i.setItem(a,JSON.stringify(r))},jn=async(i,a)=>{const r=await i.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lt=async(i,a)=>{await i.removeItem(a)};class Ul{constructor(){this.promise=new Ul.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Ul.promiseConstructor=Promise;function vl(i){const a=i.split(".");if(a.length!==3)throw new zc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!rw.test(a[l]))throw new zc("JWT not in base64url format");return{header:JSON.parse(jg(a[0])),payload:JSON.parse(jg(a[1])),signature:Ri(a[2]),raw:{header:a[0],payload:a[1]}}}async function _w(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function ww(i,a){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await i(c);if(!a(c,null,f)){l(f);return}}catch(f){if(!a(c,f)){u(f);return}}})()})}function xw(i){return("0"+i.toString(16)).substr(-2)}function Sw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let c=0;c<56;c++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,xw).join("")}async function Ew(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function Tw(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await Ew(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wi(i,a,r=!1){const l=Sw();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await ji(i,`${a}-code-verifier`,u);const c=await Tw(l);return[c,l===c?"plain":"s256"]}const Aw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jw(i){const a=i.headers.get(Cc);if(!a||!a.match(Aw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Ow(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function Rw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xi(i){if(!Nw.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const i={};return new Proxy(i,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cw(i,a){return new Proxy(i,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,u)}})}function Og(i){return JSON.parse(JSON.stringify(i))}const Rn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),kw=[502,503,504];async function Rg(i){var a;if(!bw(i))throw new kc(Rn(i),0);if(kw.includes(i.status))throw new kc(Rn(i),i.status);let r;try{r=await i.json()}catch(c){throw new Cn(Rn(c),c)}let l;const u=jw(i);if(u&&u.getTime()>=gy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Eg(Rn(r),i.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Eg(Rn(r),i.status,r.weak_password.reasons);throw new lw(Rn(r),i.status||500,l)}const zw=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function ne(i,a,r,l){var u;const c=Object.assign({},l?.headers);c[Cc]||(c[Cc]=gy["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Dw(i,a,r+h,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function Dw(i,a,r,l,u,c){const f=zw(a,l,u,c);let h;try{h=await i(r,Object.assign({},f))}catch(g){throw console.error(g),new kc(Rn(g),0)}if(h.ok||await Rg(h),l?.noResolveJson)return h;try{return await h.json()}catch(g){await Rg(g)}}function Zt(i){var a;let r=null;Lw(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=yw(i.expires_in)));const l=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:r,user:l},error:null}}function Ng(i){const a=Zt(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=i.weak_password),a}function an(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function Uw(i){return{data:i,error:null}}function Mw(i){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:c}=i,f=kl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:c},g=Object.assign({},f);return{data:{properties:h,user:g},error:null}}function Cg(i){return i}function Lw(i){return i.access_token&&i.refresh_token&&i.expires_in}const vc=["global","local","others"];class Bw{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=vy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=vc[0]){if(vc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:an})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=kl(a,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Mw,redirectTo:r?.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:an})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,u,c,f,h,g;try{const y={nextPage:null,lastPage:0,total:0},v=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Cg});if(v.error)throw v.error;const _=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(R=>{const j=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(R.split(";")[1].split("=")[1]);y[`${T}Page`]=j}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(F(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){xi(a);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:an})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){xi(a);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:an})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){xi(a);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:an})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){xi(a.userId);try{const{data:r,error:l}=await ne(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(a){xi(a.userId),xi(a.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,u,c,f,h,g;try{const y={nextPage:null,lastPage:0,total:0},v=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Cg});if(v.error)throw v.error;const _=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(R=>{const j=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(R.split(";")[1].split("=")[1]);y[`${T}Page`]=j}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(F(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}}function kg(i={}){return{getItem:a=>i[a]||null,setItem:(a,r)=>{i[a]=r},removeItem:a=>{delete i[a]}}}const Si={debug:!!(globalThis&&py()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class by extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class zg extends by{}async function qw(i,a,r){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const l=new globalThis.AbortController;a>0&&setTimeout(()=>{l.abort(),Si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve();try{return await globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await r()}finally{Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(a===0)throw Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new zg(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Si.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(u){throw u?.name==="AbortError"?new zg(`Acquiring an exclusive Navigator LockManager lock "${i}" timed out waiting ${a}ms`):u}}function Hw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _y(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function $w(i){return parseInt(i,16)}function Gw(i){const a=new TextEncoder().encode(i);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function Vw(i){var a;const{chainId:r,domain:l,expirationTime:u,issuedAt:c=new Date,nonce:f,notBefore:h,requestId:g,resources:y,scheme:v,uri:_,version:w}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=i.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const x=_y(i.address),R=v?`${v}://${l}`:l,j=i.statement?`${i.statement}
`:"",T=`${R} wants you to sign in with your Ethereum account:
${x}

${j}`;let C=`URI: ${_}
Version: ${w}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(u&&(C+=`
Expiration Time: ${u.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),g&&(C+=`
Request ID: ${g}`),y){let M=`
Resources:`;for(const U of y){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);M+=`
- ${U}`}C+=M}return`${T}
${C}`}class Ie extends Error{constructor({message:a,code:r,cause:l,name:u}){var c;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=u??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Tl extends Ie{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Yw({error:i,options:a}){var r,l,u;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(a.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ie({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(wy(f)){if(c.rp.id!==f)return new Ie({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Kw({error:i,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ie({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(wy(l)){if(r.rpId!==l)return new Ie({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Qw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Xw=new Qw;function Jw(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:a,user:r,excludeCredentials:l}=i,u=kl(i,["challenge","user","excludeCredentials"]),c=Ri(a).buffer,f=Object.assign(Object.assign({},r),{id:Ri(r.id).buffer}),h=Object.assign(Object.assign({},u),{challenge:c,user:f});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const y=l[g];h.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Ri(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return h}function Iw(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:a,allowCredentials:r}=i,l=kl(i,["challenge","allowCredentials"]),u=Ri(a).buffer,c=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];c.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Ri(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function Zw(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:kn(new Uint8Array(i.response.attestationObject)),clientDataJSON:kn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Pw(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:kn(new Uint8Array(u.authenticatorData)),clientDataJSON:kn(new Uint8Array(u.clientDataJSON)),signature:kn(new Uint8Array(u.signature)),userHandle:u.userHandle?kn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function wy(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Dg(){var i,a;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Ww(i){try{const a=await navigator.credentials.create(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Tl("Browser returned unexpected credential type",a)}:{data:null,error:new Tl("Empty credential response",a)}}catch(a){return{data:null,error:Yw({error:a,options:i})}}}async function Fw(i){try{const a=await navigator.credentials.get(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Tl("Browser returned unexpected credential type",a)}:{data:null,error:new Tl("Empty credential response",a)}}catch(a){return{data:null,error:Kw({error:a,options:i})}}}const e1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},t1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Al(...i){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const c in u){const f=u[c];if(f!==void 0)if(Array.isArray(f))l[c]=f;else if(r(f))l[c]=f;else if(a(f)){const h=l[c];a(h)?l[c]=Al(h,f):l[c]=Al(f)}else l[c]=f}return l}function a1(i,a){return Al(e1,i,a||{})}function n1(i,a){return Al(t1,i,a||{})}class i1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:u},c){var f;try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!h)return{data:null,error:g};const y=u??Xw.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;if(!v.name){const _=l;if(_)v.name=`${v.id}:${_}`;else{const x=(await this.client.getUser()).data.user,R=((f=x?.user_metadata)===null||f===void 0?void 0:f.name)||x?.email||x?.id||"User";v.name=`${v.id}:${R}`}}v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=a1(h.webauthn.credential_options.publicKey,c?.create),{data:_,error:w}=await Ww({publicKey:v,signal:y});return _?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const v=n1(h.webauthn.credential_options.publicKey,c?.request),{data:_,error:w}=await Fw(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:y}));return _?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new Cn("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!r)return{data:null,error:new qr("rpId is required for WebAuthn authentication")};try{if(!Dg())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:c});if(!f)return{data:null,error:h};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return F(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!r)return{data:null,error:new qr("rpId is required for WebAuthn registration")};try{if(!Dg())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return F(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in register",f)}}}}Hw();const r1={url:aw,storageKey:nw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ug(i,a,r){return await r()}const Ei={};class Hr{get jwks(){var a,r;return(r=(a=Ei[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Ei[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},r1),a);if(this.storageKey=c.storageKey,this.instanceID=(r=Hr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Hr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&ot()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Bw({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=vy(c.fetch),this.lock=c.lock||Ug,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&ot()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=qw:this.lock=Ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new i1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:py()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=kg(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${my}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(ot()&&(r=vw(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ot()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(r,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),uw(c)){const g=(a=c.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:f,redirectType:h}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?this._returnResult({error:r}):this._returnResult({error:new Cn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,u;try{const c=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Zt}),{data:f,error:h}=c;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(a){var r,l,u;try{let c;if("email"in a){const{email:v,password:_,options:w}=a;let x=null,R=null;this.flowType==="pkce"&&([x,R]=await wi(this.storage,this.storageKey)),c=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:_,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:R},xform:Zt})}else if("phone"in a){const{phone:v,password:_,options:w}=a;c=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Zt})}else throw new yl("You must provide either an email or phone number and a password");const{data:f,error:h}=c;if(h||!f)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(a){try{let r;if("email"in a){const{email:c,password:f,options:h}=a;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ng})}else if("phone"in a){const{phone:c,password:f,options:h}=a;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ng})}else throw new yl("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new _i;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,u,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,u,c,f,h,g,y,v,_,w;let x,R;if("message"in a)x=a.message,R=a.signature;else{const{chain:j,wallet:T,statement:C,options:M}=a;let U;if(ot())if(typeof T=="object")U=T;else{const ye=window;if("ethereum"in ye&&typeof ye.ethereum=="object"&&"request"in ye.ethereum&&typeof ye.ethereum.request=="function")U=ye.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=T}const V=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),Y=await U.request({method:"eth_requestAccounts"}).then(ye=>ye).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=_y(Y[0]);let K=(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const ye=await U.request({method:"eth_chainId"});K=$w(ye)}const ue={domain:V.host,address:J,statement:C,uri:V.href,version:"1",chainId:K,nonce:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=M?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=M?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=Vw(ue),R=await U.request({method:"personal_sign",params:[Gw(x),J]})}try{const{data:j,error:T}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:R},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Zt});if(T)throw T;if(!j||!j.session||!j.user){const C=new _i;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:T})}catch(j){if(F(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(a){var r,l,u,c,f,h,g,y,v,_,w,x;let R,j;if("message"in a)R=a.message,j=a.signature;else{const{chain:T,wallet:C,statement:M,options:U}=a;let V;if(ot())if(typeof C=="object")V=C;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))V=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=C}const Y=new URL((r=U?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){const J=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),M?{statement:M}:null));let K;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")K=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)K=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)R=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),j=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${Y.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(u=(l=U?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=U?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((y=U?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(v=U?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const J=await V.signMessage(new TextEncoder().encode(R),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=J}}try{const{data:T,error:C}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:kn(j)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zt});if(C)throw C;if(!T||!T.session||!T.user){const M=new _i;return this._returnResult({data:{user:null,session:null},error:M})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(F(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(a){const r=await jn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new cw;const{data:c,error:f}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Zt});if(await lt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const h=new _i;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(a){try{const{options:r,provider:l,token:u,access_token:c,nonce:f}=a,h=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zt}),{data:g,error:y}=h;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const v=new _i;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,u,c,f;try{if("email"in a){const{email:h,options:g}=a;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await wi(this.storage,this.storageKey));const{error:_}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:h,options:g}=a,{data:y,error:v}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:v})}throw new yl("You must provide either an email or phone number.")}catch(h){if(await lt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(a){var r,l;try{let u,c;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,c=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:h}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Zt});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(F(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var r,l,u,c,f;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await wi(this.storage,this.storageKey));const y=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:Uw});return!((c=y.data)===null||c===void 0)&&c.url&&ot()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(h){if(await lt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new Ct;const{error:u}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:c}=a,{error:f}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:u,options:c}=a,{data:f,error:h}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new yl("You must provide either an email or phone number and a type")}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<mc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await jn(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=pc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=Cw(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:an}):await this._useSession(async r=>{var l,u,c;const{data:f,error:h}=r;if(h)throw h;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:an})})}catch(r){if(F(r))return gc(r)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new Ct;const f=u.session;let h=null,g=null;this.flowType==="pkce"&&a.email!=null&&([h,g]=await wi(this.storage,this.storageKey));const{data:y,error:v}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:h,code_challenge_method:g}),jwt:f.access_token,xform:an});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ct;const r=Date.now()/1e3;let l=r,u=!0,c=null;const{payload:f}=vl(a.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{data:h,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:g}=await this._getUser(a.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});c={access_token:a.access_token,refresh_token:a.refresh_token,user:h.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:f,error:h}=r;if(h)throw h;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Ct;const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!ot())throw new pl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new pl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Sg("No code detected.");const{data:M,error:U}=await this._exchangeCodeForSession(a.code);if(U)throw U;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:h,expires_at:g,token_type:y}=a;if(!c||!h||!f||!y)throw new pl("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let w=v+_;g&&(w=parseInt(g));const x=w-v;x*1e3<=Ai&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const R=w-_;v-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,w,v):v-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,w,v);const{data:j,error:T}=await this._getUser(c);if(T)throw T;const C={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:_,expires_at:w,refresh_token:f,token_type:y,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:a.type},error:null})}catch(l){if(F(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await jn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:c}=r;if(c&&!gc(c))return this._returnResult({error:c});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:h}=await this.admin.signOut(f,a);if(h&&!(ow(h)&&(h.status===404||h.status===401||h.status===403)||gc(h)))return this._returnResult({error:h})}return a!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=pw(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,u;try{const{data:{session:c},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await wi(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:u}=await this._useSession(async c=>{var f,h,g,y,v;const{data:_,error:w}=c;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=a.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return ot()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(F(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:c}}=r;if(u)throw u;const{options:f,provider:h,token:g,access_token:y,nonce:v}=a,_=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:g,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zt}),{data:w,error:x}=_;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new _i}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(u){if(await lt(this.storage,`${this.storageKey}-code-verifier`),F(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,u;const{data:c,error:f}=r;if(f)throw f;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await ww(async u=>(u>0&&await _w(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Zt})),(u,c)=>{const f=200*Math.pow(2,u);return c&&yc(c)&&Date.now()+f-l<Ai})}catch(l){if(this._debug(r,"error",l),F(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),ot()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await jn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await jn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await ji(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:pc()}else if(u&&!u.user&&!u.user){const f=await jn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await lt(this.storage,this.storageKey+"-user"),await ji(this.storage,this.storageKey,u)):u.user=pc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${mc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),yc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(u.access_token);!h&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ul;const{data:c,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!c.session)throw new Ct;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(u,"error",c),F(c)){const f={data:null,error:c};return yc(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(a,r)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await ji(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const c=Og(u);await ji(this.storage,this.storageKey,c)}else{const u=Og(r);await ji(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ai);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/Ai);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ai}ms, refresh threshold is ${Nc} ticks`),u<=Nc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof by)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,f]=await wi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(h.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:u,error:c}=r;return c?this._returnResult({data:null,error:c}):await ne(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,u;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:y}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Zw(a.webauthn.credential_response):Pw(a.webauthn.credential_response)})}:{code:a.code}),{data:h,error:g}=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Jw(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Iw(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=r?.factors)!==null&&a!==void 0?a:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,l,u,c;if(a)try{const{payload:x}=vl(a);let R=null;x.aal&&(R=x.aal);let j=R;const{data:{user:T},error:C}=await this.getUser(a);if(C)return this._returnResult({data:null,error:C});((l=(r=T?.factors)===null||r===void 0?void 0:r.filter(V=>V.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(j="aal2");const U=x.amr||[];return{data:{currentLevel:R,nextLevel:j,currentAuthenticationMethods:U},error:null}}catch(x){if(F(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:f},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=vl(f.access_token);let y=null;g.aal&&(y=g.aal);let v=y;((c=(u=f.user.factors)===null||u===void 0?void 0:u.filter(x=>x.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(v="aal2");const w=g.amr||[];return{data:{currentLevel:y,nextLevel:v,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ct});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ct});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(h=>h.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(h=>h.kid===a),l&&this.jwks_cached_at+sw>u)return l;const{data:c,error:f}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(h=>h.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:x,error:R}=await this.getSession();if(R||!x.session)return this._returnResult({data:null,error:R});l=x.session.access_token}const{header:u,payload:c,signature:f,raw:{header:h,payload:g}}=vl(l);r?.allowExpired||Ow(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!y){const{error:x}=await this.getUser(l);if(x)throw x;return{data:{claims:c,header:u,signature:f},error:null}}const v=Rw(u.alg),_=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,gw(`${h}.${g}`)))throw new zc("Invalid JWT signature");return{data:{claims:c,header:u,signature:f},error:null}}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}}Hr.nextInstanceID={};const s1=Hr,l1="2.96.0";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const o1={"X-Client-Info":`supabase-js-${Cr}/${l1}`},u1={headers:o1},c1={schema:"public"},d1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f1={};function $r(i){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},$r(i)}function h1(i,a){if($r(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,a);if($r(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function m1(i){var a=h1(i,"string");return $r(a)=="symbol"?a:a+""}function g1(i,a,r){return(a=m1(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function Mg(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function He(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Mg(Object(r),!0).forEach(function(l){g1(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const y1=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),p1=()=>Headers,v1=(i,a,r)=>{const l=y1(r),u=p1();return async(c,f)=>{var h;const g=(h=await a())!==null&&h!==void 0?h:i;let y=new u(f?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),l(c,He(He({},f),{},{headers:y}))}};function b1(i){return i.endsWith("/")?i:i+"/"}function _1(i,a){var r,l;const{db:u,auth:c,realtime:f,global:h}=i,{db:g,auth:y,realtime:v,global:_}=a,w={db:He(He({},g),u),auth:He(He({},y),c),realtime:He(He({},v),f),storage:{},global:He(He(He({},_),h),{},{headers:He(He({},(r=_?.headers)!==null&&r!==void 0?r:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?w.accessToken=i.accessToken:delete w.accessToken,w}function w1(i){const a=i?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b1(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var x1=class extends s1{constructor(i){super(i)}},S1=class{constructor(i,a,r){var l,u;this.supabaseUrl=i,this.supabaseKey=a;const c=w1(i);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:c1,realtime:f1,auth:He(He({},d1),{},{storageKey:f}),global:u1},g=_1(r??{},h);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=g.auth)!==null&&y!==void 0?y:{},this.headers,g.global.fetch)}this.fetch=v1(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new o_(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new tw(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new e_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,a,r)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,a,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,storageKey:c,flowType:f,lock:h,debug:g,throwOnError:y},v,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x1({url:this.authUrl.href,headers:He(He({},w),v),storageKey:c,autoRefreshToken:i,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,flowType:f,lock:h,debug:g,throwOnError:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new T_(this.realtimeUrl.href,He(He({},i),{},{params:He(He({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a?.access_token)})}_handleTokenChanged(i,a,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const E1=(i,a,r)=>new S1(i,a,r);function T1(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const a=i.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}T1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const A1="https://your-project.supabase.co",j1="your-anon-key-here",pe=E1(A1,j1),xy=E.createContext({});function O1({children:i}){const[a,r]=E.useState(null),[l,u]=E.useState(null),[c,f]=E.useState(!0);E.useEffect(()=>{pe.auth.getSession().then(({data:{session:R}})=>{r(R?.user??null),R?.user?h(R.user.id):f(!1)});const{data:{subscription:x}}=pe.auth.onAuthStateChange(async(R,j)=>{r(j?.user??null),j?.user?await h(j.user.id):(u(null),f(!1))});return()=>x.unsubscribe()},[]);async function h(x){const{data:R}=await pe.from("profiles").select("*").eq("id",x).single();u(R),f(!1)}async function g(x,R,j){const{data:T,error:C}=await pe.auth.signUp({email:x,password:R,options:{data:{display_name:j}}});return{data:T,error:C}}async function y(x,R){const{data:j,error:T}=await pe.auth.signInWithPassword({email:x,password:R});return{data:j,error:T}}async function v(){await pe.auth.signOut(),r(null),u(null)}async function _(x){const{data:R,error:j}=await pe.from("profiles").update({...x,updated_at:new Date().toISOString()}).eq("id",a.id).select().single();return R&&u(R),{data:R,error:j}}const w={user:a,profile:l,loading:c,signUp:g,signIn:y,signOut:v,updateProfile:_,refreshProfile:()=>h(a?.id),needsOnboarding:l&&!l.onboarding_complete};return p.jsx(xy.Provider,{value:w,children:i})}const Dt=()=>E.useContext(xy);function On({children:i}){const{user:a,loading:r,needsOnboarding:l}=Dt();return r?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-950",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-buzz-primary"})}):a?l?p.jsx(zn,{to:"/onboarding",replace:!0}):i:p.jsx(zn,{to:"/login",replace:!0})}const Sy=(...i)=>i.filter((a,r,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===r).join(" ").trim();const R1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const N1=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,l)=>l?l.toUpperCase():r.toLowerCase());const Lg=i=>{const a=N1(i);return a.charAt(0).toUpperCase()+a.slice(1)};var C1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const k1=i=>{for(const a in i)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const z1=E.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:f,...h},g)=>E.createElement("svg",{ref:g,...C1,width:a,height:a,stroke:i,strokeWidth:l?Number(r)*24/Number(a):r,className:Sy("lucide",u),...!c&&!k1(h)&&{"aria-hidden":"true"},...h},[...f.map(([y,v])=>E.createElement(y,v)),...Array.isArray(c)?c:[c]]));const Le=(i,a)=>{const r=E.forwardRef(({className:l,...u},c)=>E.createElement(z1,{ref:c,iconNode:a,className:Sy(`lucide-${R1(Lg(i))}`,`lucide-${i}`,l),...u}));return r.displayName=Lg(i),r};const D1=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],U1=Le("beer",D1);const M1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],L1=Le("bell",M1);const B1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],q1=Le("chart-column",B1);const H1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$1=Le("circle-x",H1);const G1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],V1=Le("clipboard-list",G1);const Y1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],K1=Le("clock",Y1);const Q1=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],X1=Le("droplets",Q1);const J1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I1=Le("eye",J1);const Z1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],P1=Le("eye-off",Z1);const W1=[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]],F1=Le("glass-water",W1);const ex=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],tx=Le("house",ex);const ax=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nx=Le("log-out",ax);const ix=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rx=Le("play",ix);const sx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lx=Le("save",sx);const ox=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ux=Le("search",ox);const cx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dx=Le("shield",cx);const fx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ey=Le("trending-up",fx);const hx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mx=Le("triangle-alert",hx);const gx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ty=Le("trophy",gx);const yx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],px=Le("user-plus",yx);const vx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bx=Le("user",vx);const _x=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jl=Le("users",_x);const wx=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Kr=Le("wine",wx),xx=[{to:"/dashboard",icon:tx,label:"Home"},{to:"/track",icon:Kr,label:"Track"},{to:"/social",icon:jl,label:"Social"},{to:"/leaderboard",icon:Ty,label:"Board"},{to:"/profile",icon:bx,label:"Profile"}];function Sx(){return p.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-800 z-50",children:p.jsx("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto",children:xx.map(({to:i,icon:a,label:r})=>p.jsxs(iy,{to:i,className:({isActive:l})=>`flex flex-col items-center gap-1 px-3 py-2 text-xs transition-colors ${l?"text-buzz-primary":"text-gray-400 hover:text-gray-200"}`,children:[p.jsx(a,{size:20}),p.jsx("span",{children:r})]},i))})})}const Ex=[{icon:Kr,title:"Track Your Drinks",desc:"Log shots, beers, and mixed drinks. See your BAC in real-time."},{icon:dx,title:"Know Your Limits",desc:"Personalized drink limits based on your body and calibrated over time."},{icon:jl,title:"Stay Accountable",desc:"Friends get alerts when you go over your limit. Look out for each other."},{icon:q1,title:"Leaderboard",desc:"See how your university stacks up. Opt-in and compete with friends."}];function Tx(){return p.jsx("div",{className:"min-h-screen bg-gray-950 text-white",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsxs("h1",{className:"text-5xl font-bold mb-4",children:[p.jsx("span",{className:"text-buzz-primary",children:"Buzz"}),"Board"]}),p.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Track responsibly. Drink smarter."}),p.jsxs("div",{className:"flex gap-4 justify-center",children:[p.jsx(rn,{to:"/signup",className:"px-8 py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors",children:"Get Started"}),p.jsx(rn,{to:"/login",className:"px-8 py-3 border border-gray-600 rounded-lg hover:border-gray-400 transition-colors",children:"Log In"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:Ex.map(({icon:i,title:a,desc:r})=>p.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 border border-gray-800",children:[p.jsx(i,{className:"text-buzz-primary mb-3",size:28}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:a}),p.jsx("p",{className:"text-gray-400 text-sm",children:r})]},a))}),p.jsxs("div",{className:"text-center bg-gray-900 rounded-xl p-8 border border-gray-800",children:[p.jsx("p",{className:"text-buzz-warning font-medium mb-2",children:"Drink Responsibly"}),p.jsx("p",{className:"text-gray-400 text-sm",children:"BuzzBoard is designed to promote safe drinking habits. Always know your limits, stay hydrated, and never drink and drive."})]})]})})}let Ax={data:""},jx=i=>{if(typeof window=="object"){let a=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return a.nonce=window.__nonce__,a.parentNode||(i||document.head).appendChild(a),a.firstChild}return i||Ax},Ox=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rx=/\/\*[^]*?\*\/|  +/g,Bg=/\n+/g,nn=(i,a)=>{let r="",l="",u="";for(let c in i){let f=i[c];c[0]=="@"?c[1]=="i"?r=c+" "+f+";":l+=c[1]=="f"?nn(f,c):c+"{"+nn(f,c[1]=="k"?"":a)+"}":typeof f=="object"?l+=nn(f,a?a.replace(/([^,])+/g,h=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,h):h?h+" "+g:g)):c):f!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=nn.p?nn.p(c,f):c+":"+f+";")}return r+(a&&u?a+"{"+u+"}":u)+l},Sa={},Ay=i=>{if(typeof i=="object"){let a="";for(let r in i)a+=r+Ay(i[r]);return a}return i},Nx=(i,a,r,l,u)=>{let c=Ay(i),f=Sa[c]||(Sa[c]=(g=>{let y=0,v=11;for(;y<g.length;)v=101*v+g.charCodeAt(y++)>>>0;return"go"+v})(c));if(!Sa[f]){let g=c!==i?i:(y=>{let v,_,w=[{}];for(;v=Ox.exec(y.replace(Rx,""));)v[4]?w.shift():v[3]?(_=v[3].replace(Bg," ").trim(),w.unshift(w[0][_]=w[0][_]||{})):w[0][v[1]]=v[2].replace(Bg," ").trim();return w[0]})(i);Sa[f]=nn(u?{["@keyframes "+f]:g}:g,r?"":"."+f)}let h=r&&Sa.g?Sa.g:null;return r&&(Sa.g=Sa[f]),((g,y,v,_)=>{_?y.data=y.data.replace(_,g):y.data.indexOf(g)===-1&&(y.data=v?g+y.data:y.data+g)})(Sa[f],a,l,h),f},Cx=(i,a,r)=>i.reduce((l,u,c)=>{let f=a[c];if(f&&f.call){let h=f(r),g=h&&h.props&&h.props.className||/^go/.test(h)&&h;f=g?"."+g:h&&typeof h=="object"?h.props?"":nn(h,""):h===!1?"":h}return l+u+(f??"")},"");function Ml(i){let a=this||{},r=i.call?i(a.p):i;return Nx(r.unshift?r.raw?Cx(r,[].slice.call(arguments,1),a.p):r.reduce((l,u)=>Object.assign(l,u&&u.call?u(a.p):u),{}):r,jx(a.target),a.g,a.o,a.k)}let jy,Dc,Uc;Ml.bind({g:1});let ja=Ml.bind({k:1});function kx(i,a,r,l){nn.p=a,jy=i,Dc=r,Uc=l}function sn(i,a){let r=this||{};return function(){let l=arguments;function u(c,f){let h=Object.assign({},c),g=h.className||u.className;r.p=Object.assign({theme:Dc&&Dc()},h),r.o=/ *go\d+/.test(g),h.className=Ml.apply(r,l)+(g?" "+g:"");let y=i;return i[0]&&(y=h.as||i,delete h.as),Uc&&y[0]&&Uc(h),jy(y,h)}return u}}var zx=i=>typeof i=="function",Ol=(i,a)=>zx(i)?i(a):i,Dx=(()=>{let i=0;return()=>(++i).toString()})(),Oy=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");i=!a||a.matches}return i}})(),Ux=20,Xc="default",Ry=(i,a)=>{let{toastLimit:r}=i.settings;switch(a.type){case 0:return{...i,toasts:[a.toast,...i.toasts].slice(0,r)};case 1:return{...i,toasts:i.toasts.map(f=>f.id===a.toast.id?{...f,...a.toast}:f)};case 2:let{toast:l}=a;return Ry(i,{type:i.toasts.find(f=>f.id===l.id)?1:0,toast:l});case 3:let{toastId:u}=a;return{...i,toasts:i.toasts.map(f=>f.id===u||u===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return a.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(f=>f.id!==a.toastId)};case 5:return{...i,pausedAt:a.time};case 6:let c=a.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+c}))}}},xl=[],Ny={toasts:[],pausedAt:void 0,settings:{toastLimit:Ux}},ia={},Cy=(i,a=Xc)=>{ia[a]=Ry(ia[a]||Ny,i),xl.forEach(([r,l])=>{r===a&&l(ia[a])})},ky=i=>Object.keys(ia).forEach(a=>Cy(i,a)),Mx=i=>Object.keys(ia).find(a=>ia[a].toasts.some(r=>r.id===i)),Ll=(i=Xc)=>a=>{Cy(a,i)},Lx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bx=(i={},a=Xc)=>{let[r,l]=E.useState(ia[a]||Ny),u=E.useRef(ia[a]);E.useEffect(()=>(u.current!==ia[a]&&l(ia[a]),xl.push([a,l]),()=>{let f=xl.findIndex(([h])=>h===a);f>-1&&xl.splice(f,1)}),[a]);let c=r.toasts.map(f=>{var h,g,y;return{...i,...i[f.type],...f,removeDelay:f.removeDelay||((h=i[f.type])==null?void 0:h.removeDelay)||i?.removeDelay,duration:f.duration||((g=i[f.type])==null?void 0:g.duration)||i?.duration||Lx[f.type],style:{...i.style,...(y=i[f.type])==null?void 0:y.style,...f.style}}});return{...r,toasts:c}},qx=(i,a="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...r,id:r?.id||Dx()}),Qr=i=>(a,r)=>{let l=qx(a,i,r);return Ll(l.toasterId||Mx(l.id))({type:2,toast:l}),l.id},We=(i,a)=>Qr("blank")(i,a);We.error=Qr("error");We.success=Qr("success");We.loading=Qr("loading");We.custom=Qr("custom");We.dismiss=(i,a)=>{let r={type:3,toastId:i};a?Ll(a)(r):ky(r)};We.dismissAll=i=>We.dismiss(void 0,i);We.remove=(i,a)=>{let r={type:4,toastId:i};a?Ll(a)(r):ky(r)};We.removeAll=i=>We.remove(void 0,i);We.promise=(i,a,r)=>{let l=We.loading(a.loading,{...r,...r?.loading});return typeof i=="function"&&(i=i()),i.then(u=>{let c=a.success?Ol(a.success,u):void 0;return c?We.success(c,{id:l,...r,...r?.success}):We.dismiss(l),u}).catch(u=>{let c=a.error?Ol(a.error,u):void 0;c?We.error(c,{id:l,...r,...r?.error}):We.dismiss(l)}),i};var Hx=1e3,$x=(i,a="default")=>{let{toasts:r,pausedAt:l}=Bx(i,a),u=E.useRef(new Map).current,c=E.useCallback((_,w=Hx)=>{if(u.has(_))return;let x=setTimeout(()=>{u.delete(_),f({type:4,toastId:_})},w);u.set(_,x)},[]);E.useEffect(()=>{if(l)return;let _=Date.now(),w=r.map(x=>{if(x.duration===1/0)return;let R=(x.duration||0)+x.pauseDuration-(_-x.createdAt);if(R<0){x.visible&&We.dismiss(x.id);return}return setTimeout(()=>We.dismiss(x.id,a),R)});return()=>{w.forEach(x=>x&&clearTimeout(x))}},[r,l,a]);let f=E.useCallback(Ll(a),[a]),h=E.useCallback(()=>{f({type:5,time:Date.now()})},[f]),g=E.useCallback((_,w)=>{f({type:1,toast:{id:_,height:w}})},[f]),y=E.useCallback(()=>{l&&f({type:6,time:Date.now()})},[l,f]),v=E.useCallback((_,w)=>{let{reverseOrder:x=!1,gutter:R=8,defaultPosition:j}=w||{},T=r.filter(U=>(U.position||j)===(_.position||j)&&U.height),C=T.findIndex(U=>U.id===_.id),M=T.filter((U,V)=>V<C&&U.visible).length;return T.filter(U=>U.visible).slice(...x?[M+1]:[0,M]).reduce((U,V)=>U+(V.height||0)+R,0)},[r]);return E.useEffect(()=>{r.forEach(_=>{if(_.dismissed)c(_.id,_.removeDelay);else{let w=u.get(_.id);w&&(clearTimeout(w),u.delete(_.id))}})},[r,c]),{toasts:r,handlers:{updateHeight:g,startPause:h,endPause:y,calculateOffset:v}}},Gx=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vx=ja`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yx=ja`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Kx=sn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Yx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Qx=ja`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xx=sn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${Qx} 1s linear infinite;
`,Jx=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ix=ja`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Zx=sn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ix} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Px=sn("div")`
  position: absolute;
`,Wx=sn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fx=ja`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eS=sn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tS=({toast:i})=>{let{icon:a,type:r,iconTheme:l}=i;return a!==void 0?typeof a=="string"?E.createElement(eS,null,a):a:r==="blank"?null:E.createElement(Wx,null,E.createElement(Xx,{...l}),r!=="loading"&&E.createElement(Px,null,r==="error"?E.createElement(Kx,{...l}):E.createElement(Zx,{...l})))},aS=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nS=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,iS="0%{opacity:0;} 100%{opacity:1;}",rS="0%{opacity:1;} 100%{opacity:0;}",sS=sn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lS=sn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oS=(i,a)=>{let r=i.includes("top")?1:-1,[l,u]=Oy()?[iS,rS]:[aS(r),nS(r)];return{animation:a?`${ja(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ja(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},uS=E.memo(({toast:i,position:a,style:r,children:l})=>{let u=i.height?oS(i.position||a||"top-center",i.visible):{opacity:0},c=E.createElement(tS,{toast:i}),f=E.createElement(lS,{...i.ariaProps},Ol(i.message,i));return E.createElement(sS,{className:i.className,style:{...u,...r,...i.style}},typeof l=="function"?l({icon:c,message:f}):E.createElement(E.Fragment,null,c,f))});kx(E.createElement);var cS=({id:i,className:a,style:r,onHeightUpdate:l,children:u})=>{let c=E.useCallback(f=>{if(f){let h=()=>{let g=f.getBoundingClientRect().height;l(i,g)};h(),new MutationObserver(h).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,l]);return E.createElement("div",{ref:c,className:a,style:r},u)},dS=(i,a)=>{let r=i.includes("top"),l=r?{top:0}:{bottom:0},u=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Oy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${a*(r?1:-1)}px)`,...l,...u}},fS=Ml`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bl=16,hS=({reverseOrder:i,position:a="top-center",toastOptions:r,gutter:l,children:u,toasterId:c,containerStyle:f,containerClassName:h})=>{let{toasts:g,handlers:y}=$x(r,c);return E.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:bl,left:bl,right:bl,bottom:bl,pointerEvents:"none",...f},className:h,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(v=>{let _=v.position||a,w=y.calculateOffset(v,{reverseOrder:i,gutter:l,defaultPosition:a}),x=dS(_,w);return E.createElement(cS,{id:v.id,key:v.id,onHeightUpdate:y.updateHeight,className:v.visible?fS:"",style:x},v.type==="custom"?Ol(v.message,v):u?u(v):E.createElement(uS,{toast:v,position:_}))}))},$e=We;function mS(){const{signIn:i,user:a}=Dt(),[r,l]=E.useState(""),[u,c]=E.useState(""),[f,h]=E.useState(!1);if(a)return p.jsx(zn,{to:"/dashboard",replace:!0});async function g(y){y.preventDefault(),h(!0);const{error:v}=await i(r,u);h(!1),v&&$e.error(v.message)}return p.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("h1",{className:"text-3xl font-bold text-center mb-2",children:[p.jsx("span",{className:"text-buzz-primary",children:"Buzz"}),"Board"]}),p.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Welcome back"}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),p.jsx("input",{type:"email",value:r,onChange:y=>l(y.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white",placeholder:"you@email.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Password"}),p.jsx("input",{type:"password",value:u,onChange:y=>c(y.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white",placeholder:"Your password"})]}),p.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors disabled:opacity-50",children:f?"Logging in...":"Log In"})]}),p.jsxs("p",{className:"text-gray-400 text-center mt-6 text-sm",children:["Don't have an account?"," ",p.jsx(rn,{to:"/signup",className:"text-buzz-primary hover:underline",children:"Sign up"})]})]})})}function gS(){const{signUp:i,user:a}=Dt(),[r,l]=E.useState(""),[u,c]=E.useState(""),[f,h]=E.useState(""),[g,y]=E.useState(!1);if(a)return p.jsx(zn,{to:"/dashboard",replace:!0});async function v(_){if(_.preventDefault(),f.length<6){$e.error("Password must be at least 6 characters");return}y(!0);const{error:w}=await i(u,f,r);y(!1),w?$e.error(w.message):$e.success("Account created! Check your email to confirm.")}return p.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("h1",{className:"text-3xl font-bold text-center mb-2",children:[p.jsx("span",{className:"text-buzz-primary",children:"Buzz"}),"Board"]}),p.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Create your account"}),p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Display Name"}),p.jsx("input",{type:"text",value:r,onChange:_=>l(_.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white",placeholder:"Your name"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),p.jsx("input",{type:"email",value:u,onChange:_=>c(_.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white",placeholder:"you@email.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Password"}),p.jsx("input",{type:"password",value:f,onChange:_=>h(_.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white",placeholder:"Min 6 characters"})]}),p.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors disabled:opacity-50",children:g?"Creating account...":"Sign Up"})]}),p.jsxs("p",{className:"text-gray-400 text-center mt-6 text-sm",children:["Already have an account?"," ",p.jsx(rn,{to:"/login",className:"text-buzz-primary hover:underline",children:"Log in"})]})]})})}const zy=14,Dy=.015,Uy={male:.68,female:.55},My=453.592,Mc={shot:{label:"Shot (1.5oz)",standardDrinks:1,icon:"shot"},beer:{label:"Beer (12oz)",standardDrinks:1,icon:"beer"},mixed:{label:"Mixed Drink",standardDrinks:1.5,icon:"mixed"}};function qg(i,a,r,l){const u=i*zy,c=a*My,f=Uy[r]||.68,h=u/(c*f)-Dy*l;return Math.max(0,parseFloat(h.toFixed(4)))}function bc(i,a,r,l=1){const u=a*My,c=Uy[r]||.68,f=(i+Dy*l)*u*c;return Math.max(1,Math.round(f/zy))}function Rl(i,a){return{low:bc(.04,i,a),med:bc(.06,i,a),high:bc(.08,i,a)}}function yS(i){return i<.02?{level:"sober",color:"buzz-safe",message:"Sober"}:i<.04?{level:"low",color:"buzz-safe",message:"Minimal effects"}:i<.06?{level:"buzzed",color:"buzz-primary",message:"Feeling it"}:i<.08?{level:"tipsy",color:"buzz-warning",message:"Tipsy - slow down"}:i<.1?{level:"over",color:"buzz-danger",message:"At legal limit - stop"}:{level:"danger",color:"buzz-danger",message:"DANGER - stop immediately"}}function pS(){const{updateProfile:i}=Dt(),a=Dn(),[r,l]=E.useState(1),[u,c]=E.useState(""),[f,h]=E.useState(""),[g,y]=E.useState(""),[v,_]=E.useState(""),[w,x]=E.useState(""),[R,j]=E.useState(!1);async function T(C){C.preventDefault();const M=parseInt(f)*12+parseInt(g||0),U=parseInt(v);if(!u||!M||!U){$e.error("Please fill in all required fields");return}j(!0);const V=Rl(U,u),{error:Y}=await i({biological_gender:u,height_inches:M,weight_lbs:U,university_name:w||null,calculated_low_limit:V.low,calculated_med_limit:V.med,calculated_high_limit:V.high,onboarding_complete:!0});j(!1),Y?$e.error("Failed to save profile"):($e.success("Profile set up!"),a("/dashboard"))}return p.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("h1",{className:"text-3xl font-bold text-center mb-2",children:[p.jsx("span",{className:"text-buzz-primary",children:"Buzz"}),"Board"]}),p.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Let's personalize your experience"}),p.jsx("div",{className:"flex gap-2 mb-8 justify-center",children:[1,2].map(C=>p.jsx("div",{className:`h-1.5 w-16 rounded-full ${C<=r?"bg-buzz-primary":"bg-gray-700"}`},C))}),r===1&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Biological Gender"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:["male","female"].map(C=>p.jsx("button",{type:"button",onClick:()=>c(C),className:`py-4 rounded-lg border text-center capitalize font-medium transition-colors ${u===C?"border-buzz-primary bg-buzz-primary/10 text-buzz-primary":"border-gray-700 bg-gray-900 text-gray-300 hover:border-gray-500"}`,children:C},C))}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Used for BAC calculation (Widmark formula uses different body water ratios)"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Height"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"number",value:f,onChange:C=>h(C.target.value),min:"3",max:"8",placeholder:"Feet",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})}),p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"number",value:g,onChange:C=>y(C.target.value),min:"0",max:"11",placeholder:"Inches",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Weight (lbs)"}),p.jsx("input",{type:"number",value:v,onChange:C=>_(C.target.value),min:"80",max:"500",placeholder:"Weight in pounds",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})]}),p.jsx("button",{type:"button",onClick:()=>{if(!u||!f||!v){$e.error("Please fill in gender, height, and weight");return}l(2)},className:"w-full py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors",children:"Next"})]}),r===2&&p.jsxs("form",{onSubmit:T,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"University (optional)"}),p.jsx("input",{type:"text",value:w,onChange:C=>x(C.target.value),placeholder:"e.g. State University",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For leaderboard grouping"})]}),p.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[p.jsx("h3",{className:"font-medium mb-3",children:"Your Estimated Limits"}),f&&v&&u&&(()=>{const C=Rl(parseInt(v),u);return p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-buzz-safe",children:"Low (feeling it)"}),p.jsxs("span",{className:"font-semibold",children:[C.low," drinks"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-buzz-primary",children:"Medium (buzzed)"}),p.jsxs("span",{className:"font-semibold",children:[C.med," drinks"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-buzz-danger",children:"High (legal limit)"}),p.jsxs("span",{className:"font-semibold",children:[C.high," drinks"]})]})]})})(),p.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"These will be fine-tuned over your first 3 sessions"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"button",onClick:()=>l(1),className:"flex-1 py-3 border border-gray-600 rounded-lg hover:border-gray-400 transition-colors",children:"Back"}),p.jsx("button",{type:"submit",disabled:R,className:"flex-1 py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors disabled:opacity-50",children:R?"Saving...":"Complete Setup"})]})]})]})})}function Ly(){const{user:i,profile:a}=Dt(),[r,l]=E.useState(null),[u,c]=E.useState([]),[f,h]=E.useState(0),[g,y]=E.useState(!0),v=u.reduce((j,T)=>j+(T.standard_drink_equivalent||0),0),_=E.useCallback(()=>{if(!r||!a)return 0;const j=(Date.now()-new Date(r.started_at).getTime())/36e5,T=qg(v,a.weight_lbs,a.biological_gender,j);return h(T),T},[r,v,a]);E.useEffect(()=>{if(!i){y(!1);return}async function j(){const{data:T}=await pe.from("drink_sessions").select("*").eq("user_id",i.id).eq("is_active",!0).maybeSingle();if(T){l(T);const{data:C}=await pe.from("drink_logs").select("*").eq("session_id",T.id).order("logged_at",{ascending:!0});c(C||[])}y(!1)}j()},[i]),E.useEffect(()=>{if(!r)return;_();const j=setInterval(_,3e4);return()=>clearInterval(j)},[r,_]);async function w(){const{data:j,error:T}=await pe.from("drink_sessions").insert({user_id:i.id}).select().single();return j&&(l(j),c([]),h(0)),{data:j,error:T}}async function x(j){if(!r)return{error:"No active session"};const T=Mc[j];if(!T)return{error:"Invalid drink type"};const{data:C,error:M}=await pe.from("drink_logs").insert({session_id:r.id,drink_type:j,quantity:1,standard_drink_equivalent:T.standardDrinks}).select().single();if(C){const U=[...u,C];c(U);const V=U.reduce((K,ue)=>K+(ue.standard_drink_equivalent||0),0),Y=(Date.now()-new Date(r.started_at).getTime())/36e5,J=qg(V,a.weight_lbs,a.biological_gender,Y);h(J),await pe.from("drink_sessions").update({total_standard_drinks:V,peak_bac:Math.max(r.peak_bac||0,J)}).eq("id",r.id),l(K=>({...K,total_standard_drinks:V,peak_bac:Math.max(K.peak_bac||0,J)}))}return{data:C,error:M}}async function R(){if(!r)return{error:"No active session"};const{data:j,error:T}=await pe.from("drink_sessions").update({is_active:!1,ended_at:new Date().toISOString(),status:"completed"}).eq("id",r.id).select().single(),C=r.id;return l(null),c([]),h(0),{data:j,error:T,sessionId:C}}return{activeSession:r,drinkLogs:u,currentBAC:f,totalDrinks:v,loading:g,startSession:w,logDrink:x,endSession:R}}function _c({level:i,drinkCount:a,currentDrinks:r}){const l={low:{bg:"bg-green-900/30",border:"border-green-700",text:"text-buzz-safe",label:"Low"},med:{bg:"bg-amber-900/30",border:"border-amber-700",text:"text-buzz-primary",label:"Medium"},high:{bg:"bg-red-900/30",border:"border-red-700",text:"text-buzz-danger",label:"High"}},u=l[i]||l.low,c=r>=a;return p.jsxs("div",{className:`rounded-lg border p-3 text-center ${u.bg} ${u.border} ${c?"ring-2 ring-offset-1 ring-offset-gray-950 ring-current":""}`,children:[p.jsx("p",{className:`text-xs uppercase tracking-wide ${u.text}`,children:u.label}),p.jsx("p",{className:`text-2xl font-bold ${u.text}`,children:a}),p.jsx("p",{className:"text-xs text-gray-400",children:"drinks"})]})}function vS(){const{profile:i}=Dt(),{activeSession:a,totalDrinks:r,startSession:l,loading:u}=Ly(),c=Dn();if(u)return p.jsx("div",{className:"flex items-center justify-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-buzz-primary"})});const f=i?{low:i.calculated_low_limit,med:i.calculated_med_limit,high:i.calculated_high_limit}:{low:0,med:0,high:0};async function h(){if(a){c("/track");return}const{error:g}=await l();g||c("/track")}return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h1",{className:"text-2xl font-bold",children:["Hey, ",i?.display_name||"there"]}),p.jsx("p",{className:"text-gray-400 text-sm",children:"Drink smart. Stay safe."})]}),a&&p.jsxs("button",{onClick:()=>c("/track"),className:"w-full mb-6 p-4 bg-buzz-primary/10 border border-buzz-primary rounded-xl flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-buzz-primary font-semibold",children:"Night in progress"}),p.jsxs("p",{className:"text-sm text-gray-400",children:[r," drinks logged"]})]}),p.jsx(rx,{size:24,className:"text-buzz-primary"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-sm text-gray-400 uppercase tracking-wide mb-3",children:"Your Limits"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx(_c,{level:"low",drinkCount:f.low,currentDrinks:r}),p.jsx(_c,{level:"med",drinkCount:f.med,currentDrinks:r}),p.jsx(_c,{level:"high",drinkCount:f.high,currentDrinks:r})]}),i?.personal_drink_limit&&p.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Your personal goal: ",i.personal_drink_limit," drinks"]})]}),i&&i.calibration_count<3&&p.jsx("div",{className:"mb-6 p-4 bg-gray-900 border border-gray-800 rounded-xl",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(V1,{size:20,className:"text-buzz-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:"Calibration in Progress"}),p.jsxs("p",{className:"text-xs text-gray-400",children:[i.calibration_count," of 3 sessions completed. Your limits get more accurate with each session."]})]})]})}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-sm text-gray-400 uppercase tracking-wide mb-3",children:"Quick Stats"}),p.jsx("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ey,{size:20,className:"text-buzz-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-400",children:"Calibration Progress"}),p.jsxs("p",{className:"font-medium",children:[i?.calibration_count||0,"/3 sessions"]})]})]})})]}),!a&&p.jsx("button",{onClick:h,className:"w-full py-4 bg-buzz-primary text-gray-950 font-bold rounded-xl text-lg hover:bg-amber-400 transition-colors",children:"Start a Night"}),p.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"Always drink responsibly. Never drink and drive."})]})}function bS({bac:i}){const a=yS(i),r=Math.min(i/.12,1),u={"buzz-safe":"#22c55e","buzz-primary":"#f59e0b","buzz-warning":"#f97316","buzz-danger":"#ef4444"}[a.color]||"#22c55e",f=Math.PI*70,h=f-r*f;return p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[p.jsx("path",{d:"M 10 90 A 70 70 0 0 1 170 90",fill:"none",stroke:"#1e293b",strokeWidth:"12",strokeLinecap:"round"}),p.jsx("path",{d:"M 10 90 A 70 70 0 0 1 170 90",fill:"none",stroke:u,strokeWidth:"12",strokeLinecap:"round",strokeDasharray:f,strokeDashoffset:h,className:"transition-all duration-500"})]}),p.jsxs("div",{className:"-mt-14 text-center",children:[p.jsx("p",{className:`text-3xl font-bold text-${a.color}`,children:i.toFixed(3)}),p.jsx("p",{className:`text-sm text-${a.color}`,children:a.message})]})]})}const _S={shot:Kr,beer:U1,mixed:F1};function wS({drinkType:i,label:a,standardDrinks:r,onLog:l,disabled:u}){const c=_S[i]||Kr;return p.jsxs("button",{onClick:()=>l(i),disabled:u,className:"flex flex-col items-center justify-center gap-2 p-5 bg-gray-900 border border-gray-700 rounded-xl hover:border-buzz-primary hover:bg-gray-800 active:scale-95 transition-all disabled:opacity-40 disabled:pointer-events-none min-h-[100px]",children:[p.jsx(c,{size:32,className:"text-buzz-primary"}),p.jsx("span",{className:"font-medium text-sm",children:a}),p.jsxs("span",{className:"text-xs text-gray-400",children:[r," std drink",r!==1?"s":""]})]})}function xS({totalDrinks:i,limits:a,bac:r}){if(!a)return null;let l=null,u=null;if(r>=.08?(u="danger",l="You are at the legal limit. Please stop drinking and stay safe."):i>=a.high?(u="danger",l="You've reached your high limit. Time to stop and hydrate."):i>=a.med?(u="warning",l="You've passed your medium limit. Consider slowing down."):i>=a.low&&(u="info",l="You've hit your low limit. Pace yourself and drink water."),!l)return null;const c={danger:"bg-red-900/40 border-red-700 text-red-200",warning:"bg-amber-900/40 border-amber-700 text-amber-200",info:"bg-green-900/40 border-green-700 text-green-200"};return p.jsxs("div",{className:`rounded-lg border p-4 flex items-start gap-3 ${c[u]}`,children:[u==="danger"?p.jsx($1,{size:20,className:"shrink-0 mt-0.5"}):p.jsx(mx,{size:20,className:"shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:l}),p.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Drink responsibly. Stay hydrated."})]})]})}const Hg=["Alternate alcoholic drinks with water.","Eat before and during drinking.","Know your limits and stick to them.","Never leave your drink unattended.","Plan your ride home before you go out.","It's always okay to say no to another drink."];function SS(){const{profile:i}=Dt(),{activeSession:a,drinkLogs:r,currentBAC:l,totalDrinks:u,loading:c,logDrink:f,endSession:h}=Ly(),g=Dn();if(c)return p.jsx("div",{className:"flex items-center justify-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-buzz-primary"})});if(!a)return p.jsx(zn,{to:"/dashboard",replace:!0});const y={low:i?.calculated_low_limit||0,med:i?.calculated_med_limit||0,high:i?.calculated_high_limit||0},v=i?.personal_drink_limit,_=v||y.high;async function w(T){const{error:C}=await f(T);C?$e.error("Failed to log drink"):$e.success(`Logged: ${Mc[T].label}`)}async function x(){const{sessionId:T,error:C}=await h();C?$e.error("Failed to end session"):i.calibration_count<3?g(`/calibration?session=${T}`):g(`/session/${T}`)}const R=Hg[Math.floor(Date.now()/6e4)%Hg.length],j=_>0?Math.min(u/_,1):0;return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h1",{className:"text-xl font-bold",children:"Tonight's Session"}),p.jsxs("p",{className:"text-sm text-gray-400",children:["Started ",new Date(a.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),p.jsx("div",{className:"mb-6",children:p.jsx(bS,{bac:l})}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsxs("span",{className:"text-gray-400",children:[u," drinks"]}),p.jsx("span",{className:"text-gray-400",children:v?`Goal: ${v}`:`Limit: ${y.high}`})]}),p.jsx("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${j>=1?"bg-buzz-danger":j>=.7?"bg-buzz-warning":"bg-buzz-safe"}`,style:{width:`${j*100}%`}})})]}),p.jsx("div",{className:"mb-6",children:p.jsx(xS,{totalDrinks:u,limits:y,bac:l})}),p.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:Object.entries(Mc).map(([T,C])=>p.jsx(wS,{drinkType:T,label:C.label,standardDrinks:C.standardDrinks,onLog:w},T))}),r.length>0&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Tonight's Log"}),p.jsx("div",{className:"bg-gray-900 rounded-lg border border-gray-800 divide-y divide-gray-800 max-h-40 overflow-y-auto",children:[...r].reverse().map(T=>p.jsxs("div",{className:"px-4 py-2 flex justify-between text-sm",children:[p.jsx("span",{className:"capitalize",children:T.drink_type}),p.jsx("span",{className:"text-gray-400",children:new Date(T.logged_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},T.id))})]}),p.jsx("button",{onClick:x,className:"w-full py-4 border-2 border-gray-600 text-gray-300 font-semibold rounded-xl hover:border-gray-400 transition-colors mb-4",children:"End Night"}),p.jsxs("p",{className:"text-xs text-gray-500 text-center italic",children:["Tip: ",R]})]})}function ES(){const{profile:i,updateProfile:a}=Dt(),r=Dn(),[l]=Kb(),u=l.get("session"),[c,f]=E.useState(""),[h,g]=E.useState(3),[y,v]=E.useState(null),[_,w]=E.useState(!1),x=(i?.calibration_count||0)+1;async function R(T){if(T.preventDefault(),y===null){$e.error("Please answer all questions");return}w(!0);const{error:C}=await pe.from("calibration_sessions").insert({user_id:i.id,session_number:x,drinks_consumed:parseInt(c)||0,feeling_rating:h,could_handle_more:y});if(C){$e.error("Failed to save calibration"),w(!1);return}const M=x,U={calibration_count:M};if(M>=3){const V=Rl(i.weight_lbs,i.biological_gender),{data:Y}=await pe.from("calibration_sessions").select("*").eq("user_id",i.id).order("session_number");if(Y&&Y.length>=3){const J=Y.filter(ye=>ye.could_handle_more).length,K=Y.reduce((ye,Z)=>ye+Z.feeling_rating,0)/Y.length;let ue=0;J>=2&&K>=3?ue=1:J===0&&K<=2&&(ue=-1),U.calculated_low_limit=Math.max(1,V.low+ue),U.calculated_med_limit=Math.max(2,V.med+ue),U.calculated_high_limit=Math.min(V.high+ue,V.high)}}await a(U),w(!1),$e.success(M>=3?"Calibration complete! Your limits have been updated.":`Calibration ${M}/3 saved.`),r(u?`/session/${u}`:"/dashboard")}const j=[{value:1,label:"Awful"},{value:2,label:"Bad"},{value:3,label:"Okay"},{value:4,label:"Good"},{value:5,label:"Great"}];return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Calibration Survey"}),p.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Session ",x," of 3  Help us fine-tune your limits"]}),p.jsxs("form",{onSubmit:R,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"How many drinks did you have tonight?"}),p.jsx("input",{type:"number",value:c,onChange:T=>f(T.target.value),min:"0",max:"30",required:!0,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"How did you feel overall?"}),p.jsx("div",{className:"flex gap-2",children:j.map(({value:T,label:C})=>p.jsx("button",{type:"button",onClick:()=>g(T),className:`flex-1 py-3 rounded-lg text-xs font-medium border transition-colors ${h===T?"border-buzz-primary bg-buzz-primary/10 text-buzz-primary":"border-gray-700 bg-gray-900 text-gray-400 hover:border-gray-500"}`,children:C},T))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Could you have handled more drinks?"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:[!0,!1].map(T=>p.jsx("button",{type:"button",onClick:()=>v(T),className:`py-3 rounded-lg border font-medium transition-colors ${y===T?"border-buzz-primary bg-buzz-primary/10 text-buzz-primary":"border-gray-700 bg-gray-900 text-gray-300 hover:border-gray-500"}`,children:T?"Yes":"No"},String(T)))})]}),p.jsx("button",{type:"submit",disabled:_,className:"w-full py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors disabled:opacity-50",children:_?"Saving...":"Submit"})]})]})}function TS({friend:i,canSeeDrinks:a,onToggleVisibility:r}){const l=(i.display_name||"??").split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2);return p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border border-gray-800",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-buzz-primary/20 flex items-center justify-center text-buzz-primary font-semibold text-sm",children:l}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:i.display_name}),i.has_active_session&&p.jsx("p",{className:"text-xs text-buzz-safe",children:"Active session"})]})]}),r&&p.jsx("button",{onClick:()=>r(i.id),className:"p-2 text-gray-400 hover:text-white transition-colors",title:a?"They can see your drinks":"Hidden from them",children:a?p.jsx(I1,{size:18}):p.jsx(P1,{size:18})})]})}function AS(){const{user:i}=Dt(),[a,r]=E.useState("friends"),[l,u]=E.useState([]),[c,f]=E.useState([]),[h,g]=E.useState([]),[y,v]=E.useState([]),[_,w]=E.useState(""),[x,R]=E.useState([]),[j,T]=E.useState(!0),[C,M]=E.useState("");E.useEffect(()=>{U();const Z=pe.channel("friend-alerts").on("postgres_changes",{event:"INSERT",schema:"public",table:"friend_alerts",filter:`friend_id=eq.${i.id}`},De=>{$e(De.new.message,{icon:"",duration:5e3}),g(Ce=>[De.new,...Ce])}).subscribe();return()=>pe.removeChannel(Z)},[i]);async function U(){T(!0);const[Z,De,Ce,ft]=await Promise.all([pe.from("friendships").select("*, requester:profiles!friendships_requester_id_fkey(*), addressee:profiles!friendships_addressee_id_fkey(*)").or(`requester_id.eq.${i.id},addressee_id.eq.${i.id}`).eq("status","accepted"),pe.from("friendships").select("*, requester:profiles!friendships_requester_id_fkey(*)").eq("addressee_id",i.id).eq("status","pending"),pe.from("friend_alerts").select("*").eq("friend_id",i.id).order("created_at",{ascending:!1}).limit(20),pe.from("friend_groups").select("*, friend_group_members(user_id)").eq("creator_id",i.id)]),Qt=(Z.data||[]).map(tt=>({...tt.requester_id===i.id?tt.addressee:tt.requester,friendship_id:tt.id,can_see_drinks:tt.can_see_drinks}));u(Qt),f(De.data||[]),g(Ce.data||[]),v(ft.data||[]),T(!1)}async function V(){if(!_.trim())return;const{data:Z}=await pe.from("profiles").select("id, display_name").ilike("display_name",`%${_}%`).neq("id",i.id).limit(10);R(Z||[])}async function Y(Z){const{error:De}=await pe.from("friendships").insert({requester_id:i.id,addressee_id:Z});De?$e.error(De.message.includes("duplicate")?"Request already sent":"Failed to send request"):($e.success("Friend request sent!"),R([]),w(""))}async function J(Z){await pe.from("friendships").update({status:"accepted"}).eq("id",Z),$e.success("Friend request accepted!"),U()}async function K(Z){const De=l.find(Ce=>Ce.id===Z);De&&(await pe.from("friendships").update({can_see_drinks:!De.can_see_drinks}).eq("id",De.friendship_id),u(Ce=>Ce.map(ft=>ft.id===Z?{...ft,can_see_drinks:!ft.can_see_drinks}:ft)))}async function ue(){if(!C.trim())return;const{error:Z}=await pe.from("friend_groups").insert({creator_id:i.id,name:C});Z?$e.error("Failed to create group"):($e.success("Group created!"),M(""),U())}const ye=[{id:"friends",label:"Friends",icon:jl},{id:"requests",label:"Requests",icon:px,badge:c.length},{id:"groups",label:"Groups",icon:jl},{id:"alerts",label:"Alerts",icon:L1,badge:h.filter(Z=>!Z.is_read).length}];return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Social"}),p.jsx("div",{className:"flex gap-1 mb-6 bg-gray-900 rounded-lg p-1",children:ye.map(({id:Z,label:De,badge:Ce})=>p.jsxs("button",{onClick:()=>r(Z),className:`flex-1 py-2 px-3 rounded-md text-xs font-medium transition-colors relative ${a===Z?"bg-gray-800 text-white":"text-gray-400 hover:text-gray-200"}`,children:[De,Ce>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-buzz-danger text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:Ce})]},Z))}),j?p.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading..."}):p.jsxs(p.Fragment,{children:[a==="friends"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsx("input",{type:"text",value:_,onChange:Z=>w(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&V(),placeholder:"Search by name...",className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-sm focus:outline-none focus:border-buzz-primary text-white"}),p.jsx("button",{onClick:V,className:"px-3 py-2 bg-buzz-primary text-gray-950 rounded-lg",children:p.jsx(ux,{size:16})})]}),x.length>0&&p.jsxs("div",{className:"mb-4 space-y-2",children:[p.jsx("p",{className:"text-xs text-gray-400",children:"Search Results"}),x.map(Z=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border border-gray-800",children:[p.jsx("span",{className:"text-sm",children:Z.display_name}),p.jsx("button",{onClick:()=>Y(Z.id),className:"text-xs px-3 py-1 bg-buzz-primary text-gray-950 rounded-md font-medium",children:"Add"})]},Z.id))]}),p.jsx("div",{className:"space-y-2",children:l.length===0?p.jsx("p",{className:"text-gray-400 text-sm text-center py-8",children:"No friends yet. Search for people to add!"}):l.map(Z=>p.jsx(TS,{friend:Z,canSeeDrinks:Z.can_see_drinks,onToggleVisibility:K},Z.id))})]}),a==="requests"&&p.jsx("div",{className:"space-y-2",children:c.length===0?p.jsx("p",{className:"text-gray-400 text-sm text-center py-8",children:"No pending requests"}):c.map(Z=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border border-gray-800",children:[p.jsx("span",{className:"text-sm",children:Z.requester?.display_name}),p.jsx("button",{onClick:()=>J(Z.id),className:"text-xs px-3 py-1 bg-buzz-safe text-white rounded-md font-medium",children:"Accept"})]},Z.id))}),a==="groups"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsx("input",{type:"text",value:C,onChange:Z=>M(Z.target.value),placeholder:"New group name...",className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-sm focus:outline-none focus:border-buzz-primary text-white"}),p.jsx("button",{onClick:ue,className:"px-4 py-2 bg-buzz-primary text-gray-950 rounded-lg text-sm font-medium",children:"Create"})]}),p.jsx("div",{className:"space-y-2",children:y.length===0?p.jsx("p",{className:"text-gray-400 text-sm text-center py-8",children:"No groups yet"}):y.map(Z=>p.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg border border-gray-800",children:[p.jsx("p",{className:"font-medium text-sm",children:Z.name}),p.jsxs("p",{className:"text-xs text-gray-400",children:[Z.friend_group_members?.length||0," members"]})]},Z.id))})]}),a==="alerts"&&p.jsx("div",{className:"space-y-2",children:h.length===0?p.jsx("p",{className:"text-gray-400 text-sm text-center py-8",children:"No alerts yet"}):h.map(Z=>p.jsxs("div",{className:`p-3 rounded-lg border ${Z.is_read?"bg-gray-900 border-gray-800":"bg-red-900/20 border-red-800"}`,children:[p.jsx("p",{className:"text-sm",children:Z.message}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(Z.created_at).toLocaleString()})]},Z.id))})]})]})}function jS({rank:i,name:a,stat:r,statLabel:l,isYou:u}){const c=(a||"??").split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2);return p.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${u?"bg-buzz-primary/10 border border-buzz-primary":"bg-gray-900 border border-gray-800"}`,children:[p.jsx("span",{className:"text-lg font-bold w-8 text-center text-gray-400",children:i}),p.jsx("div",{className:"w-9 h-9 rounded-full bg-buzz-primary/20 flex items-center justify-center text-buzz-primary font-semibold text-xs",children:c}),p.jsx("div",{className:"flex-1",children:p.jsxs("p",{className:"font-medium text-sm",children:[a," ",u&&p.jsx("span",{className:"text-buzz-primary text-xs",children:"(you)"})]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"font-bold text-sm",children:r}),p.jsx("p",{className:"text-xs text-gray-400",children:l})]})]})}function OS(){const{user:i,profile:a,updateProfile:r}=Dt(),[l,u]=E.useState("university"),[c,f]=E.useState([]),[h,g]=E.useState([]),[y,v]=E.useState(null),[_,w]=E.useState(!0);E.useEffect(()=>{x(),R()},[l,y,a]);async function x(){if(w(!0),l==="university"&&a?.university_name){const{data:T}=await pe.from("profiles").select("id, display_name, show_on_leaderboard").eq("university_name",a.university_name).eq("show_on_leaderboard",!0);if(T){const C=T.map(Y=>Y.id),{data:M}=await pe.from("drink_sessions").select("user_id").in("user_id",C).eq("status","completed"),U=(M||[]).reduce((Y,J)=>(Y[J.user_id]=(Y[J.user_id]||0)+1,Y),{}),V=T.map(Y=>({...Y,sessions:U[Y.id]||0})).sort((Y,J)=>J.sessions-Y.sessions);f(V)}}else if(l==="group"&&y){const{data:T}=await pe.from("friend_group_members").select("user_id, profiles:profiles!friend_group_members_user_id_fkey(id, display_name)").eq("group_id",y);if(T){const C=T.map(Y=>Y.user_id),{data:M}=await pe.from("drink_sessions").select("user_id").in("user_id",C).eq("status","completed"),U=(M||[]).reduce((Y,J)=>(Y[J.user_id]=(Y[J.user_id]||0)+1,Y),{}),V=T.map(Y=>({id:Y.user_id,display_name:Y.profiles?.display_name||"Unknown",sessions:U[Y.user_id]||0})).sort((Y,J)=>J.sessions-Y.sessions);f(V)}}else f([]);w(!1)}async function R(){const{data:T}=await pe.from("friend_group_members").select("group_id, friend_groups!inner(id, name)").eq("user_id",i.id);g(T?.map(C=>C.friend_groups)||[])}async function j(){const T=!a?.show_on_leaderboard;await r({show_on_leaderboard:T})}return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(Ty,{className:"text-buzz-primary",size:24}),p.jsx("h1",{className:"text-2xl font-bold",children:"Leaderboard"})]}),p.jsxs("div",{className:"flex items-center justify-between mb-6 p-3 bg-gray-900 rounded-lg border border-gray-800",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Show on leaderboard"}),p.jsx("p",{className:"text-xs text-gray-400",children:"Others can see your session count"})]}),p.jsx("button",{onClick:j,className:`w-12 h-6 rounded-full transition-colors relative ${a?.show_on_leaderboard?"bg-buzz-primary":"bg-gray-700"}`,children:p.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${a?.show_on_leaderboard?"translate-x-6":"translate-x-0.5"}`})})]}),p.jsxs("div",{className:"flex gap-1 mb-6 bg-gray-900 rounded-lg p-1",children:[p.jsx("button",{onClick:()=>u("university"),className:`flex-1 py-2 rounded-md text-sm font-medium transition-colors ${l==="university"?"bg-gray-800 text-white":"text-gray-400"}`,children:"University"}),p.jsx("button",{onClick:()=>u("group"),className:`flex-1 py-2 rounded-md text-sm font-medium transition-colors ${l==="group"?"bg-gray-800 text-white":"text-gray-400"}`,children:"Groups"})]}),l==="group"&&p.jsx("div",{className:"mb-4",children:p.jsxs("select",{value:y||"",onChange:T=>v(T.target.value||null),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg text-sm text-white",children:[p.jsx("option",{value:"",children:"Select a group"}),h.map(T=>p.jsx("option",{value:T.id,children:T.name},T.id))]})}),_?p.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading..."}):c.length===0?p.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:l==="university"&&!a?.university_name?"Set your university in Profile to see the leaderboard.":l==="group"&&!y?"Select a group to see rankings.":"No entries yet. Be the first!"}):p.jsx("div",{className:"space-y-2",children:c.map((T,C)=>p.jsx(jS,{rank:C+1,name:T.display_name,stat:T.sessions,statLabel:"sessions",isYou:T.id===i.id},T.id))}),p.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"Ranked by total sessions completed. Drink responsibly."})]})}function RS(){const{profile:i,signOut:a,updateProfile:r}=Dt(),[l,u]=E.useState(i?.display_name||""),[c,f]=E.useState(i?.biological_gender||""),[h,g]=E.useState(i?.height_inches?Math.floor(i.height_inches/12).toString():""),[y,v]=E.useState(i?.height_inches?(i.height_inches%12).toString():""),[_,w]=E.useState(i?.weight_lbs?.toString()||""),[x,R]=E.useState(i?.university_name||""),[j,T]=E.useState(i?.personal_drink_limit?.toString()||""),[C,M]=E.useState(!1);async function U(){M(!0);const V=parseInt(h)*12+parseInt(y||0),Y=parseInt(_),J=Rl(Y,c),{error:K}=await r({display_name:l,biological_gender:c,height_inches:V,weight_lbs:Y,university_name:x||null,personal_drink_limit:j?parseInt(j):null,calculated_low_limit:J.low,calculated_med_limit:J.med,calculated_high_limit:J.high});M(!1),K?$e.error("Failed to save"):$e.success("Profile updated!")}return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Profile"}),p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Display Name"}),p.jsx("input",{type:"text",value:l,onChange:V=>u(V.target.value),className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Biological Gender"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:["male","female"].map(V=>p.jsx("button",{type:"button",onClick:()=>f(V),className:`py-3 rounded-lg border capitalize font-medium transition-colors ${c===V?"border-buzz-primary bg-buzz-primary/10 text-buzz-primary":"border-gray-700 bg-gray-900 text-gray-300 hover:border-gray-500"}`,children:V},V))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Height"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("input",{type:"number",value:h,onChange:V=>g(V.target.value),min:"3",max:"8",placeholder:"Feet",className:"flex-1 px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"}),p.jsx("input",{type:"number",value:y,onChange:V=>v(V.target.value),min:"0",max:"11",placeholder:"Inches",className:"flex-1 px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Weight (lbs)"}),p.jsx("input",{type:"number",value:_,onChange:V=>w(V.target.value),min:"80",max:"500",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"University"}),p.jsx("input",{type:"text",value:x,onChange:V=>R(V.target.value),placeholder:"e.g. State University",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Personal Drink Goal (optional)"}),p.jsx("input",{type:"number",value:j,onChange:V=>T(V.target.value),min:"1",max:"20",placeholder:"Max drinks per night",className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:border-buzz-primary text-white"}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set your own limit regardless of calculated values"})]}),i&&p.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[p.jsx("h3",{className:"text-sm font-medium mb-3",children:"Your Calculated Limits"}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-buzz-safe",children:"Low"}),p.jsxs("span",{children:[i.calculated_low_limit," drinks"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-buzz-primary",children:"Medium"}),p.jsxs("span",{children:[i.calculated_med_limit," drinks"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-buzz-danger",children:"High"}),p.jsxs("span",{children:[i.calculated_high_limit," drinks"]})]})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Calibration: ",i.calibration_count,"/3 sessions completed"]})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border border-gray-800",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Show on Leaderboard"}),p.jsx("p",{className:"text-xs text-gray-400",children:"Visible on university rankings"})]}),p.jsx("button",{onClick:async()=>{await r({show_on_leaderboard:!i?.show_on_leaderboard})},className:`w-12 h-6 rounded-full transition-colors relative ${i?.show_on_leaderboard?"bg-buzz-primary":"bg-gray-700"}`,children:p.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${i?.show_on_leaderboard?"translate-x-6":"translate-x-0.5"}`})})]}),p.jsxs("button",{onClick:U,disabled:C,className:"w-full py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[p.jsx(lx,{size:18}),C?"Saving...":"Save Changes"]}),p.jsxs("button",{onClick:a,className:"w-full py-3 border border-gray-600 text-gray-400 rounded-lg hover:border-gray-400 hover:text-gray-200 transition-colors flex items-center justify-center gap-2",children:[p.jsx(nx,{size:18}),"Log Out"]})]})]})}function NS(i,a,r,l){const u=r==="female"?140/a:180/a,c=i*u,f=l>0?Math.min(2,i/l):1,h=c*(.7+.3*f);return h<3?{severity:"none",message:"You should feel fine! Stay hydrated just in case."}:h<5?{severity:"mild",message:"Mild: slight headache possible. Drink water before bed."}:h<8?{severity:"moderate",message:"Moderate: expect headache, fatigue, nausea. Hydrate well!"}:{severity:"severe",message:"Severe: rough morning ahead. Water, electrolytes, rest."}}function CS(i){return{none:"text-buzz-safe",mild:"text-buzz-primary",moderate:"text-buzz-warning",severe:"text-buzz-danger"}[i]||"text-gray-400"}function kS(){const{sessionId:i}=tb(),{profile:a}=Dt(),[r,l]=E.useState(null),[u,c]=E.useState([]),[f,h]=E.useState(!0);if(E.useEffect(()=>{async function R(){const[{data:j},{data:T}]=await Promise.all([pe.from("drink_sessions").select("*").eq("id",i).single(),pe.from("drink_logs").select("*").eq("session_id",i).order("logged_at",{ascending:!0})]);l(j),c(T||[]),h(!1)}R()},[i]),f)return p.jsx("div",{className:"flex items-center justify-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-buzz-primary"})});if(!r)return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto text-center",children:[p.jsx("p",{className:"text-gray-400",children:"Session not found."}),p.jsx(rn,{to:"/dashboard",className:"text-buzz-primary mt-4 inline-block",children:"Back to Dashboard"})]});const g=new Date(r.started_at),v=((r.ended_at?new Date(r.ended_at):new Date)-g)/36e5,_=r.total_standard_drinks||0,w=u.reduce((R,j)=>(R[j.drink_type]=(R[j.drink_type]||0)+1,R),{}),x=a?NS(_,a.weight_lbs,a.biological_gender,v):null;return p.jsxs("div",{className:"pb-20 px-4 pt-6 max-w-lg mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Night Recap"}),p.jsx("p",{className:"text-gray-400 text-sm mb-6",children:g.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[p.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[p.jsx(Kr,{size:18,className:"text-buzz-primary mb-2"}),p.jsx("p",{className:"text-2xl font-bold",children:_}),p.jsx("p",{className:"text-xs text-gray-400",children:"Total drinks"})]}),p.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[p.jsx(Ey,{size:18,className:"text-buzz-warning mb-2"}),p.jsx("p",{className:"text-2xl font-bold",children:(r.peak_bac||0).toFixed(3)}),p.jsx("p",{className:"text-xs text-gray-400",children:"Peak BAC"})]}),p.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[p.jsx(K1,{size:18,className:"text-buzz-primary mb-2"}),p.jsxs("p",{className:"text-2xl font-bold",children:[v.toFixed(1),"h"]}),p.jsx("p",{className:"text-xs text-gray-400",children:"Duration"})]}),p.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[p.jsx(X1,{size:18,className:"text-blue-400 mb-2"}),p.jsx("p",{className:"text-2xl font-bold",children:u.length}),p.jsx("p",{className:"text-xs text-gray-400",children:"Drinks logged"})]})]}),Object.keys(w).length>0&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-sm text-gray-400 uppercase tracking-wide mb-3",children:"Breakdown"}),p.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-800 divide-y divide-gray-800",children:Object.entries(w).map(([R,j])=>p.jsxs("div",{className:"px-4 py-3 flex justify-between",children:[p.jsx("span",{className:"capitalize",children:R}),p.jsx("span",{className:"font-semibold",children:j})]},R))})]}),x&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-sm text-gray-400 uppercase tracking-wide mb-3",children:"Morning Forecast"}),p.jsxs("div",{className:"bg-gray-900 rounded-xl p-5 border border-gray-800",children:[p.jsx("p",{className:`font-medium capitalize mb-1 ${CS(x.severity)}`,children:x.severity==="none"?"Feeling Good":`${x.severity} hangover`}),p.jsx("p",{className:"text-sm text-gray-300",children:x.message})]})]}),p.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800 text-center mb-6",children:[p.jsx("p",{className:"text-buzz-warning text-sm font-medium mb-1",children:"Drink Responsibly"}),p.jsx("p",{className:"text-xs text-gray-400",children:"Remember to hydrate, eat, and never drink and drive. If you need help, call SAMHSA at 1-800-662-4357."})]}),p.jsx(rn,{to:"/dashboard",className:"block text-center w-full py-3 bg-buzz-primary text-gray-950 font-semibold rounded-lg hover:bg-amber-400 transition-colors",children:"Back to Dashboard"})]})}function zS(){const{user:i,loading:a}=Dt();return a?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-950",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-buzz-primary"})}):p.jsxs("div",{className:"min-h-screen bg-gray-950 text-white",children:[i&&p.jsx(Sx,{}),p.jsxs(yb,{children:[p.jsx(Nt,{path:"/",element:i?p.jsx(zn,{to:"/dashboard",replace:!0}):p.jsx(Tx,{})}),p.jsx(Nt,{path:"/login",element:p.jsx(mS,{})}),p.jsx(Nt,{path:"/signup",element:p.jsx(gS,{})}),p.jsx(Nt,{path:"/onboarding",element:p.jsx(pS,{})}),p.jsx(Nt,{path:"/dashboard",element:p.jsx(On,{children:p.jsx(vS,{})})}),p.jsx(Nt,{path:"/track",element:p.jsx(On,{children:p.jsx(SS,{})})}),p.jsx(Nt,{path:"/calibration",element:p.jsx(On,{children:p.jsx(ES,{})})}),p.jsx(Nt,{path:"/social",element:p.jsx(On,{children:p.jsx(AS,{})})}),p.jsx(Nt,{path:"/leaderboard",element:p.jsx(On,{children:p.jsx(OS,{})})}),p.jsx(Nt,{path:"/profile",element:p.jsx(On,{children:p.jsx(RS,{})})}),p.jsx(Nt,{path:"/session/:sessionId",element:p.jsx(On,{children:p.jsx(kS,{})})}),p.jsx(Nt,{path:"*",element:p.jsx(zn,{to:"/",replace:!0})})]})]})}vv.createRoot(document.getElementById("root")).render(p.jsx(cv.StrictMode,{children:p.jsx($b,{children:p.jsxs(O1,{children:[p.jsx(zS,{}),p.jsx(hS,{position:"top-right"})]})})}));
